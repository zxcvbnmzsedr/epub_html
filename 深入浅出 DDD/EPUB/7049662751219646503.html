
        <html lang="en">
        <head>
        <meta charset="UTF-8"/>
        </head>
        <body>
        <div><div class="markdown-body">
    <h1>&#22914;&#20309;&#33853;&#22320;&#38450;&#33104;&#24605;&#24819;&#65311;</h1>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="style/style.css" type="text/css">

<div class="markdown-body">
    <p>
 &#25105;&#20204;&#19968;&#30452;&#22312;&#23567;&#20876;&#20013;&#24378;&#35843;DDD&#30340;&#20869;&#32858;&#19982;&#35299;&#32806;&#30340;&#26680;&#24515;&#24605;&#24819;&#12290;&#37027;&#20040;DDD&#20013;&#38500;&#20102;&#21010;&#20998;&#22909;&#21508;&#33258;&#30340;&#38480;&#30028;&#23569;&#19979;&#25991;&#65292;&#24314;&#31435;&#39046;&#22495;&#27169;&#22411;&#65292;&#36824;&#26377;&#20160;&#20040;&#25805;&#20316;&#26159;&#29992;&#26469;&#35299;&#32806;&#30340;&#21527;&#65311;&#27604;&#22914;&#65292;&#22312;&#21069;&#38754;&#8220;DDD&#30340;&#25112;&#30053;&#35774;&#35745;&#8221;&#30340;&#19978;&#19979;&#25991;&#26144;&#23556;&#22270;&#20013;&#30340;&#38450;&#33104;&#23618;&#23601;&#26159;DDD&#30340;&#35299;&#32806;&#24605;&#24819;&#30340;&#19968;&#31181;&#20307;&#29616;&#12290;
</p>
<p>
 <strong>
  &#19981;&#21516;&#38480;&#30028;&#19978;&#19979;&#25991;&#20043;&#38388;&#30340;&#21327;&#20316;&#36890;&#36807;&#38450;&#33104;&#30340;&#24605;&#24819;&#26469;&#29420;&#31435;&#21508;&#33258;&#39046;&#22495;&#30340;&#36923;&#36753;&#12290;
 </strong>
</p>
<p>
 &#26412;&#25991;&#23558;&#20197;&#38450;&#33104;&#20026;&#26680;&#24515;&#65292;&#20026;&#20320;&#35762;&#35299; DDD &#20013;&#22914;&#20309;&#26469;&#33853;&#22320;&#38450;&#33104;&#24605;&#24819;&#12290;
</p>
<h2>
 &#19968;&#12289;&#38450;&#33104;&#26159;&#20160;&#20040;
</h2>
<p>
 &#26089;&#22312;&#26412;&#25991;&#20043;&#21069;&#65292;&#25105;&#20204;&#23601;&#24050;&#32463;&#25509;&#35302;&#21040;&#20102; DDD &#20013;&#30340;&#38450;&#33104;&#24605;&#24819;&#12290;
</p>
<p>
 &#12298;&#20998;&#23618;&#35814;&#35299;&#65306;&#22914;&#20309;&#26126;&#30830;&#21508;&#23618;&#32423;&#30340;&#20351;&#29992;&#22330;&#26223;&#19982;&#26041;&#24335;&#12299;&#19968;&#25991;&#20013;&#65292;&#25105;&#20204;&#36890;&#36807;&#24314;&#31435;&#39046;&#22495;&#26381;&#21153;&#12289;Interface&#12289;&#33021;&#21147;&#23618;&#30340;&#24418;&#24335;&#26469;&#38450;&#27490;&#20026;&#20102;&#23436;&#25104;&#21407;&#23376;&#21270;&#30340;&#19994;&#21153;&#36923;&#36753;&#32780;&#23548;&#33268;&#22806;&#37096;&#39046;&#22495;&#36923;&#36753;&#20837;&#20405;&#20540;&#26412;&#39046;&#22495;&#36923;&#36753;&#12290;&#24212;&#29992;&#26381;&#21153;&#23618;&#25105;&#20204;&#36890;&#36807;Command&#30340;to&#26041;&#27861;&#25110;&#32773;&#24037;&#21378;&#31867;&#30340;&#24418;&#24335;&#38450;&#33104;&#22806;&#37096;&#21442;&#25968;&#21464;&#21270;&#23545;&#20110;&#19994;&#21153;&#23618;&#32452;&#35013;&#32858;&#21512;&#30340;&#36923;&#36753;&#20405;&#20837;&#12290;
</p>
<p>
 &#12298;&#20107;&#20214;&#39537;&#21160;&#27169;&#22411;&#36393;&#22353;&#23454;&#36341;&#12299;&#19968;&#25991;&#20013;&#65292;&#25105;&#20204;&#36890;&#36807;&#24314;&#31435;&#20107;&#20214;&#39537;&#21160;&#27169;&#22411;&#26469;&#38548;&#31163;&#24212;&#29992;&#26381;&#21153;&#22312;&#32534;&#25490;&#21151;&#33021;&#28857;&#26102;&#65292;&#23631;&#34109;&#20102;&#38750;&#24403;&#21069;&#21151;&#33021;&#28857;&#26680;&#24515;&#36923;&#36753;&#19982;&#22806;&#37096;&#21151;&#33021;&#28857;&#36923;&#36753;&#30340;&#32806;&#21512;&#12290;
</p>
<p>
 &#12298;&#20179;&#20648;&#33853;&#22320;&#65306;&#20018;&#32852;&#25968;&#25454;&#27169;&#22411;&#19982;&#39046;&#22495;&#27169;&#22411;&#30340;&#26725;&#26753;&#12299;&#19968;&#25991;&#20013;&#65292;&#25105;&#20204;&#36890;&#36807;&#26500;&#24314;&#20179;&#20648;&#23618;&#30340;&#24418;&#24335;&#26469;&#38548;&#32477;&#20102;&#39046;&#22495;&#27169;&#22411;&#19982;&#25968;&#25454;&#27169;&#22411;&#30340;&#20043;&#38388;&#32806;&#21512;&#12290;&#35753;&#39046;&#22495;&#27169;&#22411;&#21487;&#20197;&#33258;&#30001;&#22320;&#26681;&#25454;&#33258;&#24049;&#30340;&#19994;&#21153;&#36793;&#30028;&#36827;&#34892;&#36923;&#36753;&#22788;&#29702;&#65292;&#32780;&#19981;&#29992;&#32771;&#34385;&#39046;&#22495;&#27169;&#22411;&#30340;&#23384;&#20648;&#26041;&#24335;&#19982;&#23384;&#20648;&#20171;&#36136;&#12290;
</p>
<p>
 &#37027;&#20040;&#26681;&#25454;&#19978;&#38754;&#30340;&#19968;&#20123;&#27010;&#24565;&#19982;&#25805;&#20316;&#65292;&#22914;&#20309;&#23545;&#38450;&#33104;&#19979;&#19968;&#20010;&#23450;&#20041;&#21602;&#65311;
</p>
<p>
 <strong>
  &#19981;&#21516;&#38480;&#30028;&#19978;&#19979;&#25991;&#20043;&#38388;&#22914;&#26524;&#38656;&#35201;&#36827;&#34892;&#19994;&#21153;&#24448;&#26469;&#65292;&#23427;&#20204;&#24182;&#19981;&#20250;&#30452;&#25509;&#36890;&#36807; RPC &#31561;&#26041;&#24335;&#36827;&#34892;&#36890;&#20449;&#65292;&#32780;&#26159;&#36890;&#36807;&#19968;&#20010;&#20013;&#38388;&#26041;&#25110;&#32773;&#19968;&#20010;&#32422;&#23450;&#22909;&#30340;&#35268;&#21017;&#26469;&#36827;&#34892;&#20114;&#30456;&#36890;&#20449;&#12290;&#19978;&#19979;&#25991;&#26144;&#23556;&#22270;&#20013;&#30340;&#24320;&#25918;&#20027;&#26426;&#26381;&#21153;&#12289;&#21457;&#24067;&#35821;&#35328;&#20197;&#21450;&#38450;&#33104;&#23618;&#23601;&#26159;&#38450;&#33104;&#24605;&#24819;&#30340;&#20307;&#29616;&#12290;
 </strong>
</p>
<h2>
 &#20108;&#12289;&#22806;&#37096;&#31995;&#32479;&#30340;&#38450;&#33104;
</h2>
<p>
 &#21069;&#38754;&#20960;&#31687;&#25991;&#31456;&#20013;&#25105;&#20204;&#25152;&#25552;&#21450;&#30340;&#37027;&#20123;&#38450;&#33104;&#25163;&#27573;&#37117;&#26159;&#20027;&#35201;&#38024;&#23545;&#31995;&#32479;&#20869;&#19981;&#21516;&#38480;&#30028;&#19978;&#19979;&#25991;&#20043;&#38388;&#30340;&#12290;&#31995;&#32479;&#20869;&#19994;&#21153;&#36793;&#30028;&#30340;&#21487;&#25511;&#24615;&#26159;&#27604;&#36739;&#39640;&#30340;&#65292;&#22240;&#20026;&#36825;&#20010;&#31995;&#32479;&#26159;&#24403;&#21069;&#22242;&#38431;&#32500;&#25252;&#30340;&#65292;&#19968;&#26086;&#20986;&#29616;&#20102;&#31361;&#30772;&#19994;&#21153;&#36793;&#30028;&#30340;&#25805;&#20316;&#65292;&#25105;&#20204;&#21487;&#20197;&#31435;&#39532;&#36827;&#34892;&#20195;&#30721;&#35843;&#25972;&#12290;
</p>
<p>
 <strong>
  &#20294;&#26159;&#22914;&#26524;&#25105;&#20204;&#22312;&#24212;&#29992;&#26381;&#21153;&#32534;&#25490;&#19994;&#21153;&#36923;&#36753;&#38656;&#35201;&#22806;&#37096;&#26381;&#21153;&#25152;&#25552;&#20379;&#30340;&#33021;&#21147;&#21602;&#65311;
 </strong>
</p>
<p>
 &#26412;&#31995;&#32479;&#25105;&#20204;&#20351;&#29992;DDD&#36827;&#34892;&#20102;&#24320;&#21457;&#65292;&#19994;&#21153;&#36793;&#30028;&#38548;&#31163;&#28165;&#26224;&#65292;&#25509;&#21475;&#24456;&#35268;&#33539;&#12290;&#20294;&#26159;&#25105;&#20204;&#26080;&#27861;&#25511;&#21046;&#22806;&#37096;&#26381;&#21153;&#30340;&#24320;&#21457;&#26694;&#26550;&#12290;&#27604;&#22914;&#65292;&#25105;&#20204;&#29616;&#22312;&#38656;&#35201;&#20381;&#36182;&#21333;&#20301;&#31649;&#29702;&#30340;&#26381;&#21153;&#26469;&#33719;&#21462;&#21333;&#20301;&#20449;&#24687;&#65292;&#24494;&#26381;&#21153;&#20307;&#31995;&#19979;&#65292;&#25105;&#20204;&#36890;&#24120;&#26159;&#20351;&#29992;RPC&#36827;&#34892;&#36890;&#20449;&#30340;&#12290;
</p>
<p>
 &#20195;&#30721;&#31034;&#20363;&#22914;&#19979;&#65306;
</p>
<pre><code>@Autowired
UnitApi unitApi;
&#8203;
@Override
@Transactional(rollbackFor = Exception.class)
public void create(CreateUserCommand command){
 &#160; &#160;
 &#160;  //&#30465;&#30053;&#19981;&#24517;&#35201;&#30340;&#36923;&#36753;
 &#160; &#160;
 &#160;  UnitDTO unit = unitApi.getByUnitId(command.getUnitId());
 &#160;  log.info(unit.getName());
 &#160; &#160;
 &#160;  //&#30465;&#30053;&#19981;&#24517;&#35201;&#30340;&#36923;&#36753;
}
</code></pre>
<p>
 &#25105;&#20204;&#22312;MVC&#24494;&#26381;&#21153;&#20307;&#31995;&#19979;&#20351;&#29992;RPC&#37117;&#26159;&#36825;&#20040;&#20010;&#25805;&#20316;&#65306;Service&#20013;&#30452;&#25509;&#35843;&#29992;&#21333;&#20301;&#26381;&#21153;RPC&#25509;&#21475;&#12290;
</p>
<p>
 &#36825;&#27573;&#20195;&#30721;&#20045;&#19968;&#30475;&#27809;&#20160;&#20040;&#38382;&#39064;&#65292;&#20294;&#26159;&#20320;&#30896;&#21040;&#36807;&#36825;&#31181;&#24773;&#20917;&#27809;&#26377;&#65311;
</p>
<p>
 &#21333;&#20301;&#26381;&#21153;&#20316;&#20026;&#19978;&#28216;&#31995;&#32479;&#19994;&#21153;&#36923;&#36753;&#21464;&#21160;&#65292;&#23548;&#33268;&#20102;&#25509;&#21475;&#26041;&#27861;&#25110;&#32773;&#20986;&#20837;&#21442;&#20462;&#25913;&#12290;&#36825;&#26102;&#23545;&#20110;&#19979;&#28216;&#31995;&#32479;&#26469;&#35828;&#65292;&#25105;&#20204;&#23545;&#24212;&#20381;&#36182;&#29992;&#25143;&#26381;&#21153;&#30340;&#25509;&#21475;&#37117;&#38656;&#35201;&#36827;&#34892;&#26356;&#25442;&#65292;&#20986;&#20837;&#21442;&#37117;&#38656;&#35201;&#36827;&#34892;&#35843;&#25972;&#12290;&#36825;&#20010;&#26041;&#27861;&#24341;&#29992;&#21040;&#30340;&#22320;&#26041;&#23569;&#36824;&#22909;&#35828;&#65292;&#22914;&#26524;&#26159;&#22522;&#30784;&#20449;&#24687;&#33719;&#21462;&#25509;&#21475;&#65292;&#26041;&#27861;&#36923;&#36753;&#25955;&#33853;&#22312;&#21508;&#20010;&#24212;&#29992;&#26381;&#21153;&#20013;&#12290;&#37027;&#20040;&#25105;&#24819;&#65292;&#19978;&#28216;&#30740;&#21457;&#20154;&#21592;&#36890;&#30693;&#20320;&#35201;&#20462;&#25913;&#30340;&#26102;&#20505;&#65292;&#20320;&#19968;&#23450;&#24819;&#32473;&#20182;&#37030;&#37030;&#26469;&#20004;&#25331;&#65292;&#26368;&#21518;&#20877;&#33510;&#36924;&#21704;&#21704;&#22320;&#19968;&#20010;&#20010;&#20851;&#32852;&#28857;&#21435;&#20462;&#25913;&#12290;
</p>
<p>
 <strong>
  &#25105;&#20204;&#26803;&#29702;&#19968;&#19979;&#24605;&#36335;&#65292;&#20986;&#29616;&#36825;&#20010;&#38382;&#39064;&#24402;&#26681;&#21040;&#24213;&#30340;&#21407;&#22240;&#26377;&#20004;&#20010;&#12290;
 </strong>
</p>
<ol>
 <li>
  &#19978;&#28216;&#26381;&#21153;&#25509;&#21475;&#36923;&#36753;&#21464;&#21160;&#65292;&#30772;&#22351;&#20102;&#35268;&#32422;&#65307;
 </li>
 <li>
  &#26412;&#31995;&#32479;&#36807;&#20998;&#20449;&#20219;&#19978;&#28216;&#26381;&#21153;&#25509;&#21475;&#65292;&#23558;&#25509;&#21475;&#35843;&#29992;&#36923;&#36753;&#25955;&#33853;&#22312;&#31995;&#32479;&#21508;&#22788;&#12290;
 </li>
</ol>
<p>
 &#21482;&#35201;&#30772;&#22351;&#19978;&#36848;&#20219;&#24847;&#19968;&#20010;&#26465;&#20214;&#25105;&#20204;&#23601;&#33021;&#36991;&#20813;&#36923;&#36753;&#20381;&#36182;&#30340;&#38382;&#39064;&#12290;
</p>
<ol>
 <li>
  <p>
   <strong>
    &#22312;&#19978;&#28216;&#20570;&#25991;&#31456;
   </strong>
   &#12290;&#26368;&#31616;&#21333;&#30340;&#26041;&#24335;&#23601;&#26159;&#19978;&#28216;&#31995;&#32479;&#20860;&#23481;&#21382;&#21490;&#29256;&#26412;&#25509;&#21475;&#65292;&#36825;&#20010;&#26159;&#19968;&#33324;&#19978;&#28216;&#26381;&#21153;&#24320;&#21457;&#22242;&#38431;&#37117;&#20250;&#36981;&#23432;&#30340;&#35268;&#32422;&#12290;&#20294;&#26159;&#36825;&#31181;&#38480;&#21046;&#26159;&#20154;&#20026;&#32422;&#23450;&#30340;&#65292;Spring&#36825;&#31181;&#26694;&#26550;&#22312;&#29256;&#26412;&#36845;&#20195;&#30340;&#36807;&#31243;&#20013;&#37117;&#26377;&#21487;&#33021;&#21464;&#25442;&#19968;&#20123;API&#30340;&#20351;&#29992;&#26041;&#24335;&#65292;&#26356;&#21035;&#35828;&#19978;&#28216;&#19994;&#21153;&#22242;&#38431;&#30340;&#31995;&#32479;&#20102;&#12290;&#24182;&#19988;&#25105;&#20204;&#29616;&#22312;&#20381;&#36182;&#30340;&#26159;&#21333;&#20301;&#26381;&#21153;&#30340;&#33021;&#21147;&#65292;&#22914;&#26524;&#21518;&#32493;&#22823;&#30340;&#19994;&#21153;&#26550;&#26500;&#35843;&#25972;&#65292;&#27809;&#26377;&#20102;&#21333;&#20301;&#26381;&#21153;&#65292;&#21464;&#25104;&#20102;&#20013;&#21488;&#12290;&#19981;&#21487;&#33021;&#35753;&#20013;&#21488;&#25552;&#20379;&#36825;&#26679;&#24378;&#19994;&#21153;&#23646;&#24615;&#30340;&#25509;&#21475;&#65292;&#25152;&#20197;&#25442;&#27748;&#19981;&#25442;&#33647;&#65292;&#26412;&#36136;&#19978;&#26412;&#31995;&#32479;&#36824;&#26159;&#23384;&#22312;&#36825;&#20010;&#38544;&#24739;&#12290;
  </p>
 </li>
 <li>
  <p>
   <strong>
    &#22312;&#26412;&#31995;&#32479;&#20570;&#25991;&#31456;
   </strong>
   &#12290;&#20449;&#21035;&#20154;&#19981;&#22914;&#20449;&#33258;&#24049;&#12290;&#19979;&#28216;&#20986;&#29616;&#38382;&#39064;&#21518;&#32500;&#25252;&#22256;&#38590;&#30340;&#21407;&#22240;&#22312;&#20110;&#25509;&#21475;&#36923;&#36753;&#25955;&#33853;&#22312;&#30340;&#21508;&#20010;&#24212;&#29992;&#26381;&#21153;&#23618;&#12290;
  </p>
 </li>
</ol>
<p>
 &#37027;&#20040;&#25105;&#20204;&#26159;&#19981;&#26159;&#21487;&#20197;&#25226;&#36825;&#20010;&#35843;&#29992;&#26041;&#35268;&#25972;&#21040;&#19968;&#36215;&#21602;&#65311;&#25214;&#19968;&#20010;&#20013;&#38388;&#26041;&#21435;&#35843;&#29992;&#19978;&#28216;&#31995;&#32479;&#25509;&#21475;&#65292;&#31995;&#32479;&#20869;&#20381;&#36182;&#20013;&#38388;&#26041;&#23601;&#22909;&#20102;&#12290;&#22914;&#26524;&#19978;&#28216;&#25509;&#21475;&#21464;&#21270;&#25110;&#32773;&#25552;&#20379;&#33021;&#21147;&#30340;&#26381;&#21153;&#21464;&#21270;&#65292;&#25105;&#20204;&#20063;&#21482;&#38656;&#35201;&#20462;&#25913;&#20013;&#38388;&#26041;&#23601;&#22909;&#20102;&#12290;
</p>
<p>
 &#22312;&#26412;&#31995;&#32479;&#20013;&#36825;&#31181;&#20570;&#25991;&#31456;&#30340;&#26041;&#24335;&#25105;&#20204;&#31216;&#20026;
 <code>
  &#38450;&#33104;&#23618;
 </code>
 &#12290;
</p>
<p>
 &#25105;&#20204;&#35748;&#20026;&#19968;&#20999;&#22806;&#37096;&#26381;&#21153;&#25152;&#25552;&#20379;&#30340;&#33021;&#21147;&#25110;&#32773;&#27169;&#22411;&#37117;&#26159;&#19981;&#21487;&#38752;&#30340;&#65292;&#25105;&#20204;&#22914;&#26524;&#35201;&#21435;&#20351;&#29992;&#36825;&#20010;&#33021;&#21147;&#65292;&#24212;&#35813;&#20381;&#36182;&#26412;&#31995;&#32479;&#20869;&#30340;&#36866;&#37197;&#33021;&#21147;&#25509;&#21475;&#65292;&#30001;&#25509;&#21475;&#23454;&#29616;&#31867;&#21435;&#20381;&#36182;&#22806;&#37096;&#26381;&#21153;&#19982;&#27169;&#22411;&#12290;
</p>
<p>
 &#36825;&#26679;&#25105;&#20204;&#30340;&#20379;&#27714;&#20851;&#31995;&#23601;&#20174;
 <code>
  &#21035;&#20154;&#26377;&#20160;&#20040;&#25105;&#20204;&#23601;&#29992;&#20160;&#20040;
 </code>
 &#21464;&#25104;&#20102;
 <code>
  &#25105;&#20204;&#29992;&#20160;&#20040;&#21035;&#20154;&#25552;&#20379;&#20160;&#20040;
 </code>
 &#65292;&#22914;&#19979;&#22270;&#25152;&#31034;&#65306;
</p>
<p>
 <img alt="image-20211216124013521.png" src="EPUB/1d167c3e-17d9-11ed-92a9-acde48001122">
</p>
<h2>
 &#19977;&#12289;&#33853;&#22320;&#38450;&#33104;&#23618;
</h2>
<p>
 <strong>
  &#38450;&#33104;&#23618;&#21448;&#31216;&#36866;&#37197;&#23618;&#65292;&#29992;&#20110;&#36716;&#20041;&#20869;&#37096;&#19978;&#19979;&#25991;&#20381;&#36182;&#30340;&#22806;&#37096;&#19978;&#19979;&#25991;&#12290;
 </strong>
</p>
<p>
 &#37027;&#20040;&#22312;DDD&#20013;&#25105;&#20204;&#22914;&#20309;&#21435;&#33853;&#22320;&#21602;&#65311;
</p>
<p>
 &#19978;&#38754;&#35828;&#21040;&#31995;&#32479;&#20869;&#23545;&#20110;&#22806;&#37096;&#26381;&#21153;&#30340;&#20381;&#36182;&#36890;&#36807;&#25509;&#21475;&#30340;&#26041;&#24335;&#65292;&#20026;&#20160;&#20040;&#36890;&#36807;&#25509;&#21475;&#65311;&#22240;&#20026;&#25509;&#21475;&#26159;&#19968;&#31181;&#25277;&#35937;&#35268;&#33539;&#65292;&#36825;&#36319;DDD&#30340;&#20998;&#23618;&#24605;&#24819;&#26159;&#19968;&#33268;&#30340;&#65292;&#25105;&#20204;&#24212;&#35813;&#20381;&#36182;&#25277;&#35937;&#65292;&#30001;&#25277;&#35937;&#21435;&#20381;&#36182;&#32454;&#33410;&#12290;
</p>
<p>
 <strong>
  &#36825;&#20010;&#38450;&#33104;&#30340;&#25509;&#21475;&#24212;&#35813;&#25918;&#22312;&#21738;&#19968;&#23618;&#21602;&#65311;
 </strong>
</p>
<p>
 &#39318;&#20808;&#65292;&#32943;&#23450;&#19981;&#26159;&#22522;&#30784;&#35774;&#26045;&#23618;&#65292;&#23427;&#26159;&#22522;&#30784;&#33021;&#21147;&#25552;&#20379;&#26041;&#65292;&#25918;&#30340;&#24212;&#35813;&#26159;&#38450;&#33104;&#25509;&#21475;&#30340;&#23454;&#29616;&#12290;
</p>
<p>
 &#37027;&#24212;&#35813;&#25918;&#22312;&#24212;&#29992;&#23618;&#36824;&#26159;&#39046;&#22495;&#23618;&#21602;&#65311;
</p>
<p>
 &#25105;&#20064;&#24815;&#19982;&#25226;&#38450;&#33104;&#23618;&#30340;&#25509;&#21475;&#30475;&#25104;&#20844;&#20849;&#30340;&#33021;&#21147;&#25552;&#20379;&#26041;&#65292;&#23427;&#20204;&#19981;&#26159;&#20160;&#20040;&#29305;&#23450;&#30340;&#22806;&#37096;&#26381;&#21153;&#25552;&#20379;&#30340;&#36923;&#36753;&#65292;&#32780;&#26159;&#31995;&#32479;&#20869;&#20026;&#20102;&#23436;&#25104;&#21151;&#33021;&#28857;&#36923;&#36753;&#26412;&#36523;&#23601;&#23384;&#22312;&#30340;&#22522;&#30784;&#33021;&#21147;&#12290;
</p>
<p>
 <strong>
  &#37027;&#20040;&#65292;&#22522;&#30784;&#33021;&#21147;&#30340;&#25509;&#21475;&#24212;&#35813;&#34987;&#23450;&#20041;&#22312;&#21738;&#37324;&#21602;&#65311;&#32943;&#23450;&#26159;&#39046;&#22495;&#23618;&#20102;&#12290;
 </strong>
</p>
<p>
 &#19979;&#38754;&#25105;&#20204;&#26469;&#30475;&#19968;&#19979;
 <strong>
  &#26032;&#24314;&#29992;&#25143;&#20851;&#32852;&#21333;&#20301;&#26381;&#21153;&#25552;&#20379;&#30340;&#21333;&#20301;&#20449;&#24687;
 </strong>
 &#36923;&#36753;&#30340;&#38450;&#33104;&#20195;&#30721;&#31034;&#20363;&#12290;
</p>
<p>
 <strong>
  1. &#22312;&#39046;&#22495;&#23618;&#23450;&#20041;&#38450;&#33104;&#25509;&#21475;
 </strong>
</p>
<pre><code>/**
 * &#21333;&#20301;&#36866;&#37197;&#22120;
 *
 * @author baiyan
 */
public interface UnitAdapter extends Adapter {
&#8203;
 &#160;  /**
 &#160; &#160; * &#26681;&#25454;&#21333;&#20301;id&#33719;&#21462;&#21333;&#20301;&#20449;&#24687;
 &#160; &#160; *
 &#160; &#160; * @param unitId
 &#160; &#160; * @return
 &#160; &#160; */
 &#160;  UnitDTO byUnitId(Long unitId);
}
</code></pre>
<p>
 &#27880;&#24847;&#27492;&#22788;&#30340;UnitDTO&#24182;&#38750;&#21333;&#20301;&#26381;&#21153;RPC&#30340;&#36820;&#22238;&#25968;&#25454;&#32467;&#26500;&#65292;&#32780;&#26159;&#31995;&#32479;&#20869;&#26681;&#25454;&#19994;&#21153;&#36923;&#36753;&#23450;&#20041;&#30340;&#25105;&#20204;&#25152;&#38656;&#35201;&#30340;&#25968;&#25454;&#32467;&#26500;&#12290;
</p>
<p>
 <strong>
  2. &#22312;&#22522;&#30784;&#35774;&#26045;&#23618;&#23450;&#20041;&#38450;&#33104;&#25509;&#21475;&#23454;&#29616;&#31867;
 </strong>
</p>
<pre><code>@Component
public class UnitAdapterImpl implements UnitAdapter {
&#8203;
 &#160;  @Autowired
 &#160;  private UnitApi unitApi;
&#8203;
 &#160;  @Override
 &#160;  public UnitDTO byUnitId(Long unitId){
 &#160;      //&#35843;&#29992;&#21333;&#20301;&#26381;&#21153;&#33719;&#21462;&#21333;&#20301;&#20449;&#24687;&#65292;&#36820;&#22238;&#23383;&#27573;&#20551;&#35774;&#26377;10&#20010;
 &#160; &#160; &#160;  UnitInfoDTO byUnitId = UnitApi.getByUnitId(unitId);
 &#160; &#160; &#160;  ValidationUtil.isTrue(Objects.nonNull(byUnitId),"unit.is.not.exist");
 &#160; &#160; &#160;  //&#21482;&#38656;&#35201;&#19977;&#20010;&#23383;&#27573;
 &#160; &#160; &#160;  UnitDTO unitDTO = new UnitDTO();
 &#160; &#160; &#160;  //&#20165;&#20570;&#19977;&#20010;&#23383;&#27573;&#30340;&#26144;&#23556;
 &#160; &#160; &#160;  BeanUtils.copyProperties(byUnitId,unitDTO);
 &#160; &#160; &#160;  return unitDTO;
 &#160;  }
}
</code></pre>
<p>
 &#22312;&#22522;&#30784;&#35774;&#26045;&#20013;&#23454;&#29616;&#38450;&#33104;&#25509;&#21475;&#65292;&#23545;&#20110;&#22806;&#37096;&#26381;&#21153;&#25552;&#20379;&#30340;&#25509;&#21475;&#33021;&#21147;&#20570;&#36866;&#37197;&#65292;&#20165;&#21462;&#25105;&#20204;&#33258;&#24049;&#25152;&#35201;&#30340;&#20960;&#20010;&#23383;&#27573;&#12290;&#21518;&#32493;&#21738;&#24597;&#22806;&#37096;&#26381;&#21153;&#25509;&#21475;&#21464;&#26356;&#65292;&#29978;&#33267;&#26381;&#21153;&#21464;&#26356;&#65292;&#37117;&#21482;&#38656;&#35201;&#20462;&#25913;&#27492;&#22788;&#36923;&#36753;&#21363;&#21487;&#12290;
</p>
<p>
 <strong>
  3. &#24212;&#29992;&#26381;&#21153;&#20351;&#29992;
 </strong>
</p>
<pre><code>@Autowired
UnitAdapter UnitAdapter;
&#8203;
@Override
@Transactional(rollbackFor = Exception.class)
public void create(CreateUserCommand command){
 &#160; &#160;
 &#160;  //&#30465;&#30053;&#19981;&#24517;&#35201;&#30340;&#36923;&#36753;
 &#160; &#160;
 &#160;  UnitDTO unit = UnitAdapter.byUnitId(command.getUnitId());
 &#160;  log.info(unit.getName());
 &#160; &#160;
 &#160;  //&#30465;&#30053;&#19981;&#24517;&#35201;&#30340;&#36923;&#36753;
}
</code></pre>
<p>
 &#24212;&#29992;&#26381;&#21153;&#20381;&#36182;&#25277;&#35937;&#65292;&#25910;&#32553;&#20102;&#25955;&#33853;&#22312;&#31995;&#32479;&#21508;&#22788;&#30340; RPC &#36923;&#36753;&#12290;
</p>
<h2>
 &#22235;&#12289;&#25299;&#23637;&#38450;&#33104;/&#36866;&#37197;&#30340;&#24605;&#24819;
</h2>
<p>
 &#38500;&#20102;RPC&#30340;&#19978;&#28216;&#26381;&#21153;&#20381;&#36182;&#20197;&#22806;&#65292;&#31867;&#20284;&#20110;HTTP&#25509;&#21475;&#12289;ES&#30340;Template&#25509;&#21475;&#31561;&#22806;&#37096;&#20381;&#36182;&#37117;&#38656;&#35201;&#36827;&#34892;&#38450;&#33104;&#12290;&#22240;&#20026;&#26412;&#36136;&#19978;&#23427;&#20204;&#26159;&#25552;&#20379;&#20102;&#25968;&#25454;&#25110;&#32773;&#33021;&#21147;&#21327;&#21161;&#24403;&#21069;&#31995;&#32479;&#23436;&#25104;&#36923;&#36753;&#32534;&#25490;&#12290;
</p>
<p>
 &#21040;&#29616;&#22312;&#25105;&#20204;&#24050;&#32463;&#30693;&#36947;&#20102;&#22806;&#37096;&#26381;&#21153;&#20381;&#36182;&#21487;&#20197;&#29992;&#38450;&#33104;&#23618;&#65292;&#20869;&#37096;&#36923;&#36753;&#20381;&#36182;&#21487;&#20197;&#36890;&#36807;&#39046;&#22495;&#26381;&#21153;&#12289;&#20179;&#20648;&#31561;&#25112;&#26415;&#35774;&#35745;&#26469;&#38450;&#33104;&#12290;
</p>
<p>
 <strong>
  &#37027;&#20869;&#37096;&#36923;&#36753;&#26377;&#38656;&#35201;&#20351;&#29992;&#38450;&#33104;&#23618;&#30340;&#22320;&#26041;&#21527;&#65311;
 </strong>
</p>
<p>
 &#19981;&#29992;&#24819;&#65292;&#26082;&#28982;&#38382;&#20102;&#65292;&#37027;&#32943;&#23450;&#26159;&#26377;&#21862;&#12290;
</p>
<p>
 &#36825;&#37324;&#25105;&#20030;&#20010;&#19994;&#21153;&#22330;&#26223;&#65292;&#32467;&#21512;&#23567;&#20876;&#30340;&#23398;&#20064;&#65292;&#20320;&#35273;&#24471;&#24212;&#35813;&#22914;&#20309;&#21010;&#20998;&#12290;
</p>
<p>
 &#26377;&#19968;&#20010;&#19994;&#21153;&#31995;&#32479;&#65292;&#31995;&#32479;&#20013;&#26377;N&#20010;&#39046;&#22495;&#27169;&#22411;&#65292;&#23427;&#20204;&#20998;&#21035;&#23545;&#24212;&#30528;M&#20010;&#25968;&#25454;&#27169;&#22411;&#12290;&#36825;&#20010;&#19994;&#21153;&#31995;&#32479;&#22312;A&#22320;&#26377;&#19968;&#22871;&#29615;&#22659;&#24050;&#32463;&#37096;&#32626;&#65292;&#29616;&#22312;&#38656;&#35201;&#20174;A&#22320;&#36801;&#31227;&#25968;&#25454;&#24182;&#20840;&#37327;&#35206;&#30422;&#33267;B&#22320;&#30340;&#19994;&#21153;&#31995;&#32479;&#12290;&#25105;&#20204;&#20551;&#35774; A&#12289;B &#20004;&#22320;&#31995;&#32479;&#29256;&#26412;&#19968;&#33268;&#65292;&#25968;&#25454;&#24211;&#34920;&#32467;&#26500;&#19968;&#33268;&#12290;
</p>
<p>
 <strong>
  &#22914;&#26524;&#25226;&#19978;&#36848;&#30340;&#38656;&#27714;&#20570;&#25104;&#19968;&#20010;&#21151;&#33021;&#65292;&#20320;&#20250;&#22914;&#20309;&#21435;&#35774;&#35745;&#21602;&#65311;
 </strong>
</p>
<p>
 &#36825;&#20010;&#26159;&#25105;&#25152;&#36127;&#36131;&#30340;&#31995;&#32479;&#37324;&#38754;&#30340;&#19968;&#20010;&#19994;&#21153;&#38656;&#27714;&#65292;&#26368;&#24320;&#22987;&#22240;&#20026;&#25105;&#20204;&#26159;&#36890;&#36807;MVC&#20889;&#30340;&#65292;&#25152;&#20197;&#20889;&#36923;&#36753;&#30340;&#26102;&#20505;&#19968;&#32929;&#33041;&#22320;&#22622;&#21040;Service&#20013;&#23601;&#22909;&#20102;&#12290;&#20294;&#26159;&#21518;&#32493;&#25105;&#20204;&#36827;&#34892;&#20102;&#26694;&#26550;&#21319;&#32423;&#65292;&#20174;MVC&#21319;&#32423;&#33267;DDD&#65292;&#21457;&#29616;&#36801;&#31227;&#36825;&#20010;&#36923;&#36753;&#22909;&#20687;&#31361;&#30772;&#20102;&#38480;&#30028;&#19978;&#19979;&#25991;&#12290;
</p>
<p>
 &#25105;&#20204;&#26469;&#30475;M&#20010;&#25968;&#25454;&#27169;&#22411;&#23545;&#24212;&#36825;N&#20010;&#39046;&#22495;&#27169;&#22411;&#65292;&#25968;&#25454;&#27169;&#22411;&#30340;&#25968;&#25454;&#21464;&#21160;&#20165;&#33021;&#36890;&#36807;&#39046;&#22495;&#27169;&#22411;&#30340;&#36923;&#36753;&#22788;&#29702;&#21518;&#35843;&#29992;&#20179;&#20648;&#21464;&#26356;&#12290;&#22914;&#26524;&#25353;&#29031;&#26631;&#20934;DDD&#30340;&#20570;&#27861;&#65292;&#25105;&#24212;&#35813;&#22312;&#19978;&#28216;&#32452;&#21512;&#39046;&#22495;&#27169;&#22411;&#20256;&#32473;&#19979;&#28216;&#65292;&#19979;&#28216;&#36801;&#31227;&#26381;&#21153;&#20998;&#21035;&#35843;&#29992;&#24212;&#29992;&#26381;&#21153;&#20445;&#23384;&#39046;&#22495;&#27169;&#22411;&#12290;&#20294;&#26159;&#36825;&#20040;&#20570;&#30340;&#21518;&#26524;&#23601;&#26159;&#65292;&#25105;&#26412;&#36523;&#21482;&#24819;&#35201;&#20570;&#25968;&#25454;&#36801;&#31227;&#30340;&#65292;&#20013;&#38388;&#21364;&#35201;&#36208;&#19968;&#22823;&#22534;&#30340;&#19994;&#21153;&#36923;&#36753;&#36716;&#25442;&#65292;&#36824;&#29305;&#21035;&#23481;&#26131;&#20986;&#38169;&#12290;
</p>
<p>
 &#20294;&#26159;&#22914;&#26524;&#25105;&#20204;&#19978;&#28216;&#30452;&#25509;&#25552;&#20379;&#34920;&#25968;&#25454;&#65292;&#19979;&#28216;&#30452;&#25509;&#22312;&#24212;&#29992;&#26381;&#21153;&#25554;&#20837;&#34920;&#25968;&#25454;&#21448;&#19981;&#31526;&#21512;&#25968;&#25454;&#26159;&#38543;&#30528;&#39046;&#22495;&#27169;&#22411;&#21464;&#21270;&#32780;&#21464;&#21270;&#30340;&#36793;&#30028;&#12290;
</p>
<p>
 &#25105;&#20204;&#20877;&#26469;&#26803;&#29702;&#19968;&#19979;&#36825;&#20010;&#36923;&#36753;&#65292;&#21040;&#30446;&#21069;&#20026;&#27490;&#25105;&#20204;&#19968;&#30452;&#35748;&#20026;&#36801;&#31227;&#26159;&#19994;&#21153;&#36923;&#36753;&#34892;&#20026;&#65292;&#20063;&#23601;&#26159;&#35828;&#36801;&#31227;&#34920;&#25968;&#25454;&#36825;&#20010;&#21160;&#20316;&#25105;&#20204;&#23450;&#20041;&#22312;&#36801;&#31227;&#30340;&#19994;&#21153;&#36923;&#36753;&#37324;&#38754;&#12290;
 <strong>
  &#22914;&#26524;&#25105;&#20204;&#36339;&#20986;&#26469;&#30475;&#65292;&#34987;&#36801;&#31227;&#30340;&#25968;&#25454;&#26159;&#19981;&#38656;&#35201;&#36923;&#36753;&#20851;&#32852;&#30340;&#65292;&#24182;&#19988;&#19978;&#32423;&#25968;&#25454;&#20840;&#37327;&#35206;&#30422;&#19979;&#32423;&#25968;&#25454;&#12290;&#37027;&#25105;&#20204;&#26159;&#19981;&#26159;&#21487;&#20197;&#35748;&#20026;&#36801;&#31227;&#21482;&#26159;&#19968;&#23618;&#22771;&#65292;&#23454;&#38469;&#36801;&#31227;&#30340;&#21160;&#20316;&#26159;&#30001;&#31995;&#32479;&#30340;&#24213;&#23618;&#33021;&#21147;&#25152;&#25552;&#20379;&#30340;&#65292;&#25105;&#20204;&#20165;&#20165;&#21482;&#26159;&#35843;&#29992;&#20102;&#36825;&#20010;&#33021;&#21147;&#21602;&#65311;
 </strong>
</p>
<p>
 <code>
  &#21512;&#29702;&#65292;&#30456;&#24403;&#21512;&#29702;&#65281;
 </code>
</p>
<p>
 <strong>
  &#38450;&#33104;&#23618;&#19981;&#23601;&#26159;&#24213;&#23618;&#33021;&#21147;&#25552;&#20379;&#26041;&#20043;&#19968;&#21527;&#65311;
 </strong>
</p>
<p>
 &#25105;&#20204;&#23450;&#20041;&#19968;&#20010;&#36801;&#31227;&#25968;&#25454;&#30340;&#36866;&#37197;&#22120;&#65292;&#23558;&#24453;&#36801;&#31227;&#30340;&#34920;&#25968;&#25454;&#20256;&#32473;&#36866;&#37197;&#22120;&#65292;&#36866;&#37197;&#22120;&#20869;&#37096;&#21435;&#19968;&#20010;&#20010;&#35843;&#29992;Dao&#23618;&#30452;&#25509;&#25554;&#34920;&#23601;&#23436;&#25104;&#36825;&#20010;&#36801;&#31227;&#30340;&#36923;&#36753;&#20102;&#12290;
</p>
<p>
 &#31034;&#20363;&#20195;&#30721;&#22914;&#19979;&#65306;
</p>
<pre><code>public interface MigrationAdapter extends Adapter {
&#8203;
 &#160;  /**
 &#160; &#160; * &#25968;&#25454;&#36801;&#31227;&#33021;&#21147;
 &#160; &#160; *
 &#160; &#160; * @param data
 &#160; &#160; */
 &#160;  void doDataMigration(String data);
}
&#8203;
public class MigrationAdapterImpl implements MigrationAdapter {
&#8203;
 &#160;  @Override
 &#160;  @Transactional(rollbackFor = Exception.class)
 &#160;  public void doDataMigration(String dataString){
 &#160; &#160; &#160;  DascaMigrationDataDTO data = GsonUtil.gsonToBean(dataString,MigrationDataDTO.class);
 &#160; &#160; &#160;  List&lt;Data1PO&gt; data1 = data.getData1();
 &#160; &#160; &#160;  List&lt;Data2PO&gt; data2 = data.getData2();
 &#160; &#160; &#160;  // &#28165;&#31354;&#20840;&#37327;&#34920;
 &#160; &#160; &#160;  this.emptyData()
 &#160; &#160; &#160;  //&#20837;&#24211;
 &#160; &#160; &#160;  dataMapper1.insertBatch(data1);
 &#160; &#160; &#160;  dataMapper2.insertBatch(data2);
 &#160; &#160; &#160;  log.info("&#25968;&#25454;&#36801;&#31227;&#23436;&#25104;");
 &#160;  }
}
</code></pre>
<p>
 &#36801;&#31227;&#30340;&#24212;&#29992;&#26381;&#21153;&#35843;&#29992;&#35813;&#36866;&#37197;&#22120;&#30340;
 <strong>
  doDataMigration
 </strong>
 &#26041;&#27861;&#21363;&#21487;&#12290;
</p>
<h2>
 &#20116;&#12289;&#24635;&#32467;
</h2>
<p>
 &#26412;&#25991;&#20174;DDD&#22312;&#25112;&#30053;&#35774;&#35745;&#19982;&#25112;&#26415;&#35774;&#35745;&#20013;&#30340;&#27010;&#24565;&#20986;&#21457;&#20171;&#32461;&#20102;&#38450;&#33104;&#24605;&#24819;&#30340;&#27010;&#24565;&#12290;&#20294;&#36825;&#37117;&#26159;&#31995;&#32479;&#20869;&#37096;&#26550;&#26500;&#19978;&#30340;&#38450;&#33104;&#65292;&#22806;&#37096;&#26381;&#21153;&#19982;&#22806;&#37096;&#33021;&#21147;&#30340;&#38450;&#33104;&#25105;&#20204;&#30001;&#19987;&#38376;&#30340;&#38450;&#33104;&#23618;&#26469;&#21253;&#35013;&#20381;&#36182;&#65292;&#23558;&#20379;&#27714;&#20851;&#31995;&#20174;
 <code>
  &#21035;&#20154;&#26377;&#20160;&#20040;&#25105;&#20204;&#23601;&#29992;&#20160;&#20040;
 </code>
 &#21464;&#25104;&#20102;
 <code>
  &#25105;&#20204;&#29992;&#20160;&#20040;&#21035;&#20154;&#25552;&#20379;&#20160;&#20040;
 </code>
 &#12290;&#26368;&#21518;&#25105;&#20204;&#36824;&#36890;&#36807;&#20102;&#19968;&#20010;&#19994;&#21153;&#22330;&#26223;&#26469;&#25299;&#23637;&#20102;&#38450;&#33104;&#23618;&#30340;&#26356;&#22810;&#24212;&#29992;&#22330;&#26223;&#12290;
</p>
<p>
 &#22914;&#20309;&#29992;&#22909;DDD&#23545;&#20869;&#12289;&#23545;&#22806;&#30340;&#38450;&#33104;&#25163;&#27573;&#19982;&#38450;&#33104;&#24605;&#24819;&#65292;&#36825;&#23545;&#31995;&#32479;&#30340;&#35299;&#32806;&#19982;&#19994;&#21153;&#36923;&#36753;&#30340;&#20869;&#32858;&#24456;&#37325;&#35201;&#12290;
</p>
<p>
 &#21516;&#26679;&#65292;&#22312;&#36825;&#19968;&#35762;&#30340;&#23398;&#20064;&#36807;&#31243;&#20013;&#65292;&#22914;&#26524;&#20320;&#36935;&#21040;&#20160;&#20040;&#38382;&#39064;&#25110;&#32773;&#26377;&#22909;&#30340;&#32463;&#39564;&#35201;&#20998;&#20139;&#65292;&#27426;&#36814;&#20320;&#22312;&#30041;&#35328;&#21306;&#19982;&#25105;&#20998;&#20139;&#65292;&#25105;&#20204;&#19968;&#36215;&#20132;&#27969;&#65292;&#19968;&#36215;&#36827;&#27493;&#12290;
</p>
</div>

</div>
</div>

        </body>
        
        