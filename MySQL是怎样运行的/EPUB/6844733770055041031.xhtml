<div><div class="markdown-body">
    <h1>&#20853;&#39532;&#26410;&#21160;&#65292;&#31918;&#33609;&#20808;&#34892; &#8212;&#8212; InnoDB &#32479;&#35745;&#25968;&#25454;&#26159;&#22914;&#20309;&#25910;&#38598;&#30340;</h1>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="style/style.css" type="text/css">

<div class="markdown-body">
    <h1 class="heading">
 InnoDB &#32479;&#35745;&#25968;&#25454;&#26159;&#22914;&#20309;&#25910;&#38598;&#30340;
</h1>
<p>
 &#26631;&#31614;&#65306; MySQL &#26159;&#24590;&#26679;&#36816;&#34892;&#30340;
</p>
<hr>
<p>
 &#25105;&#20204;&#21069;&#36793;&#21792;&#21480;&#26597;&#35810;&#25104;&#26412;&#30340;&#26102;&#20505;&#32463;&#24120;&#29992;&#21040;&#19968;&#20123;&#32479;&#35745;&#25968;&#25454;&#65292;&#27604;&#22914;&#36890;&#36807;
 <code>
  SHOW TABLE STATUS
 </code>
 &#21487;&#20197;&#30475;&#21040;&#20851;&#20110;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#65292;&#36890;&#36807;
 <code>
  SHOW INDEX
 </code>
 &#21487;&#20197;&#30475;&#21040;&#20851;&#20110;&#32034;&#24341;&#30340;&#32479;&#35745;&#25968;&#25454;&#65292;&#37027;&#20040;&#36825;&#20123;&#32479;&#35745;&#25968;&#25454;&#26159;&#24590;&#20040;&#26469;&#30340;&#21602;&#65311;&#23427;&#20204;&#26159;&#20197;&#20160;&#20040;&#26041;&#24335;&#25910;&#38598;&#30340;&#21602;&#65311;&#26412;&#31456;&#23558;&#32858;&#28966;&#20110;
 <code>
  InnoDB
 </code>
 &#23384;&#20648;&#24341;&#25806;&#30340;&#32479;&#35745;&#25968;&#25454;&#25910;&#38598;&#31574;&#30053;&#65292;&#30475;&#23436;&#26412;&#31456;&#22823;&#23478;&#23601;&#20250;&#26126;&#30333;&#20026;&#21861;&#21069;&#36793;&#32769;&#35828;
 <code>
  InnoDB
 </code>
 &#30340;&#32479;&#35745;&#20449;&#24687;&#26159;&#19981;&#31934;&#30830;&#30340;&#20272;&#35745;&#20540;&#20102;&#65288;&#35328;&#19979;&#20043;&#24847;&#23601;&#26159;&#25105;&#20204;&#19981;&#25171;&#31639;&#20171;&#32461;
 <code>
  MyISAM
 </code>
 &#23384;&#20648;&#24341;&#25806;&#32479;&#35745;&#25968;&#25454;&#30340;&#25910;&#38598;&#21644;&#23384;&#20648;&#26041;&#24335;&#65292;&#26377;&#24819;&#20102;&#35299;&#30340;&#21516;&#23398;&#33258;&#24049;&#20010;&#20799;&#30475;&#30475;&#25991;&#26723;&#21704;&#65289;&#12290;
</p>
<h2 class="heading">
 &#20004;&#31181;&#19981;&#21516;&#30340;&#32479;&#35745;&#25968;&#25454;&#23384;&#20648;&#26041;&#24335;
</h2>
<p>
 <code>
  InnoDB
 </code>
 &#25552;&#20379;&#20102;&#20004;&#31181;&#23384;&#20648;&#32479;&#35745;&#25968;&#25454;&#30340;&#26041;&#24335;&#65306;
</p>
<ul>
 <li>
  <p>
   &#27704;&#20037;&#24615;&#30340;&#32479;&#35745;&#25968;&#25454;
  </p>
  <p>
   &#36825;&#31181;&#32479;&#35745;&#25968;&#25454;&#23384;&#20648;&#22312;&#30913;&#30424;&#19978;&#65292;&#20063;&#23601;&#26159;&#26381;&#21153;&#22120;&#37325;&#21551;&#20043;&#21518;&#36825;&#20123;&#32479;&#35745;&#25968;&#25454;&#36824;&#22312;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#38750;&#27704;&#20037;&#24615;&#30340;&#32479;&#35745;&#25968;&#25454;
  </p>
  <p>
   &#36825;&#31181;&#32479;&#35745;&#25968;&#25454;&#23384;&#20648;&#22312;&#20869;&#23384;&#20013;&#65292;&#24403;&#26381;&#21153;&#22120;&#20851;&#38381;&#26102;&#36825;&#20123;&#36825;&#20123;&#32479;&#35745;&#25968;&#25454;&#23601;&#37117;&#34987;&#28165;&#38500;&#25481;&#20102;&#65292;&#31561;&#21040;&#26381;&#21153;&#22120;&#37325;&#21551;&#20043;&#21518;&#65292;&#22312;&#26576;&#20123;&#36866;&#24403;&#30340;&#22330;&#26223;&#19979;&#25165;&#20250;&#37325;&#26032;&#25910;&#38598;&#36825;&#20123;&#32479;&#35745;&#25968;&#25454;&#12290;
  </p>
 </li>
</ul>
<p>
 &#35774;&#35745;
 <code>
  MySQL
 </code>
 &#30340;&#22823;&#21460;&#20204;&#32473;&#25105;&#20204;&#25552;&#20379;&#20102;&#31995;&#32479;&#21464;&#37327;
 <code>
  innodb_stats_persistent
 </code>
 &#26469;&#25511;&#21046;&#21040;&#24213;&#37319;&#29992;&#21738;&#31181;&#26041;&#24335;&#21435;&#23384;&#20648;&#32479;&#35745;&#25968;&#25454;&#12290;&#22312;
 <code>
  MySQL 5.6.6
 </code>
 &#20043;&#21069;&#65292;
 <code>
  innodb_stats_persistent
 </code>
 &#30340;&#20540;&#40664;&#35748;&#26159;
 <code>
  OFF
 </code>
 &#65292;&#20063;&#23601;&#26159;&#35828;
 <code>
  InnoDB
 </code>
 &#30340;&#32479;&#35745;&#25968;&#25454;&#40664;&#35748;&#26159;&#23384;&#20648;&#21040;&#20869;&#23384;&#30340;&#65292;&#20043;&#21518;&#30340;&#29256;&#26412;&#20013;
 <code>
  innodb_stats_persistent
 </code>
 &#30340;&#20540;&#40664;&#35748;&#26159;
 <code>
  ON
 </code>
 &#65292;&#20063;&#23601;&#26159;&#32479;&#35745;&#25968;&#25454;&#40664;&#35748;&#34987;&#23384;&#20648;&#21040;&#30913;&#30424;&#20013;&#12290;
</p>
<p>
 &#19981;&#36807;
 <code>
  InnoDB
 </code>
 &#40664;&#35748;&#26159;
 <span style="color:red">
  &#20197;&#34920;&#20026;&#21333;&#20301;&#26469;&#25910;&#38598;&#21644;&#23384;&#20648;&#32479;&#35745;&#25968;&#25454;&#30340;
 </span>
 &#65292;&#20063;&#23601;&#26159;&#35828;&#25105;&#20204;&#21487;&#20197;&#25226;&#26576;&#20123;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#65288;&#20197;&#21450;&#35813;&#34920;&#30340;&#32034;&#24341;&#32479;&#35745;&#25968;&#25454;&#65289;&#23384;&#20648;&#22312;&#30913;&#30424;&#19978;&#65292;&#25226;&#21478;&#19968;&#20123;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#23384;&#20648;&#22312;&#20869;&#23384;&#20013;&#12290;&#24590;&#20040;&#20570;&#21040;&#30340;&#21602;&#65311;&#25105;&#20204;&#21487;&#20197;&#22312;&#21019;&#24314;&#21644;&#20462;&#25913;&#34920;&#30340;&#26102;&#20505;&#36890;&#36807;&#25351;&#23450;
 <code>
  STATS_PERSISTENT
 </code>
 &#23646;&#24615;&#26469;&#25351;&#26126;&#35813;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#23384;&#20648;&#26041;&#24335;&#65306;
</p>
<pre><code class="hljs bash" lang="bash">CREATE TABLE &#34920;&#21517; (...) Engine=InnoDB, STATS_PERSISTENT = (1|0);

ALTER TABLE &#34920;&#21517; Engine=InnoDB, STATS_PERSISTENT = (1|0);
</code></pre>
<p>
 &#24403;
 <code>
  STATS_PERSISTENT=1
 </code>
 &#26102;&#65292;&#34920;&#26126;&#25105;&#20204;&#24819;&#25226;&#35813;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#27704;&#20037;&#30340;&#23384;&#20648;&#21040;&#30913;&#30424;&#19978;&#65292;&#24403;
 <code>
  STATS_PERSISTENT=0
 </code>
 &#26102;&#65292;&#34920;&#26126;&#25105;&#20204;&#24819;&#25226;&#35813;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#20020;&#26102;&#30340;&#23384;&#20648;&#21040;&#20869;&#23384;&#20013;&#12290;&#22914;&#26524;&#25105;&#20204;&#22312;&#21019;&#24314;&#34920;&#26102;&#26410;&#25351;&#23450;
 <code>
  STATS_PERSISTENT
 </code>
 &#23646;&#24615;&#65292;&#37027;&#40664;&#35748;&#37319;&#29992;&#31995;&#32479;&#21464;&#37327;
 <code>
  innodb_stats_persistent
 </code>
 &#30340;&#20540;&#20316;&#20026;&#35813;&#23646;&#24615;&#30340;&#20540;&#12290;
</p>
<h2 class="heading">
 &#22522;&#20110;&#30913;&#30424;&#30340;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;
</h2>
<p>
 &#24403;&#25105;&#20204;&#36873;&#25321;&#25226;&#26576;&#20010;&#34920;&#20197;&#21450;&#35813;&#34920;&#32034;&#24341;&#30340;&#32479;&#35745;&#25968;&#25454;&#23384;&#25918;&#21040;&#30913;&#30424;&#19978;&#26102;&#65292;&#23454;&#38469;&#19978;&#26159;&#25226;&#36825;&#20123;&#32479;&#35745;&#25968;&#25454;&#23384;&#20648;&#21040;&#20102;&#20004;&#20010;&#34920;&#37324;&#65306;
</p>
<pre><code class="hljs bash" lang="bash">mysql&gt; SHOW TABLES FROM mysql LIKE <span class="hljs-string">'innodb%'</span>;
+---------------------------+
| Tables_in_mysql (innodb%) |
+---------------------------+
| innodb_index_stats        |
| innodb_table_stats        |
+---------------------------+
2 rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.01 sec)
</code></pre>
<p>
 &#21487;&#20197;&#30475;&#21040;&#65292;&#36825;&#20004;&#20010;&#34920;&#37117;&#20301;&#20110;
 <code>
  mysql
 </code>
 &#31995;&#32479;&#25968;&#25454;&#24211;&#19979;&#36793;&#65292;&#20854;&#20013;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    innodb_table_stats
   </code>
   &#23384;&#20648;&#20102;&#20851;&#20110;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#65292;&#27599;&#19968;&#26465;&#35760;&#24405;&#23545;&#24212;&#30528;&#19968;&#20010;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    innodb_index_stats
   </code>
   &#23384;&#20648;&#20102;&#20851;&#20110;&#32034;&#24341;&#30340;&#32479;&#35745;&#25968;&#25454;&#65292;&#27599;&#19968;&#26465;&#35760;&#24405;&#23545;&#24212;&#30528;&#19968;&#20010;&#32034;&#24341;&#30340;&#19968;&#20010;&#32479;&#35745;&#39033;&#30340;&#32479;&#35745;&#25968;&#25454;&#12290;
  </p>
 </li>
</ul>
<p>
 &#25105;&#20204;&#19979;&#36793;&#30340;&#20219;&#21153;&#23601;&#26159;&#30475;&#19968;&#19979;&#36825;&#20004;&#20010;&#34920;&#37324;&#36793;&#37117;&#26377;&#20160;&#20040;&#20197;&#21450;&#34920;&#37324;&#30340;&#25968;&#25454;&#26159;&#22914;&#20309;&#29983;&#25104;&#30340;&#12290;
</p>
<h3 class="heading">
 innodb_table_stats
</h3>
<p>
 &#30452;&#25509;&#30475;&#19968;&#19979;&#36825;&#20010;
 <code>
  innodb_table_stats
 </code>
 &#34920;&#20013;&#30340;&#21508;&#20010;&#21015;&#37117;&#26159;&#24178;&#22043;&#30340;&#65306;
</p>
<table>
 <thead>
  <tr>
   <th style="text-align:center">
    &#23383;&#27573;&#21517;
   </th>
   <th style="text-align:left">
    &#25551;&#36848;
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td style="text-align:center">
    <code>
     database_name
    </code>
   </td>
   <td style="text-align:left">
    &#25968;&#25454;&#24211;&#21517;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     table_name
    </code>
   </td>
   <td style="text-align:left">
    &#34920;&#21517;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     last_update
    </code>
   </td>
   <td style="text-align:left">
    &#26412;&#26465;&#35760;&#24405;&#26368;&#21518;&#26356;&#26032;&#26102;&#38388;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     n_rows
    </code>
   </td>
   <td style="text-align:left">
    &#34920;&#20013;&#35760;&#24405;&#30340;&#26465;&#25968;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     clustered_index_size
    </code>
   </td>
   <td style="text-align:left">
    &#34920;&#30340;&#32858;&#31751;&#32034;&#24341;&#21344;&#29992;&#30340;&#39029;&#38754;&#25968;&#37327;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     sum_of_other_index_sizes
    </code>
   </td>
   <td style="text-align:left">
    &#34920;&#30340;&#20854;&#20182;&#32034;&#24341;&#21344;&#29992;&#30340;&#39029;&#38754;&#25968;&#37327;
   </td>
  </tr>
 </tbody>
</table>
<p>
 &#27880;&#24847;&#36825;&#20010;&#34920;&#30340;&#20027;&#38190;&#26159;
 <code>
  (database_name,table_name)
 </code>
 &#65292;&#20063;&#23601;&#26159;
 <span style="color:red">
  innodb_table_stats&#34920;&#30340;&#27599;&#26465;&#35760;&#24405;&#20195;&#34920;&#30528;&#19968;&#20010;&#34920;&#30340;&#32479;&#35745;&#20449;&#24687;
 </span>
 &#12290;&#25105;&#20204;&#30452;&#25509;&#30475;&#19968;&#19979;&#36825;&#20010;&#34920;&#37324;&#30340;&#20869;&#23481;&#65306;
</p>
<pre><code class="hljs bash" lang="bash">mysql&gt; SELECT * FROM mysql.innodb_table_stats;
+---------------+---------------+---------------------+--------+----------------------+--------------------------+
| database_name | table_name    | last_update         | n_rows | clustered_index_size | sum_of_other_index_sizes |
+---------------+---------------+---------------------+--------+----------------------+--------------------------+
| mysql         | gtid_executed | 2018-07-10 23:51:36 |      0 |                    1 |                        0 |
| sys           | sys_config    | 2018-07-10 23:51:38 |      5 |                    1 |                        0 |
| xiaohaizi     | single_table  | 2018-12-10 17:03:13 |   9693 |                   97 |                      175 |
+---------------+---------------+---------------------+--------+----------------------+--------------------------+
3 rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.01 sec)
</code></pre>
<p>
 &#21487;&#20197;&#30475;&#21040;&#25105;&#20204;&#29087;&#24713;&#30340;
 <code>
  single_table
 </code>
 &#34920;&#30340;&#32479;&#35745;&#20449;&#24687;&#23601;&#23545;&#24212;&#30528;
 <code>
  mysql.innodb_table_stats
 </code>
 &#30340;&#31532;&#19977;&#26465;&#35760;&#24405;&#12290;&#20960;&#20010;&#37325;&#35201;&#32479;&#35745;&#20449;&#24687;&#39033;&#30340;&#20540;&#22914;&#19979;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    n_rows
   </code>
   &#30340;&#20540;&#26159;
   <code>
    9693
   </code>
   &#65292;&#34920;&#26126;
   <code>
    single_table
   </code>
   &#34920;&#20013;&#22823;&#32422;&#26377;
   <code>
    9693
   </code>
   &#26465;&#35760;&#24405;&#65292;&#27880;&#24847;&#36825;&#20010;&#25968;&#25454;&#26159;&#20272;&#35745;&#20540;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    clustered_index_size
   </code>
   &#30340;&#20540;&#26159;
   <code>
    97
   </code>
   &#65292;&#34920;&#26126;
   <code>
    single_table
   </code>
   &#34920;&#30340;&#32858;&#31751;&#32034;&#24341;&#21344;&#29992;97&#20010;&#39029;&#38754;&#65292;&#36825;&#20010;&#20540;&#26159;&#20063;&#26159;&#19968;&#20010;&#20272;&#35745;&#20540;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    sum_of_other_index_sizes
   </code>
   &#30340;&#20540;&#26159;
   <code>
    175
   </code>
   &#65292;&#34920;&#26126;
   <code>
    single_table
   </code>
   &#34920;&#30340;&#20854;&#20182;&#32034;&#24341;&#19968;&#20849;&#21344;&#29992;175&#20010;&#39029;&#38754;&#65292;&#36825;&#20010;&#20540;&#26159;&#20063;&#26159;&#19968;&#20010;&#20272;&#35745;&#20540;&#12290;
  </p>
 </li>
</ul>
<h4 class="heading">
 n_rows&#32479;&#35745;&#39033;&#30340;&#25910;&#38598;
</h4>
<p>
 &#20026;&#21861;&#32769;&#24378;&#35843;
 <code>
  n_rows
 </code>
 &#36825;&#20010;&#32479;&#35745;&#39033;&#30340;&#20540;&#26159;&#20272;&#35745;&#20540;&#21602;&#65311;&#29616;&#22312;&#23601;&#26469;&#25581;&#26195;&#31572;&#26696;&#12290;
 <code>
  InnoDB
 </code>
 &#32479;&#35745;&#19968;&#20010;&#34920;&#20013;&#26377;&#22810;&#23569;&#34892;&#35760;&#24405;&#30340;&#22871;&#36335;&#26159;&#36825;&#26679;&#30340;&#65306;
</p>
<ul>
 <li>
  <p>
   &#25353;&#29031;&#19968;&#23450;&#31639;&#27861;&#65288;&#24182;&#19981;&#26159;&#32431;&#31929;&#38543;&#26426;&#30340;&#65289;&#36873;&#21462;&#20960;&#20010;&#21494;&#23376;&#33410;&#28857;&#39029;&#38754;&#65292;&#35745;&#31639;&#27599;&#20010;&#39029;&#38754;&#20013;&#20027;&#38190;&#20540;&#35760;&#24405;&#25968;&#37327;&#65292;&#28982;&#21518;&#35745;&#31639;&#24179;&#22343;&#19968;&#20010;&#39029;&#38754;&#20013;&#20027;&#38190;&#20540;&#30340;&#35760;&#24405;&#25968;&#37327;&#20056;&#20197;&#20840;&#37096;&#21494;&#23376;&#33410;&#28857;&#30340;&#25968;&#37327;&#23601;&#31639;&#26159;&#35813;&#34920;&#30340;
   <code>
    n_rows
   </code>
   &#20540;&#12290;
  </p>
  <blockquote class="warning">
   <p>
    &#23567;&#36148;&#22763;&#65306;

&#30495;&#23454;&#30340;&#35745;&#31639;&#36807;&#31243;&#27604;&#36825;&#20010;&#31245;&#24494;&#22797;&#26434;&#19968;&#20123;&#65292;&#19981;&#36807;&#22823;&#33268;&#19978;&#23601;&#26159;&#36825;&#26679;&#30340;&#21862;&#65374;
   </p>
  </blockquote>
  <p>
   &#21487;&#20197;&#30475;&#20986;&#26469;&#36825;&#20010;
   <code>
    n_rows
   </code>
   &#20540;&#31934;&#30830;&#19982;&#21542;&#21462;&#20915;&#20110;&#32479;&#35745;&#26102;&#37319;&#26679;&#30340;&#39029;&#38754;&#25968;&#37327;&#65292;&#35774;&#35745;
   <code>
    MySQL
   </code>
   &#30340;&#22823;&#21460;&#24456;&#36148;&#24515;&#30340;&#20026;&#25105;&#20204;&#20934;&#22791;&#20102;&#19968;&#20010;&#21517;&#20026;
   <code>
    innodb_stats_persistent_sample_pages
   </code>
   &#30340;&#31995;&#32479;&#21464;&#37327;&#26469;&#25511;&#21046;
   <span style="color:red">
    &#20351;&#29992;&#27704;&#20037;&#24615;&#30340;&#32479;&#35745;&#25968;&#25454;&#26102;&#65292;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#26102;&#37319;&#26679;&#30340;&#39029;&#38754;&#25968;&#37327;
   </span>
   &#12290;&#35813;&#20540;&#35774;&#32622;&#30340;&#36234;&#22823;&#65292;&#32479;&#35745;&#20986;&#30340;
   <code>
    n_rows
   </code>
   &#20540;&#36234;&#31934;&#30830;&#65292;&#20294;&#26159;&#32479;&#35745;&#32791;&#26102;&#20063;&#23601;&#26368;&#20037;&#65307;&#35813;&#20540;&#35774;&#32622;&#30340;&#36234;&#23567;&#65292;&#32479;&#35745;&#20986;&#30340;
   <code>
    n_rows
   </code>
   &#20540;&#36234;&#19981;&#31934;&#30830;&#65292;&#20294;&#26159;&#32479;&#35745;&#32791;&#26102;&#29305;&#21035;&#23569;&#12290;&#25152;&#20197;&#22312;&#23454;&#38469;&#20351;&#29992;&#26159;&#38656;&#35201;&#25105;&#20204;&#21435;&#26435;&#34913;&#21033;&#24330;&#65292;&#35813;&#31995;&#32479;&#21464;&#37327;&#30340;&#40664;&#35748;&#20540;&#26159;
   <code>
    20
   </code>
   &#12290;
  </p>
  <p>
   &#25105;&#20204;&#21069;&#36793;&#35828;&#36807;&#65292;&#19981;&#36807;
   <code>
    InnoDB
   </code>
   &#40664;&#35748;&#26159;
   <span style="color:red">
    &#20197;&#34920;&#20026;&#21333;&#20301;&#26469;&#25910;&#38598;&#21644;&#23384;&#20648;&#32479;&#35745;&#25968;&#25454;&#30340;
   </span>
   &#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#21333;&#29420;&#35774;&#32622;&#26576;&#20010;&#34920;&#30340;&#37319;&#26679;&#39029;&#38754;&#30340;&#25968;&#37327;&#65292;&#35774;&#32622;&#26041;&#24335;&#23601;&#26159;&#22312;&#21019;&#24314;&#25110;&#20462;&#25913;&#34920;&#30340;&#26102;&#20505;&#36890;&#36807;&#25351;&#23450;
   <code>
    STATS_SAMPLE_PAGES
   </code>
   &#23646;&#24615;&#26469;&#25351;&#26126;&#35813;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#23384;&#20648;&#26041;&#24335;&#65306;
  </p>
  <pre><code class="hljs bash" lang="bash">CREATE TABLE &#34920;&#21517; (...) Engine=InnoDB, STATS_SAMPLE_PAGES = &#20855;&#20307;&#30340;&#37319;&#26679;&#39029;&#38754;&#25968;&#37327;;

ALTER TABLE &#34920;&#21517; Engine=InnoDB, STATS_SAMPLE_PAGES = &#20855;&#20307;&#30340;&#37319;&#26679;&#39029;&#38754;&#25968;&#37327;;
</code></pre>
  <p>
   &#22914;&#26524;&#25105;&#20204;&#22312;&#21019;&#24314;&#34920;&#30340;&#35821;&#21477;&#20013;&#24182;&#27809;&#26377;&#25351;&#23450;
   <code>
    STATS_SAMPLE_PAGES
   </code>
   &#23646;&#24615;&#30340;&#35805;&#65292;&#23558;&#40664;&#35748;&#20351;&#29992;&#31995;&#32479;&#21464;&#37327;
   <code>
    innodb_stats_persistent_sample_pages
   </code>
   &#30340;&#20540;&#20316;&#20026;&#35813;&#23646;&#24615;&#30340;&#20540;&#12290;
  </p>
 </li>
</ul>
<h4 class="heading">
 clustered_index_size&#21644;sum_of_other_index_sizes&#32479;&#35745;&#39033;&#30340;&#25910;&#38598;
</h4>
<p>
 &#32479;&#35745;&#36825;&#20004;&#20010;&#25968;&#25454;&#38656;&#35201;&#22823;&#37327;&#29992;&#21040;&#25105;&#20204;&#20043;&#21069;&#21792;&#21480;&#30340;
 <code>
  InnoDB
 </code>
 &#34920;&#31354;&#38388;&#30340;&#30693;&#35782;&#65292;
 <span style="color:red">
  &#22914;&#26524;&#22823;&#23478;&#21387;&#26681;&#20799;&#27809;&#26377;&#30475;&#37027;&#19968;&#31456;&#65292;&#37027;&#19979;&#36793;&#30340;&#35745;&#31639;&#36807;&#31243;&#22823;&#23478;&#36824;&#26159;&#19981;&#35201;&#30475;&#20102;&#65288;&#30475;&#20063;&#30475;&#19981;&#25026;&#65289;
 </span>
 &#65307;&#22914;&#26524;&#30475;&#36807;&#20102;&#65292;&#37027;&#22823;&#23478;&#23601;&#20250;&#21457;&#29616;
 <code>
  InnoDB
 </code>
 &#34920;&#31354;&#38388;&#30340;&#30693;&#35782;&#30495;&#26159;&#26377;&#29992;&#21834;&#21834;&#21834;&#65281;&#65281;&#65281;
</p>
<p>
 &#36825;&#20004;&#20010;&#32479;&#35745;&#39033;&#30340;&#25910;&#38598;&#36807;&#31243;&#22914;&#19979;&#65306;
</p>
<ul>
 <li>
  <p>
   &#20174;&#25968;&#25454;&#23383;&#20856;&#37324;&#25214;&#21040;&#34920;&#30340;&#21508;&#20010;&#32034;&#24341;&#23545;&#24212;&#30340;&#26681;&#39029;&#38754;&#20301;&#32622;&#12290;
  </p>
  <p>
   &#31995;&#32479;&#34920;
   <code>
    SYS_INDEXES
   </code>
   &#37324;&#23384;&#20648;&#20102;&#21508;&#20010;&#32034;&#24341;&#23545;&#24212;&#30340;&#26681;&#39029;&#38754;&#20449;&#24687;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#20174;&#26681;&#39029;&#38754;&#30340;
   <code>
    Page Header
   </code>
   &#37324;&#25214;&#21040;&#21494;&#23376;&#33410;&#28857;&#27573;&#21644;&#38750;&#21494;&#23376;&#33410;&#28857;&#27573;&#23545;&#24212;&#30340;
   <code>
    Segment Header
   </code>
   &#12290;
  </p>
  <p>
   &#22312;&#27599;&#20010;&#32034;&#24341;&#30340;&#26681;&#39029;&#38754;&#30340;
   <code>
    Page Header
   </code>
   &#37096;&#20998;&#37117;&#26377;&#20004;&#20010;&#23383;&#27573;&#65306;
  </p>
  <ul>
   <li>
    <p>
     <code>
      PAGE_BTR_SEG_LEAF
     </code>
     &#65306;&#34920;&#31034;B+&#26641;&#21494;&#23376;&#27573;&#30340;
     <code>
      Segment Header
     </code>
     &#20449;&#24687;&#12290;
    </p>
   </li>
   <li>
    <p>
     <code>
      PAGE_BTR_SEG_TOP
     </code>
     &#65306;&#34920;&#31034;B+&#26641;&#38750;&#21494;&#23376;&#27573;&#30340;
     <code>
      Segment Header
     </code>
     &#20449;&#24687;&#12290;
    </p>
   </li>
  </ul>
 </li>
 <li>
  <p>
   &#20174;&#21494;&#23376;&#33410;&#28857;&#27573;&#21644;&#38750;&#21494;&#23376;&#33410;&#28857;&#27573;&#30340;
   <code>
    Segment Header
   </code>
   &#20013;&#25214;&#21040;&#36825;&#20004;&#20010;&#27573;&#23545;&#24212;&#30340;
   <code>
    INODE Entry
   </code>
   &#32467;&#26500;&#12290;
  </p>
  <p>
   &#36825;&#20010;&#26159;
   <code>
    Segment Header
   </code>
   &#32467;&#26500;&#65306;
  </p>
  <p>
  </p>
  <figure>
   <img alt="image_1cum7dbc812843ac192pfik1raep.png-107.3kB" src="EPUB/2fa8296c-13d6-11ed-838d-acde48001122">
   <figcaption>
   </figcaption>
  </figure>
  <p>
  </p>
 </li>
 <li>
  <p>
   &#20174;&#23545;&#24212;&#30340;
   <code>
    INODE Entry
   </code>
   &#32467;&#26500;&#20013;&#21487;&#20197;&#25214;&#21040;&#35813;&#27573;&#23545;&#24212;&#25152;&#26377;&#38646;&#25955;&#30340;&#39029;&#38754;&#22320;&#22336;&#20197;&#21450;
   <code>
    FREE
   </code>
   &#12289;
   <code>
    NOT_FULL
   </code>
   &#12289;
   <code>
    FULL
   </code>
   &#38142;&#34920;&#30340;&#22522;&#33410;&#28857;&#12290;
  </p>
  <p>
   &#36825;&#20010;&#26159;
   <code>
    INODE Entry
   </code>
   &#32467;&#26500;&#65306;
  </p>
  <p>
  </p>
  <figure>
   <img alt="image_1cum7f49h1beg5uccbq197n1g1b16.png-173.9kB" src="EPUB/2fb7fdce-13d6-11ed-838d-acde48001122">
   <figcaption>
   </figcaption>
  </figure>
  <p>
  </p>
 </li>
 <li>
  <p>
   &#30452;&#25509;&#32479;&#35745;&#38646;&#25955;&#30340;&#39029;&#38754;&#26377;&#22810;&#23569;&#20010;&#65292;&#28982;&#21518;&#20174;&#37027;&#19977;&#20010;&#38142;&#34920;&#30340;
   <code>
    List Length
   </code>
   &#23383;&#27573;&#20013;&#35835;&#20986;&#35813;&#27573;&#21344;&#29992;&#30340;&#21306;&#30340;&#22823;&#23567;&#65292;&#27599;&#20010;&#21306;&#21344;&#29992;
   <code>
    64
   </code>
   &#20010;&#39029;&#65292;&#25152;&#20197;&#23601;&#21487;&#20197;&#32479;&#35745;&#20986;&#25972;&#20010;&#27573;&#21344;&#29992;&#30340;&#39029;&#38754;&#12290;
  </p>
  <p>
   &#36825;&#20010;&#26159;&#38142;&#34920;&#22522;&#33410;&#28857;&#30340;&#31034;&#24847;&#22270;&#65306;
  </p>
  <p>
  </p>
  <figure>
   <img alt="image_1cum7hkiihikm4b88j10461plc1j.png-129.9kB" src="EPUB/2fcd97ce-13d6-11ed-838d-acde48001122">
   <figcaption>
   </figcaption>
  </figure>
  <p>
  </p>
 </li>
 <li>
  <p>
   &#20998;&#21035;&#35745;&#31639;&#32858;&#31751;&#32034;&#24341;&#30340;&#21494;&#23376;&#32467;&#28857;&#27573;&#21644;&#38750;&#21494;&#23376;&#33410;&#28857;&#27573;&#21344;&#29992;&#30340;&#39029;&#38754;&#25968;&#65292;&#23427;&#20204;&#30340;&#21644;&#23601;&#26159;
   <code>
    clustered_index_size
   </code>
   &#30340;&#20540;&#65292;&#25353;&#29031;&#21516;&#26679;&#30340;&#22871;&#36335;&#25226;&#20854;&#20313;&#32034;&#24341;&#21344;&#29992;&#30340;&#39029;&#38754;&#25968;&#37117;&#31639;&#20986;&#26469;&#65292;&#21152;&#36215;&#26469;&#20043;&#21518;&#23601;&#26159;
   <code>
    sum_of_other_index_sizes
   </code>
   &#30340;&#20540;&#12290;
  </p>
 </li>
</ul>
<p>
 &#36825;&#37324;&#38656;&#35201;&#22823;&#23478;&#27880;&#24847;&#19968;&#20010;&#38382;&#39064;&#65292;&#25105;&#20204;&#35828;&#19968;&#20010;&#27573;&#30340;&#25968;&#25454;&#22312;&#38750;&#24120;&#22810;&#26102;&#65288;&#36229;&#36807;32&#20010;&#39029;&#38754;&#65289;&#65292;&#20250;&#20197;
 <code>
  &#21306;
 </code>
 &#20026;&#21333;&#20301;&#26469;&#30003;&#35831;&#31354;&#38388;&#65292;&#36825;&#37324;&#22836;&#30340;&#38382;&#39064;&#26159;
 <span style="color:red">
  &#20197;&#21306;&#20026;&#21333;&#20301;&#30003;&#35831;&#31354;&#38388;&#20013;&#26377;&#19968;&#20123;&#39029;&#21487;&#33021;&#24182;&#27809;&#26377;&#20351;&#29992;
 </span>
 &#65292;&#20294;&#26159;&#22312;&#32479;&#35745;
 <code>
  clustered_index_size
 </code>
 &#21644;
 <code>
  sum_of_other_index_sizes
 </code>
 &#26102;&#37117;&#25226;&#23427;&#20204;&#31639;&#36827;&#21435;&#20102;&#65292;&#25152;&#20197;&#35828;&#32858;&#31751;&#32034;&#24341;&#21644;&#20854;&#20182;&#30340;&#32034;&#24341;&#21344;&#29992;&#30340;&#39029;&#38754;&#25968;&#21487;&#33021;&#27604;&#36825;&#20004;&#20010;&#20540;&#35201;&#23567;&#19968;&#20123;&#12290;
</p>
<h3 class="heading">
 innodb_index_stats
</h3>
<p>
 &#30452;&#25509;&#30475;&#19968;&#19979;&#36825;&#20010;
 <code>
  innodb_index_stats
 </code>
 &#34920;&#20013;&#30340;&#21508;&#20010;&#21015;&#37117;&#26159;&#24178;&#22043;&#30340;&#65306;
</p>
<table>
 <thead>
  <tr>
   <th style="text-align:center">
    &#23383;&#27573;&#21517;
   </th>
   <th style="text-align:left">
    &#25551;&#36848;
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td style="text-align:center">
    <code>
     database_name
    </code>
   </td>
   <td style="text-align:left">
    &#25968;&#25454;&#24211;&#21517;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     table_name
    </code>
   </td>
   <td style="text-align:left">
    &#34920;&#21517;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     index_name
    </code>
   </td>
   <td style="text-align:left">
    &#32034;&#24341;&#21517;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     last_update
    </code>
   </td>
   <td style="text-align:left">
    &#26412;&#26465;&#35760;&#24405;&#26368;&#21518;&#26356;&#26032;&#26102;&#38388;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     stat_name
    </code>
   </td>
   <td style="text-align:left">
    &#32479;&#35745;&#39033;&#30340;&#21517;&#31216;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     stat_value
    </code>
   </td>
   <td style="text-align:left">
    &#23545;&#24212;&#30340;&#32479;&#35745;&#39033;&#30340;&#20540;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     sample_size
    </code>
   </td>
   <td style="text-align:left">
    &#20026;&#29983;&#25104;&#32479;&#35745;&#25968;&#25454;&#32780;&#37319;&#26679;&#30340;&#39029;&#38754;&#25968;&#37327;
   </td>
  </tr>
  <tr>
   <td style="text-align:center">
    <code>
     stat_description
    </code>
   </td>
   <td style="text-align:left">
    &#23545;&#24212;&#30340;&#32479;&#35745;&#39033;&#30340;&#25551;&#36848;
   </td>
  </tr>
 </tbody>
</table>
<p>
 &#27880;&#24847;&#36825;&#20010;&#34920;&#30340;&#20027;&#38190;&#26159;
 <code>
  (database_name,table_name,index_name,stat_name)
 </code>
 &#65292;&#20854;&#20013;&#30340;
 <code>
  stat_name
 </code>
 &#26159;&#25351;&#32479;&#35745;&#39033;&#30340;&#21517;&#31216;&#65292;&#20063;&#23601;&#26159;&#35828;
 <span style="color:red">
  innodb_index_stats&#34920;&#30340;&#27599;&#26465;&#35760;&#24405;&#20195;&#34920;&#30528;&#19968;&#20010;&#32034;&#24341;&#30340;&#19968;&#20010;&#32479;&#35745;&#39033;
 </span>
 &#12290;&#21487;&#33021;&#36825;&#20250;&#22823;&#23478;&#26377;&#20123;&#25077;&#36924;&#36825;&#20010;&#32479;&#35745;&#39033;&#21040;&#24213;&#25351;&#20160;&#20040;&#65292;&#21035;&#30528;&#24613;&#65292;&#25105;&#20204;&#30452;&#25509;&#30475;&#19968;&#19979;&#20851;&#20110;
 <code>
  single_table
 </code>
 &#34920;&#30340;&#32034;&#24341;&#32479;&#35745;&#25968;&#25454;&#37117;&#26377;&#20123;&#20160;&#20040;&#65306;
</p>
<pre><code class="hljs bash" lang="bash">mysql&gt; SELECT * FROM mysql.innodb_index_stats WHERE table_name = <span class="hljs-string">'single_table'</span>;
+---------------+--------------+--------------+---------------------+--------------+------------+-------------+-----------------------------------+
| database_name | table_name   | index_name   | last_update         | stat_name    | stat_value | sample_size | stat_description                  |
+---------------+--------------+--------------+---------------------+--------------+------------+-------------+-----------------------------------+
| xiaohaizi     | single_table | PRIMARY      | 2018-12-14 14:24:46 | n_diff_pfx01 |       9693 |          20 | id                                |
| xiaohaizi     | single_table | PRIMARY      | 2018-12-14 14:24:46 | n_leaf_pages |         91 |        NULL | Number of leaf pages <span class="hljs-keyword">in</span> the index |
| xiaohaizi     | single_table | PRIMARY      | 2018-12-14 14:24:46 | size         |         97 |        NULL | Number of pages <span class="hljs-keyword">in</span> the index      |
| xiaohaizi     | single_table | idx_key1     | 2018-12-14 14:24:46 | n_diff_pfx01 |        968 |          28 | key1                              |
| xiaohaizi     | single_table | idx_key1     | 2018-12-14 14:24:46 | n_diff_pfx02 |      10000 |          28 | key1,id                           |
| xiaohaizi     | single_table | idx_key1     | 2018-12-14 14:24:46 | n_leaf_pages |         28 |        NULL | Number of leaf pages <span class="hljs-keyword">in</span> the index |
| xiaohaizi     | single_table | idx_key1     | 2018-12-14 14:24:46 | size         |         29 |        NULL | Number of pages <span class="hljs-keyword">in</span> the index      |
| xiaohaizi     | single_table | idx_key2     | 2018-12-14 14:24:46 | n_diff_pfx01 |      10000 |          16 | key2                              |
| xiaohaizi     | single_table | idx_key2     | 2018-12-14 14:24:46 | n_leaf_pages |         16 |        NULL | Number of leaf pages <span class="hljs-keyword">in</span> the index |
| xiaohaizi     | single_table | idx_key2     | 2018-12-14 14:24:46 | size         |         17 |        NULL | Number of pages <span class="hljs-keyword">in</span> the index      |
| xiaohaizi     | single_table | idx_key3     | 2018-12-14 14:24:46 | n_diff_pfx01 |        799 |          31 | key3                              |
| xiaohaizi     | single_table | idx_key3     | 2018-12-14 14:24:46 | n_diff_pfx02 |      10000 |          31 | key3,id                           |
| xiaohaizi     | single_table | idx_key3     | 2018-12-14 14:24:46 | n_leaf_pages |         31 |        NULL | Number of leaf pages <span class="hljs-keyword">in</span> the index |
| xiaohaizi     | single_table | idx_key3     | 2018-12-14 14:24:46 | size         |         32 |        NULL | Number of pages <span class="hljs-keyword">in</span> the index      |
| xiaohaizi     | single_table | idx_key_part | 2018-12-14 14:24:46 | n_diff_pfx01 |       9673 |          64 | key_part1                         |
| xiaohaizi     | single_table | idx_key_part | 2018-12-14 14:24:46 | n_diff_pfx02 |       9999 |          64 | key_part1,key_part2               |
| xiaohaizi     | single_table | idx_key_part | 2018-12-14 14:24:46 | n_diff_pfx03 |      10000 |          64 | key_part1,key_part2,key_part3     |
| xiaohaizi     | single_table | idx_key_part | 2018-12-14 14:24:46 | n_diff_pfx04 |      10000 |          64 | key_part1,key_part2,key_part3,id  |
| xiaohaizi     | single_table | idx_key_part | 2018-12-14 14:24:46 | n_leaf_pages |         64 |        NULL | Number of leaf pages <span class="hljs-keyword">in</span> the index |
| xiaohaizi     | single_table | idx_key_part | 2018-12-14 14:24:46 | size         |         97 |        NULL | Number of pages <span class="hljs-keyword">in</span> the index      |
+---------------+--------------+--------------+---------------------+--------------+------------+-------------+-----------------------------------+
20 rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.03 sec)
</code></pre>
<p>
 &#36825;&#20010;&#32467;&#26524;&#26377;&#28857;&#20799;&#22810;&#65292;&#27491;&#30830;&#26597;&#30475;&#36825;&#20010;&#32467;&#26524;&#30340;&#26041;&#24335;&#26159;&#36825;&#26679;&#30340;&#65306;
</p>
<ul>
 <li>
  <p>
   &#20808;&#26597;&#30475;
   <code>
    index_name
   </code>
   &#21015;&#65292;&#36825;&#20010;&#21015;&#35828;&#26126;&#35813;&#35760;&#24405;&#26159;&#21738;&#20010;&#32034;&#24341;&#30340;&#32479;&#35745;&#20449;&#24687;&#65292;&#20174;&#32467;&#26524;&#20013;&#25105;&#20204;&#21487;&#20197;&#30475;&#20986;&#26469;&#65292;
   <code>
    PRIMARY
   </code>
   &#32034;&#24341;&#65288;&#20063;&#23601;&#26159;&#20027;&#38190;&#65289;&#21344;&#20102;3&#26465;&#35760;&#24405;&#65292;
   <code>
    idx_key_part
   </code>
   &#32034;&#24341;&#21344;&#20102;6&#26465;&#35760;&#24405;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#38024;&#23545;
   <code>
    index_name
   </code>
   &#21015;&#30456;&#21516;&#30340;&#35760;&#24405;&#65292;
   <code>
    stat_name
   </code>
   &#34920;&#31034;&#38024;&#23545;&#35813;&#32034;&#24341;&#30340;&#32479;&#35745;&#39033;&#21517;&#31216;&#65292;
   <code>
    stat_value
   </code>
   &#23637;&#31034;&#30340;&#26159;&#35813;&#32034;&#24341;&#22312;&#35813;&#32479;&#35745;&#39033;&#19978;&#30340;&#20540;&#65292;
   <code>
    stat_description
   </code>
   &#25351;&#30340;&#26159;&#26469;&#25551;&#36848;&#35813;&#32479;&#35745;&#39033;&#30340;&#21547;&#20041;&#30340;&#12290;&#25105;&#20204;&#26469;&#20855;&#20307;&#30475;&#19968;&#19979;&#19968;&#20010;&#32034;&#24341;&#37117;&#26377;&#21738;&#20123;&#32479;&#35745;&#39033;&#65306;
  </p>
  <ul>
   <li>
    <p>
     <code>
      n_leaf_pages
     </code>
     &#65306;&#34920;&#31034;&#35813;&#32034;&#24341;&#30340;&#21494;&#23376;&#33410;&#28857;&#21344;&#29992;&#22810;&#23569;&#39029;&#38754;&#12290;
    </p>
   </li>
   <li>
    <p>
     <code>
      size
     </code>
     &#65306;&#34920;&#31034;&#35813;&#32034;&#24341;&#20849;&#21344;&#29992;&#22810;&#23569;&#39029;&#38754;&#12290;
    </p>
   </li>
   <li>
    <p>
     <code>
      n_diff_pfx
      <b>
       NN
      </b>
     </code>
     &#65306;&#34920;&#31034;&#23545;&#24212;&#30340;&#32034;&#24341;&#21015;&#19981;&#37325;&#22797;&#30340;&#20540;&#26377;&#22810;&#23569;&#12290;&#20854;&#20013;&#30340;
     <code>
      NN
     </code>
     &#38271;&#24471;&#26377;&#28857;&#20799;&#24618;&#21568;&#65292;&#21861;&#24847;&#24605;&#21602;&#65311;
    </p>
    <p>
     &#20854;&#23454;
     <code>
      NN
     </code>
     &#21487;&#20197;&#34987;&#26367;&#25442;&#20026;
     <code>
      01
     </code>
     &#12289;
     <code>
      02
     </code>
     &#12289;
     <code>
      03
     </code>
     ... &#36825;&#26679;&#30340;&#25968;&#23383;&#12290;&#27604;&#22914;&#23545;&#20110;
     <code>
      idx_key_part
     </code>
     &#26469;&#35828;&#65306;
    </p>
    <ul>
     <li>
      <p>
       <code>
        n_diff_pfx01
       </code>
       &#34920;&#31034;&#30340;&#26159;&#32479;&#35745;
       <code>
        key_part1
       </code>
       &#36825;&#21333;&#21333;&#19968;&#20010;&#21015;&#19981;&#37325;&#22797;&#30340;&#20540;&#26377;&#22810;&#23569;&#12290;
      </p>
     </li>
     <li>
      <p>
       <code>
        n_diff_pfx02
       </code>
       &#34920;&#31034;&#30340;&#26159;&#32479;&#35745;
       <code>
        key_part1&#12289;key_part2
       </code>
       &#36825;&#20004;&#20010;&#21015;&#32452;&#21512;&#36215;&#26469;&#19981;&#37325;&#22797;&#30340;&#20540;&#26377;&#22810;&#23569;&#12290;
      </p>
     </li>
     <li>
      <p>
       <code>
        n_diff_pfx03
       </code>
       &#34920;&#31034;&#30340;&#26159;&#32479;&#35745;
       <code>
        key_part1&#12289;key_part2&#12289;key_part3
       </code>
       &#36825;&#19977;&#20010;&#21015;&#32452;&#21512;&#36215;&#26469;&#19981;&#37325;&#22797;&#30340;&#20540;&#26377;&#22810;&#23569;&#12290;
      </p>
     </li>
     <li>
      <p>
       <code>
        n_diff_pfx04
       </code>
       &#34920;&#31034;&#30340;&#26159;&#32479;&#35745;
       <code>
        key_part1&#12289;key_part2&#12289;key_part3&#12289;id
       </code>
       &#36825;&#22235;&#20010;&#21015;&#32452;&#21512;&#36215;&#26469;&#19981;&#37325;&#22797;&#30340;&#20540;&#26377;&#22810;&#23569;&#12290;
      </p>
     </li>
    </ul>
    <blockquote class="warning">
     <p>
      &#23567;&#36148;&#22763;&#65306;

&#36825;&#37324;&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;&#23545;&#20110;&#26222;&#36890;&#30340;&#20108;&#32423;&#32034;&#24341;&#65292;&#24182;&#19981;&#33021;&#20445;&#35777;&#23427;&#30340;&#32034;&#24341;&#21015;&#20540;&#26159;&#21807;&#19968;&#30340;&#65292;&#27604;&#22914;&#23545;&#20110;idx_key1&#26469;&#35828;&#65292;key1&#21015;&#23601;&#21487;&#33021;&#26377;&#24456;&#22810;&#20540;&#37325;&#22797;&#30340;&#35760;&#24405;&#12290;&#27492;&#26102;&#21482;&#26377;&#22312;&#32034;&#24341;&#21015;&#19978;&#21152;&#19978;&#20027;&#38190;&#20540;&#25165;&#21487;&#20197;&#21306;&#20998;&#20004;&#26465;&#32034;&#24341;&#21015;&#20540;&#37117;&#19968;&#26679;&#30340;&#20108;&#32423;&#32034;&#24341;&#35760;&#24405;&#12290;&#23545;&#20110;&#20027;&#38190;&#21644;&#21807;&#19968;&#20108;&#32423;&#32034;&#24341;&#21017;&#27809;&#26377;&#36825;&#20010;&#38382;&#39064;&#65292;&#23427;&#20204;&#26412;&#36523;&#23601;&#21487;&#20197;&#20445;&#35777;&#32034;&#24341;&#21015;&#20540;&#30340;&#19981;&#37325;&#22797;&#65292;&#25152;&#20197;&#20063;&#19981;&#38656;&#35201;&#20877;&#32479;&#35745;&#19968;&#36941;&#22312;&#32034;&#24341;&#21015;&#21518;&#21152;&#19978;&#20027;&#38190;&#20540;&#30340;&#19981;&#37325;&#22797;&#20540;&#26377;&#22810;&#23569;&#12290;&#27604;&#22914;&#19978;&#36793;&#30340;idx_key1&#26377;n_diff_pfx01&#12289;n_diff_pfx02&#20004;&#20010;&#32479;&#35745;&#39033;&#65292;&#32780;idx_key2&#21364;&#21482;&#26377;n_diff_pfx01&#19968;&#20010;&#32479;&#35745;&#39033;&#12290;
     </p>
    </blockquote>
   </li>
  </ul>
 </li>
 <li>
  <p>
   &#22312;&#35745;&#31639;&#26576;&#20123;&#32034;&#24341;&#21015;&#20013;&#21253;&#21547;&#22810;&#23569;&#19981;&#37325;&#22797;&#20540;&#26102;&#65292;&#38656;&#35201;&#23545;&#19968;&#20123;&#21494;&#23376;&#33410;&#28857;&#39029;&#38754;&#36827;&#34892;&#37319;&#26679;&#65292;
   <code>
    sample_size
   </code>
   &#21015;&#23601;&#34920;&#26126;&#20102;&#37319;&#26679;&#30340;&#39029;&#38754;&#25968;&#37327;&#26159;&#22810;&#23569;&#12290;
  </p>
  <blockquote class="warning">
   <p>
    &#23567;&#36148;&#22763;&#65306;

&#23545;&#20110;&#26377;&#22810;&#20010;&#21015;&#30340;&#32852;&#21512;&#32034;&#24341;&#26469;&#35828;&#65292;&#37319;&#26679;&#30340;&#39029;&#38754;&#25968;&#37327;&#26159;&#65306;innodb_stats_persistent_sample_pages &#215; &#32034;&#24341;&#21015;&#30340;&#20010;&#25968;&#12290;&#24403;&#38656;&#35201;&#37319;&#26679;&#30340;&#39029;&#38754;&#25968;&#37327;&#22823;&#20110;&#35813;&#32034;&#24341;&#30340;&#21494;&#23376;&#33410;&#28857;&#25968;&#37327;&#30340;&#35805;&#65292;&#23601;&#30452;&#25509;&#37319;&#29992;&#20840;&#34920;&#25195;&#25551;&#26469;&#32479;&#35745;&#32034;&#24341;&#21015;&#30340;&#19981;&#37325;&#22797;&#20540;&#25968;&#37327;&#20102;&#12290;&#25152;&#20197;&#22823;&#23478;&#21487;&#20197;&#22312;&#26597;&#35810;&#32467;&#26524;&#20013;&#30475;&#21040;&#19981;&#21516;&#32034;&#24341;&#23545;&#24212;&#30340;size&#21015;&#30340;&#20540;&#21487;&#33021;&#26159;&#19981;&#21516;&#30340;&#12290;
   </p>
  </blockquote>
 </li>
</ul>
<h3 class="heading">
 &#23450;&#26399;&#26356;&#26032;&#32479;&#35745;&#25968;&#25454;
</h3>
<p>
 &#38543;&#30528;&#25105;&#20204;&#19981;&#26029;&#30340;&#23545;&#34920;&#36827;&#34892;&#22686;&#21024;&#25913;&#25805;&#20316;&#65292;&#34920;&#20013;&#30340;&#25968;&#25454;&#20063;&#19968;&#30452;&#22312;&#21464;&#21270;&#65292;
 <code>
  innodb_table_stats
 </code>
 &#21644;
 <code>
  innodb_index_stats
 </code>
 &#34920;&#37324;&#30340;&#32479;&#35745;&#25968;&#25454;&#26159;&#19981;&#26159;&#20063;&#24212;&#35813;&#36319;&#30528;&#21464;&#19968;&#21464;&#20102;&#65311;&#24403;&#28982;&#35201;&#21464;&#20102;&#65292;&#19981;&#21464;&#30340;&#35805;
 <code>
  MySQL
 </code>
 &#26597;&#35810;&#20248;&#21270;&#22120;&#35745;&#31639;&#30340;&#25104;&#26412;&#21487;&#23601;&#24046;&#32769;&#40763;&#23376;&#36828;&#20102;&#12290;&#35774;&#35745;
 <code>
  MySQL
 </code>
 &#30340;&#22823;&#21460;&#25552;&#20379;&#20102;&#22914;&#19979;&#20004;&#31181;&#26356;&#26032;&#32479;&#35745;&#25968;&#25454;&#30340;&#26041;&#24335;&#65306;
</p>
<ul>
 <li>
  <p>
   &#24320;&#21551;
   <code>
    innodb_stats_auto_recalc
   </code>
   &#12290;
  </p>
  <p>
   &#31995;&#32479;&#21464;&#37327;
   <code>
    innodb_stats_auto_recalc
   </code>
   &#20915;&#23450;&#30528;&#26381;&#21153;&#22120;&#26159;&#21542;&#33258;&#21160;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#65292;&#23427;&#30340;&#40664;&#35748;&#20540;&#26159;
   <code>
    ON
   </code>
   &#65292;&#20063;&#23601;&#26159;&#35813;&#21151;&#33021;&#40664;&#35748;&#26159;&#24320;&#21551;&#30340;&#12290;&#27599;&#20010;&#34920;&#37117;&#32500;&#25252;&#20102;&#19968;&#20010;&#21464;&#37327;&#65292;&#35813;&#21464;&#37327;&#35760;&#24405;&#30528;&#23545;&#35813;&#34920;&#36827;&#34892;&#22686;&#21024;&#25913;&#30340;&#35760;&#24405;&#26465;&#25968;&#65292;&#22914;&#26524;&#21457;&#29983;&#21464;&#21160;&#30340;&#35760;&#24405;&#25968;&#37327;&#36229;&#36807;&#20102;&#34920;&#22823;&#23567;&#30340;
   <code>
    10%
   </code>
   &#65292;&#24182;&#19988;&#33258;&#21160;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#30340;&#21151;&#33021;&#26159;&#25171;&#24320;&#30340;&#65292;&#37027;&#20040;&#26381;&#21153;&#22120;&#20250;&#37325;&#26032;&#36827;&#34892;&#19968;&#27425;&#32479;&#35745;&#25968;&#25454;&#30340;&#35745;&#31639;&#65292;&#24182;&#19988;&#26356;&#26032;
   <code>
    innodb_table_stats
   </code>
   &#21644;
   <code>
    innodb_index_stats
   </code>
   &#34920;&#12290;&#19981;&#36807;
   <span style="color:red">
    &#33258;&#21160;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#30340;&#36807;&#31243;&#26159;&#24322;&#27493;&#21457;&#29983;&#30340;
   </span>
   &#65292;&#20063;&#23601;&#26159;&#21363;&#20351;&#34920;&#20013;&#21464;&#21160;&#30340;&#35760;&#24405;&#25968;&#36229;&#36807;&#20102;
   <code>
    10%
   </code>
   &#65292;&#33258;&#21160;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#20063;&#19981;&#20250;&#31435;&#21363;&#21457;&#29983;&#65292;&#21487;&#33021;&#20250;&#24310;&#36831;&#20960;&#31186;&#25165;&#20250;&#36827;&#34892;&#35745;&#31639;&#12290;
  </p>
  <p>
   &#20877;&#19968;&#27425;&#24378;&#35843;&#65292;
   <code>
    InnoDB
   </code>
   &#40664;&#35748;&#26159;
   <span style="color:red">
    &#20197;&#34920;&#20026;&#21333;&#20301;&#26469;&#25910;&#38598;&#21644;&#23384;&#20648;&#32479;&#35745;&#25968;&#25454;&#30340;
   </span>
   &#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#21333;&#29420;&#20026;&#26576;&#20010;&#34920;&#35774;&#32622;&#26159;&#21542;&#33258;&#21160;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#30340;&#23646;&#24615;&#65292;&#35774;&#32622;&#26041;&#24335;&#23601;&#26159;&#22312;&#21019;&#24314;&#25110;&#20462;&#25913;&#34920;&#30340;&#26102;&#20505;&#36890;&#36807;&#25351;&#23450;
   <code>
    STATS_AUTO_RECALC
   </code>
   &#23646;&#24615;&#26469;&#25351;&#26126;&#35813;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#23384;&#20648;&#26041;&#24335;&#65306;
  </p>
  <pre><code class="hljs bash" lang="bash">CREATE TABLE &#34920;&#21517; (...) Engine=InnoDB, STATS_AUTO_RECALC = (1|0);

ALTER TABLE &#34920;&#21517; Engine=InnoDB, STATS_AUTO_RECALC = (1|0);
</code></pre>
  <p>
   &#24403;
   <code>
    STATS_AUTO_RECALC=1
   </code>
   &#26102;&#65292;&#34920;&#26126;&#25105;&#20204;&#24819;&#35753;&#35813;&#34920;&#33258;&#21160;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#65292;&#24403;
   <code>
    STATS_AUTO_RECALC=0
   </code>
   &#26102;&#65292;&#34920;&#26126;&#19981;&#24819;&#35753;&#35813;&#34920;&#33258;&#21160;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#12290;&#22914;&#26524;&#25105;&#20204;&#22312;&#21019;&#24314;&#34920;&#26102;&#26410;&#25351;&#23450;
   <code>
    STATS_AUTO_RECALC
   </code>
   &#23646;&#24615;&#65292;&#37027;&#40664;&#35748;&#37319;&#29992;&#31995;&#32479;&#21464;&#37327;
   <code>
    innodb_stats_auto_recalc
   </code>
   &#30340;&#20540;&#20316;&#20026;&#35813;&#23646;&#24615;&#30340;&#20540;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#25163;&#21160;&#35843;&#29992;
   <code>
    ANALYZE TABLE
   </code>
   &#35821;&#21477;&#26469;&#26356;&#26032;&#32479;&#35745;&#20449;&#24687;
  </p>
  <p>
   &#22914;&#26524;
   <code>
    innodb_stats_auto_recalc
   </code>
   &#31995;&#32479;&#21464;&#37327;&#30340;&#20540;&#20026;
   <code>
    OFF
   </code>
   &#30340;&#35805;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#25163;&#21160;&#35843;&#29992;
   <code>
    ANALYZE TABLE
   </code>
   &#35821;&#21477;&#26469;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#65292;&#27604;&#22914;&#25105;&#20204;&#21487;&#20197;&#36825;&#26679;&#26356;&#26032;&#20851;&#20110;
   <code>
    single_table
   </code>
   &#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#65306;
  </p>
  <pre><code class="hljs bash" lang="bash">mysql&gt; ANALYZE TABLE single_table;
+------------------------+---------+----------+----------+
| Table                  | Op      | Msg_type | Msg_text |
+------------------------+---------+----------+----------+
| xiaohaizi.single_table | analyze | status   | OK       |
+------------------------+---------+----------+----------+
1 row <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.08 sec)
</code></pre>
  <p>
   &#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;
   <span style="color:red">
    ANALYZE TABLE&#35821;&#21477;&#20250;&#31435;&#21363;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#65292;&#20063;&#23601;&#26159;&#36825;&#20010;&#36807;&#31243;&#26159;&#21516;&#27493;&#30340;
   </span>
   &#65292;&#22312;&#34920;&#20013;&#32034;&#24341;&#22810;&#25110;&#32773;&#37319;&#26679;&#39029;&#38754;&#29305;&#21035;&#22810;&#26102;&#36825;&#20010;&#36807;&#31243;&#21487;&#33021;&#20250;&#29305;&#21035;&#24930;&#65292;&#35831;&#19981;&#35201;&#27809;&#20107;&#20799;&#23601;&#36816;&#34892;&#19968;&#19979;
   <code>
    ANALYZE TABLE
   </code>
   &#35821;&#21477;&#65292;&#26368;&#22909;&#22312;&#19994;&#21153;&#19981;&#26159;&#24456;&#32321;&#24537;&#30340;&#26102;&#20505;&#20877;&#36816;&#34892;&#12290;
  </p>
 </li>
</ul>
<h3 class="heading">
 &#25163;&#21160;&#26356;&#26032;
 <code>
  innodb_table_stats
 </code>
 &#21644;
 <code>
  innodb_index_stats
 </code>
 &#34920;
</h3>
<p>
 &#20854;&#23454;
 <code>
  innodb_table_stats
 </code>
 &#21644;
 <code>
  innodb_index_stats
 </code>
 &#34920;&#23601;&#30456;&#24403;&#20110;&#19968;&#20010;&#26222;&#36890;&#30340;&#34920;&#19968;&#26679;&#65292;&#25105;&#20204;&#33021;&#23545;&#23427;&#20204;&#20570;&#22686;&#21024;&#25913;&#26597;&#25805;&#20316;&#12290;&#36825;&#20063;&#23601;&#24847;&#21619;&#30528;&#25105;&#20204;&#21487;&#20197;
 <span style="color:red">
  &#25163;&#21160;&#26356;&#26032;&#26576;&#20010;&#34920;&#25110;&#32773;&#32034;&#24341;&#30340;&#32479;&#35745;&#25968;&#25454;
 </span>
 &#12290;&#27604;&#22914;&#35828;&#25105;&#20204;&#24819;&#25226;
 <code>
  single_table
 </code>
 &#34920;&#20851;&#20110;&#34892;&#25968;&#30340;&#32479;&#35745;&#25968;&#25454;&#26356;&#25913;&#19968;&#19979;&#21487;&#20197;&#36825;&#20040;&#20570;&#65306;
</p>
<ul>
 <li>
  <p>
   &#27493;&#39588;&#19968;&#65306;&#26356;&#26032;
   <code>
    innodb_table_stats
   </code>
   &#34920;&#12290;
  </p>
  <pre><code class="hljs bash" lang="bash">UPDATE innodb_table_stats 
    SET n_rows = 1
    WHERE table_name = <span class="hljs-string">'single_table'</span>;
</code></pre>
 </li>
 <li>
  <p>
   &#27493;&#39588;&#20108;&#65306;&#35753;
   <code>
    MySQL
   </code>
   &#26597;&#35810;&#20248;&#21270;&#22120;&#37325;&#26032;&#21152;&#36733;&#25105;&#20204;&#26356;&#25913;&#36807;&#30340;&#25968;&#25454;&#12290;
  </p>
  <p>
   &#26356;&#26032;&#23436;
   <code>
    innodb_table_stats
   </code>
   &#21482;&#26159;&#21333;&#32431;&#30340;&#20462;&#25913;&#20102;&#19968;&#20010;&#34920;&#30340;&#25968;&#25454;&#65292;&#38656;&#35201;&#35753;
   <code>
    MySQL
   </code>
   &#26597;&#35810;&#20248;&#21270;&#22120;&#37325;&#26032;&#21152;&#36733;&#25105;&#20204;&#26356;&#25913;&#36807;&#30340;&#25968;&#25454;&#65292;&#36816;&#34892;&#19979;&#36793;&#30340;&#21629;&#20196;&#23601;&#21487;&#20197;&#20102;&#65306;
  </p>
  <pre><code class="hljs bash" lang="bash">FLUSH TABLE single_table;
</code></pre>
 </li>
</ul>
<p>
 &#20043;&#21518;&#25105;&#20204;&#20351;&#29992;
 <code>
  SHOW TABLE STATUS
 </code>
 &#35821;&#21477;&#26597;&#30475;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#26102;&#23601;&#30475;&#21040;
 <code>
  Rows
 </code>
 &#34892;&#21464;&#20026;&#20102;
 <code>
  1
 </code>
 &#12290;
</p>
<h2 class="heading">
 &#22522;&#20110;&#20869;&#23384;&#30340;&#38750;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;
</h2>
<p>
 &#24403;&#25105;&#20204;&#25226;&#31995;&#32479;&#21464;&#37327;
 <code>
  innodb_stats_persistent
 </code>
 &#30340;&#20540;&#35774;&#32622;&#20026;
 <code>
  OFF
 </code>
 &#26102;&#65292;&#20043;&#21518;&#21019;&#24314;&#30340;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#40664;&#35748;&#23601;&#37117;&#26159;&#38750;&#27704;&#20037;&#24615;&#30340;&#20102;&#65292;&#25110;&#32773;&#25105;&#20204;&#30452;&#25509;&#22312;&#21019;&#24314;&#34920;&#25110;&#20462;&#25913;&#34920;&#26102;&#35774;&#32622;
 <code>
  STATS_PERSISTENT
 </code>
 &#23646;&#24615;&#30340;&#20540;&#20026;
 <code>
  0
 </code>
 &#65292;&#37027;&#20040;&#35813;&#34920;&#30340;&#32479;&#35745;&#25968;&#25454;&#23601;&#26159;&#38750;&#27704;&#20037;&#24615;&#30340;&#20102;&#12290;
</p>
<p>
 &#19982;&#27704;&#20037;&#24615;&#30340;&#32479;&#35745;&#25968;&#25454;&#19981;&#21516;&#65292;&#38750;&#27704;&#20037;&#24615;&#30340;&#32479;&#35745;&#25968;&#25454;&#37319;&#26679;&#30340;&#39029;&#38754;&#25968;&#37327;&#26159;&#30001;
 <code>
  innodb_stats_transient_sample_pages
 </code>
 &#25511;&#21046;&#30340;&#65292;&#36825;&#20010;&#31995;&#32479;&#21464;&#37327;&#30340;&#40664;&#35748;&#20540;&#26159;
 <code>
  8
 </code>
 &#12290;
</p>
<p>
 &#21478;&#22806;&#65292;&#30001;&#20110;&#38750;&#27704;&#20037;&#24615;&#30340;&#32479;&#35745;&#25968;&#25454;&#32463;&#24120;&#26356;&#26032;&#65292;&#25152;&#20197;&#23548;&#33268;
 <code>
  MySQL
 </code>
 &#26597;&#35810;&#20248;&#21270;&#22120;&#35745;&#31639;&#26597;&#35810;&#25104;&#26412;&#30340;&#26102;&#20505;&#20381;&#36182;&#30340;&#26159;&#32463;&#24120;&#21464;&#21270;&#30340;&#32479;&#35745;&#25968;&#25454;&#65292;&#20063;&#23601;&#20250;
 <span style="color:red">
  &#29983;&#25104;&#32463;&#24120;&#21464;&#21270;&#30340;&#25191;&#34892;&#35745;&#21010;
 </span>
 &#65292;&#36825;&#20010;&#21487;&#33021;&#35753;&#22823;&#23478;&#26377;&#20123;&#25077;&#36924;&#12290;&#19981;&#36807;&#26368;&#36817;&#30340;
 <code>
  MySQL
 </code>
 &#29256;&#26412;&#37117;&#19981;&#21643;&#29992;&#36825;&#31181;&#22522;&#20110;&#20869;&#23384;&#30340;&#38750;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;&#20102;&#65292;&#25152;&#20197;&#25105;&#20204;&#20063;&#23601;&#19981;&#28145;&#20837;&#21792;&#21480;&#23427;&#20102;&#12290;
</p>
<h2 class="heading">
 innodb_stats_method&#30340;&#20351;&#29992;
</h2>
<p>
 &#25105;&#20204;&#30693;&#36947;
 <code>
  &#32034;&#24341;&#21015;&#19981;&#37325;&#22797;&#30340;&#20540;&#30340;&#25968;&#37327;
 </code>
 &#36825;&#20010;&#32479;&#35745;&#25968;&#25454;&#23545;&#20110;
 <code>
  MySQL
 </code>
 &#26597;&#35810;&#20248;&#21270;&#22120;&#21313;&#20998;&#37325;&#35201;&#65292;&#22240;&#20026;&#36890;&#36807;&#23427;&#21487;&#20197;&#35745;&#31639;&#20986;&#22312;&#32034;&#24341;&#21015;&#20013;&#24179;&#22343;&#19968;&#20010;&#20540;&#37325;&#22797;&#22810;&#23569;&#34892;&#65292;&#23427;&#30340;&#24212;&#29992;&#22330;&#26223;&#20027;&#35201;&#26377;&#20004;&#20010;&#65306;
</p>
<ul>
 <li>
  <p>
   &#21333;&#34920;&#26597;&#35810;&#20013;&#21333;&#28857;&#21306;&#38388;&#22826;&#22810;&#65292;&#27604;&#26041;&#35828;&#36825;&#26679;&#65306;
  </p>
  <pre><code class="hljs bash" lang="bash">SELECT * FROM tbl_name WHERE key IN (<span class="hljs-string">'xx1'</span>, <span class="hljs-string">'xx2'</span>, ..., <span class="hljs-string">'xxn'</span>);
</code></pre>
  <p>
   &#24403;
   <code>
    IN
   </code>
   &#37324;&#30340;&#21442;&#25968;&#25968;&#37327;&#36807;&#22810;&#26102;&#65292;&#37319;&#29992;
   <code>
    index dive
   </code>
   &#30340;&#26041;&#24335;&#30452;&#25509;&#35775;&#38382;
   <code>
    B+
   </code>
   &#26641;&#32034;&#24341;&#21435;&#32479;&#35745;&#27599;&#20010;&#21333;&#28857;&#21306;&#38388;&#23545;&#24212;&#30340;&#35760;&#24405;&#30340;&#25968;&#37327;&#23601;&#22826;&#32791;&#36153;&#24615;&#33021;&#20102;&#65292;&#25152;&#20197;&#30452;&#25509;&#20381;&#36182;&#32479;&#35745;&#25968;&#25454;&#20013;&#30340;&#24179;&#22343;&#19968;&#20010;&#20540;&#37325;&#22797;&#22810;&#23569;&#34892;&#26469;&#35745;&#31639;&#21333;&#28857;&#21306;&#38388;&#23545;&#24212;&#30340;&#35760;&#24405;&#25968;&#37327;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#36830;&#25509;&#26597;&#35810;&#26102;&#65292;&#22914;&#26524;&#26377;&#28041;&#21450;&#20004;&#20010;&#34920;&#30340;&#31561;&#20540;&#21305;&#37197;&#36830;&#25509;&#26465;&#20214;&#65292;&#35813;&#36830;&#25509;&#26465;&#20214;&#23545;&#24212;&#30340;&#34987;&#39537;&#21160;&#34920;&#20013;&#30340;&#21015;&#21448;&#25317;&#26377;&#32034;&#24341;&#26102;&#65292;&#21017;&#21487;&#20197;&#20351;&#29992;
   <code>
    ref
   </code>
   &#35775;&#38382;&#26041;&#27861;&#26469;&#23545;&#34987;&#39537;&#21160;&#34920;&#36827;&#34892;&#26597;&#35810;&#65292;&#27604;&#26041;&#35828;&#36825;&#26679;&#65306;
  </p>
  <pre><code class="hljs bash" lang="bash">SELECT * FROM t1 JOIN t2 ON t1.column = t2.key WHERE ...;
</code></pre>
  <p>
   &#22312;&#30495;&#27491;&#25191;&#34892;&#23545;
   <code>
    t2
   </code>
   &#34920;&#30340;&#26597;&#35810;&#21069;&#65292;
   <code>
    t1.comumn
   </code>
   &#30340;&#20540;&#26159;&#19981;&#30830;&#23450;&#30340;&#65292;&#25152;&#20197;&#25105;&#20204;&#20063;&#19981;&#33021;&#36890;&#36807;
   <code>
    index dive
   </code>
   &#30340;&#26041;&#24335;&#30452;&#25509;&#35775;&#38382;
   <code>
    B+
   </code>
   &#26641;&#32034;&#24341;&#21435;&#32479;&#35745;&#27599;&#20010;&#21333;&#28857;&#21306;&#38388;&#23545;&#24212;&#30340;&#35760;&#24405;&#30340;&#25968;&#37327;&#65292;&#25152;&#20197;&#20063;&#21482;&#33021;&#20381;&#36182;&#32479;&#35745;&#25968;&#25454;&#20013;&#30340;&#24179;&#22343;&#19968;&#20010;&#20540;&#37325;&#22797;&#22810;&#23569;&#34892;&#26469;&#35745;&#31639;&#21333;&#28857;&#21306;&#38388;&#23545;&#24212;&#30340;&#35760;&#24405;&#25968;&#37327;&#12290;
  </p>
 </li>
</ul>
<p>
 &#22312;&#32479;&#35745;&#32034;&#24341;&#21015;&#19981;&#37325;&#22797;&#30340;&#20540;&#30340;&#25968;&#37327;&#26102;&#65292;&#26377;&#19968;&#20010;&#27604;&#36739;&#28902;&#30340;&#38382;&#39064;&#23601;&#26159;&#32034;&#24341;&#21015;&#20013;&#20986;&#29616;
 <code>
  NULL
 </code>
 &#20540;&#24590;&#20040;&#21150;&#65292;&#27604;&#26041;&#35828;&#26576;&#20010;&#32034;&#24341;&#21015;&#30340;&#20869;&#23481;&#26159;&#36825;&#26679;&#65306;
</p>
<pre><code class="hljs bash" lang="bash">+------+
| col  |
+------+
|    1 |
|    2 |
| NULL |
| NULL |
+------+
</code></pre>
<p>
 &#27492;&#26102;&#35745;&#31639;&#36825;&#20010;
 <code>
  col
 </code>
 &#21015;&#20013;&#19981;&#37325;&#22797;&#30340;&#20540;&#30340;&#25968;&#37327;&#23601;&#26377;&#19979;&#36793;&#30340;&#20998;&#27495;&#65306;
</p>
<ul>
 <li>
  <p>
   &#26377;&#30340;&#20154;&#35748;&#20026;
   <code>
    NULL
   </code>
   &#20540;&#20195;&#34920;&#19968;&#20010;&#26410;&#30830;&#23450;&#30340;&#20540;&#65292;&#25152;&#20197;&#35774;&#35745;
   <code>
    MySQL
   </code>
   &#30340;&#22823;&#21460;&#25165;&#35748;&#20026;&#20219;&#20309;&#21644;
   <code>
    NULL
   </code>
   &#20540;&#20570;&#27604;&#36739;&#30340;&#34920;&#36798;&#24335;&#30340;&#20540;&#37117;&#20026;
   <code>
    NULL
   </code>
   &#65292;&#23601;&#26159;&#36825;&#26679;&#65306;
  </p>
  <pre><code class="hljs bash" lang="bash">mysql&gt; SELECT 1 = NULL;
+----------+
| 1 = NULL |
+----------+
|     NULL |
+----------+
1 row <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.00 sec)

mysql&gt; SELECT 1 != NULL;
+-----------+
| 1 != NULL |
+-----------+
|      NULL |
+-----------+
1 row <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.00 sec)

mysql&gt; SELECT NULL = NULL;
+-------------+
| NULL = NULL |
+-------------+
|        NULL |
+-------------+
1 row <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.00 sec)

mysql&gt; SELECT NULL != NULL;
+--------------+
| NULL != NULL |
+--------------+
|         NULL |
+--------------+
1 row <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.00 sec)
</code></pre>
  <p>
   &#25152;&#20197;&#27599;&#19968;&#20010;
   <code>
    NULL
   </code>
   &#20540;&#37117;&#26159;&#29420;&#19968;&#26080;&#20108;&#30340;&#65292;&#20063;&#23601;&#26159;&#35828;&#32479;&#35745;&#32034;&#24341;&#21015;&#19981;&#37325;&#22797;&#30340;&#20540;&#30340;&#25968;&#37327;&#26102;&#65292;&#24212;&#35813;&#25226;
   <code>
    NULL
   </code>
   &#20540;&#24403;&#20316;&#19968;&#20010;&#29420;&#31435;&#30340;&#20540;&#65292;&#25152;&#20197;
   <code>
    col
   </code>
   &#21015;&#30340;&#19981;&#37325;&#22797;&#30340;&#20540;&#30340;&#25968;&#37327;&#23601;&#26159;&#65306;
   <code>
    4
   </code>
   &#65288;&#20998;&#21035;&#26159;1&#12289;2&#12289;NULL&#12289;NULL&#36825;&#22235;&#20010;&#20540;&#65289;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#26377;&#30340;&#20154;&#35748;&#20026;&#20854;&#23454;
   <code>
    NULL
   </code>
   &#20540;&#22312;&#19994;&#21153;&#19978;&#23601;&#26159;&#20195;&#34920;&#27809;&#26377;&#65292;&#25152;&#26377;&#30340;
   <code>
    NULL
   </code>
   &#20540;&#20195;&#34920;&#30340;&#24847;&#20041;&#26159;&#19968;&#26679;&#30340;&#65292;&#25152;&#20197;
   <code>
    col
   </code>
   &#21015;&#19981;&#37325;&#22797;&#30340;&#20540;&#30340;&#25968;&#37327;&#23601;&#26159;&#65306;
   <code>
    3
   </code>
   &#65288;&#20998;&#21035;&#26159;1&#12289;2&#12289;NULL&#36825;&#19977;&#20010;&#20540;&#65289;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#26377;&#30340;&#20154;&#35748;&#20026;&#36825;
   <code>
    NULL
   </code>
   &#23436;&#20840;&#27809;&#26377;&#24847;&#20041;&#22043;&#65292;&#25152;&#20197;&#22312;&#32479;&#35745;&#32034;&#24341;&#21015;&#19981;&#37325;&#22797;&#30340;&#20540;&#30340;&#25968;&#37327;&#26102;&#21387;&#26681;&#20799;&#19981;&#33021;&#25226;&#23427;&#20204;&#31639;&#36827;&#26469;&#65292;&#25152;&#20197;
   <code>
    col
   </code>
   &#21015;&#19981;&#37325;&#22797;&#30340;&#20540;&#30340;&#25968;&#37327;&#23601;&#26159;&#65306;
   <code>
    2
   </code>
   &#65288;&#20998;&#21035;&#26159;1&#12289;2&#36825;&#20004;&#20010;&#20540;&#65289;&#12290;
  </p>
 </li>
</ul>
<p>
 &#35774;&#35745;
 <code>
  MySQL
 </code>
 &#30340;&#22823;&#21460;&#34542;&#36148;&#24515;&#30340;&#65292;&#20182;&#20204;&#25552;&#20379;&#20102;&#19968;&#20010;&#21517;&#20026;
 <code>
  innodb_stats_method
 </code>
 &#30340;&#31995;&#32479;&#21464;&#37327;&#65292;&#30456;&#24403;&#20110;&#22312;&#35745;&#31639;&#26576;&#20010;&#32034;&#24341;&#21015;&#19981;&#37325;&#22797;&#20540;&#30340;&#25968;&#37327;&#26102;&#22914;&#20309;&#23545;&#24453;
 <code>
  NULL
 </code>
 &#20540;&#36825;&#20010;&#38149;&#29993;&#32473;&#20102;&#29992;&#25143;&#65292;&#36825;&#20010;&#31995;&#32479;&#21464;&#37327;&#26377;&#19977;&#20010;&#20505;&#36873;&#20540;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    nulls_equal
   </code>
   &#65306;&#35748;&#20026;&#25152;&#26377;
   <code>
    NULL
   </code>
   &#20540;&#37117;&#26159;&#30456;&#31561;&#30340;&#12290;&#36825;&#20010;&#20540;&#20063;&#26159;
   <code>
    innodb_stats_method
   </code>
   &#30340;&#40664;&#35748;&#20540;&#12290;
  </p>
  <p>
   &#22914;&#26524;&#26576;&#20010;&#32034;&#24341;&#21015;&#20013;
   <code>
    NULL
   </code>
   &#20540;&#29305;&#21035;&#22810;&#30340;&#35805;&#65292;&#36825;&#31181;&#32479;&#35745;&#26041;&#24335;&#20250;&#35753;&#20248;&#21270;&#22120;&#35748;&#20026;&#26576;&#20010;&#21015;&#20013;&#24179;&#22343;&#19968;&#20010;&#20540;&#37325;&#22797;&#27425;&#25968;&#29305;&#21035;&#22810;&#65292;&#25152;&#20197;&#20542;&#21521;&#20110;&#19981;&#20351;&#29992;&#32034;&#24341;&#36827;&#34892;&#35775;&#38382;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    nulls_unequal
   </code>
   &#65306;&#35748;&#20026;&#25152;&#26377;
   <code>
    NULL
   </code>
   &#20540;&#37117;&#26159;&#19981;&#30456;&#31561;&#30340;&#12290;
  </p>
  <p>
   &#22914;&#26524;&#26576;&#20010;&#32034;&#24341;&#21015;&#20013;
   <code>
    NULL
   </code>
   &#20540;&#29305;&#21035;&#22810;&#30340;&#35805;&#65292;&#36825;&#31181;&#32479;&#35745;&#26041;&#24335;&#20250;&#35753;&#20248;&#21270;&#22120;&#35748;&#20026;&#26576;&#20010;&#21015;&#20013;&#24179;&#22343;&#19968;&#20010;&#20540;&#37325;&#22797;&#27425;&#25968;&#29305;&#21035;&#23569;&#65292;&#25152;&#20197;&#20542;&#21521;&#20110;&#20351;&#29992;&#32034;&#24341;&#36827;&#34892;&#35775;&#38382;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    nulls_ignored
   </code>
   &#65306;&#30452;&#25509;&#25226;
   <code>
    NULL
   </code>
   &#20540;&#24573;&#30053;&#25481;&#12290;
  </p>
 </li>
</ul>
<p>
 &#21453;&#27491;&#36825;&#20010;&#38149;&#26159;&#29993;&#32473;&#29992;&#25143;&#20102;&#65292;&#24403;&#20320;&#36873;&#23450;&#20102;
 <code>
  innodb_stats_method
 </code>
 &#20540;&#20043;&#21518;&#65292;&#20248;&#21270;&#22120;&#21363;&#20351;&#36873;&#25321;&#20102;&#19981;&#26159;&#26368;&#20248;&#30340;&#25191;&#34892;&#35745;&#21010;&#65292;&#37027;&#20063;&#36319;&#35774;&#35745;
 <code>
  MySQL
 </code>
 &#30340;&#22823;&#21460;&#20204;&#27809;&#20851;&#31995;&#20102;&#21704;&#65374; &#24403;&#28982;&#23545;&#20110;&#29992;&#25143;&#30340;&#25105;&#20204;&#26469;&#35828;&#65292;
 <span style="color:red">
  &#26368;&#22909;&#19981;&#22312;&#32034;&#24341;&#21015;&#20013;&#23384;&#25918;NULL&#20540;&#25165;&#26159;&#27491;&#35299;
 </span>
 &#12290;
</p>
<h2 class="heading">
 &#24635;&#32467;
</h2>
<ul>
 <li>
  <p>
   <code>
    InnoDB
   </code>
   &#20197;&#34920;&#20026;&#21333;&#20301;&#26469;&#25910;&#38598;&#32479;&#35745;&#25968;&#25454;&#65292;&#36825;&#20123;&#32479;&#35745;&#25968;&#25454;&#21487;&#20197;&#26159;&#22522;&#20110;&#30913;&#30424;&#30340;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;&#65292;&#20063;&#21487;&#20197;&#26159;&#22522;&#20110;&#20869;&#23384;&#30340;&#38750;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    innodb_stats_persistent
   </code>
   &#25511;&#21046;&#30528;&#20351;&#29992;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;&#36824;&#26159;&#38750;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;&#65307;
   <code>
    innodb_stats_persistent_sample_pages
   </code>
   &#25511;&#21046;&#30528;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;&#30340;&#37319;&#26679;&#39029;&#38754;&#25968;&#37327;&#65307;
   <code>
    innodb_stats_transient_sample_pages
   </code>
   &#25511;&#21046;&#30528;&#38750;&#27704;&#20037;&#24615;&#32479;&#35745;&#25968;&#25454;&#30340;&#37319;&#26679;&#39029;&#38754;&#25968;&#37327;&#65307;
   <code>
    innodb_stats_auto_recalc
   </code>
   &#25511;&#21046;&#30528;&#26159;&#21542;&#33258;&#21160;&#37325;&#26032;&#35745;&#31639;&#32479;&#35745;&#25968;&#25454;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#25105;&#20204;&#21487;&#20197;&#38024;&#23545;&#26576;&#20010;&#20855;&#20307;&#30340;&#34920;&#65292;&#22312;&#21019;&#24314;&#21644;&#20462;&#25913;&#34920;&#26102;&#36890;&#36807;&#25351;&#23450;
   <code>
    STATS_PERSISTENT
   </code>
   &#12289;
   <code>
    STATS_AUTO_RECALC
   </code>
   &#12289;
   <code>
    STATS_SAMPLE_PAGES
   </code>
   &#30340;&#20540;&#26469;&#25511;&#21046;&#30456;&#20851;&#32479;&#35745;&#25968;&#25454;&#23646;&#24615;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    innodb_stats_method
   </code>
   &#20915;&#23450;&#30528;&#22312;&#32479;&#35745;&#26576;&#20010;&#32034;&#24341;&#21015;&#19981;&#37325;&#22797;&#20540;&#30340;&#25968;&#37327;&#26102;&#22914;&#20309;&#23545;&#24453;
   <code>
    NULL
   </code>
   &#20540;&#12290;
  </p>
 </li>
</ul>

</div>

</div>
</div>
