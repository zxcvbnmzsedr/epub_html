<div><div class="markdown-body">
    <h1>&#35828;&#36807;&#30340;&#35805;&#23601;&#19968;&#23450;&#35201;&#21150;&#21040; &#8212;&#8212; redo &#26085;&#24535;&#65288;&#19979;&#65289;</h1>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="style/style.css" type="text/css">

<div class="markdown-body">
    <h1>
 redo&#26085;&#24535;&#65288;&#19979;&#65289;
</h1>
<p>
 &#26631;&#31614;&#65306; MySQL&#26159;&#24590;&#26679;&#36816;&#34892;&#30340;
</p>
<hr>
<h2>
 redo&#26085;&#24535;&#25991;&#20214;
</h2>
<h3>
 redo&#26085;&#24535;&#21047;&#30424;&#26102;&#26426;
</h3>
<p>
 &#25105;&#20204;&#21069;&#36793;&#35828;
 <code>
  mtr
 </code>
 &#36816;&#34892;&#36807;&#31243;&#20013;&#20135;&#29983;&#30340;&#19968;&#32452;
 <code>
  redo
 </code>
 &#26085;&#24535;&#22312;
 <code>
  mtr
 </code>
 &#32467;&#26463;&#26102;&#20250;&#34987;&#22797;&#21046;&#21040;
 <code>
  log buffer
 </code>
 &#20013;&#65292;&#21487;&#26159;&#36825;&#20123;&#26085;&#24535;&#24635;&#22312;&#20869;&#23384;&#37324;&#21574;&#30528;&#20063;&#19981;&#26159;&#20010;&#21150;&#27861;&#65292;&#22312;&#19968;&#20123;&#24773;&#20917;&#19979;&#23427;&#20204;&#20250;&#34987;&#21047;&#26032;&#21040;&#30913;&#30424;&#37324;&#65292;&#27604;&#22914;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    log buffer
   </code>
   &#31354;&#38388;&#19981;&#36275;&#26102;
  </p>
  <p>
   <code>
    log buffer
   </code>
   &#30340;&#22823;&#23567;&#26159;&#26377;&#38480;&#30340;&#65288;&#36890;&#36807;&#31995;&#32479;&#21464;&#37327;
   <code>
    innodb_log_buffer_size
   </code>
   &#25351;&#23450;&#65289;&#65292;&#22914;&#26524;&#19981;&#20572;&#30340;&#24448;&#36825;&#20010;&#26377;&#38480;&#22823;&#23567;&#30340;
   <code>
    log buffer
   </code>
   &#37324;&#22622;&#20837;&#26085;&#24535;&#65292;&#24456;&#24555;&#23427;&#23601;&#20250;&#34987;&#22635;&#28385;&#12290;&#35774;&#35745;
   <code>
    InnoDB
   </code>
   &#30340;&#22823;&#21460;&#35748;&#20026;&#22914;&#26524;&#24403;&#21069;&#20889;&#20837;
   <code>
    log buffer
   </code>
   &#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#37327;&#24050;&#32463;&#21344;&#28385;&#20102;
   <code>
    log buffer
   </code>
   &#24635;&#23481;&#37327;&#30340;&#22823;&#32422;&#19968;&#21322;&#24038;&#21491;&#65292;&#23601;&#38656;&#35201;&#25226;&#36825;&#20123;&#26085;&#24535;&#21047;&#26032;&#21040;&#30913;&#30424;&#19978;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#20107;&#21153;&#25552;&#20132;&#26102;
  </p>
  <p>
   &#25105;&#20204;&#21069;&#36793;&#35828;&#36807;&#20043;&#25152;&#20197;&#20351;&#29992;
   <code>
    redo
   </code>
   &#26085;&#24535;&#20027;&#35201;&#26159;&#22240;&#20026;&#23427;&#21344;&#29992;&#30340;&#31354;&#38388;&#23569;&#65292;&#36824;&#26159;&#39034;&#24207;&#20889;&#65292;&#22312;&#20107;&#21153;&#25552;&#20132;&#26102;&#21487;&#20197;&#19981;&#25226;&#20462;&#25913;&#36807;&#30340;
   <code>
    Buffer Pool
   </code>
   &#39029;&#38754;&#21047;&#26032;&#21040;&#30913;&#30424;&#65292;&#20294;&#26159;&#20026;&#20102;&#20445;&#35777;&#25345;&#20037;&#24615;&#65292;&#24517;&#39035;&#35201;&#25226;&#20462;&#25913;&#36825;&#20123;&#39029;&#38754;&#23545;&#24212;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#21047;&#26032;&#21040;&#30913;&#30424;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#23558;&#26576;&#20010;&#33039;&#39029;&#21047;&#26032;&#21040;&#30913;&#30424;&#21069;&#65292;&#20250;&#20445;&#35777;&#20808;&#23558;&#35813;&#33039;&#39029;&#23545;&#24212;&#30340; redo &#26085;&#24535;&#21047;&#26032;&#21040;&#30913;&#30424;&#20013;&#65288;&#20877;&#19968;&#27425; &#24378;&#35843;&#65292;redo &#26085;&#24535;&#26159;&#39034;&#24207;&#21047;&#26032;&#30340;&#65292;&#25152;&#20197;&#22312;&#23558;&#26576;&#20010;&#33039;&#39029;&#23545;&#24212;&#30340; redo &#26085;&#24535;&#20174; redo log buffer &#21047;&#26032;&#21040;&#30913;&#30424;&#26102;&#65292;&#20063;&#20250;&#20445;&#35777;&#23558;&#22312;&#20854;&#20043;&#21069;&#20135;&#29983;&#30340; redo &#26085;&#24535;&#20063;&#21047;&#26032;&#21040;&#30913;&#30424;&#65289;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#21518;&#21488;&#32447;&#31243;&#19981;&#20572;&#30340;&#21047;&#21047;&#21047;
  </p>
  <p>
   &#21518;&#21488;&#26377;&#19968;&#20010;&#32447;&#31243;&#65292;&#22823;&#32422;&#27599;&#31186;&#37117;&#20250;&#21047;&#26032;&#19968;&#27425;
   <code>
    log buffer
   </code>
   &#20013;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#21040;&#30913;&#30424;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#27491;&#24120;&#20851;&#38381;&#26381;&#21153;&#22120;&#26102;
  </p>
 </li>
 <li>
  <p>
   &#20570;&#25152;&#35859;&#30340;
   <code>
    checkpoint
   </code>
   &#26102;&#65288;&#25105;&#20204;&#29616;&#22312;&#27809;&#20171;&#32461;&#36807;
   <code>
    checkpoint
   </code>
   &#30340;&#27010;&#24565;&#65292;&#31245;&#21518;&#20250;&#20180;&#32454;&#21792;&#21480;&#65292;&#31245;&#23433;&#21247;&#36481;&#65289;
  </p>
 </li>
 <li>
  <p>
   &#20854;&#20182;&#30340;&#19968;&#20123;&#24773;&#20917;...
  </p>
 </li>
</ul>
<h3>
 redo&#26085;&#24535;&#25991;&#20214;&#32452;
</h3>
<p>
 <code>
  MySQL
 </code>
 &#30340;&#25968;&#25454;&#30446;&#24405;&#65288;&#20351;&#29992;
 <code>
  SHOW VARIABLES LIKE 'datadir'
 </code>
 &#26597;&#30475;&#65289;&#19979;&#40664;&#35748;&#26377;&#20004;&#20010;&#21517;&#20026;
 <code>
  ib_logfile0
 </code>
 &#21644;
 <code>
  ib_logfile1
 </code>
 &#30340;&#25991;&#20214;&#65292;
 <code>
  log buffer
 </code>
 &#20013;&#30340;&#26085;&#24535;&#40664;&#35748;&#24773;&#20917;&#19979;&#23601;&#26159;&#21047;&#26032;&#21040;&#36825;&#20004;&#20010;&#30913;&#30424;&#25991;&#20214;&#20013;&#12290;&#22914;&#26524;&#25105;&#20204;&#23545;&#40664;&#35748;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#19981;&#28385;&#24847;&#65292;&#21487;&#20197;&#36890;&#36807;&#19979;&#36793;&#20960;&#20010;&#21551;&#21160;&#21442;&#25968;&#26469;&#35843;&#33410;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    innodb_log_group_home_dir
   </code>
  </p>
  <p>
   &#35813;&#21442;&#25968;&#25351;&#23450;&#20102;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#25152;&#22312;&#30340;&#30446;&#24405;&#65292;&#40664;&#35748;&#20540;&#23601;&#26159;&#24403;&#21069;&#30340;&#25968;&#25454;&#30446;&#24405;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    innodb_log_file_size
   </code>
  </p>
  <p>
   &#35813;&#21442;&#25968;&#25351;&#23450;&#20102;&#27599;&#20010;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#30340;&#22823;&#23567;&#65292;&#22312;
   <code>
    MySQL 5.7.21
   </code>
   &#36825;&#20010;&#29256;&#26412;&#20013;&#30340;&#40664;&#35748;&#20540;&#20026;
   <code>
    48MB
   </code>
   &#65292;
  </p>
 </li>
 <li>
  <p>
   <code>
    innodb_log_files_in_group
   </code>
  </p>
  <p>
   &#35813;&#21442;&#25968;&#25351;&#23450;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#30340;&#20010;&#25968;&#65292;&#40664;&#35748;&#20540;&#20026;2&#65292;&#26368;&#22823;&#20540;&#20026;100&#12290;
  </p>
 </li>
</ul>
<p>
 &#20174;&#19978;&#36793;&#30340;&#25551;&#36848;&#20013;&#21487;&#20197;&#30475;&#21040;&#65292;&#30913;&#30424;&#19978;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#19981;&#21482;&#19968;&#20010;&#65292;&#32780;&#26159;&#20197;&#19968;&#20010;
 <code>
  &#26085;&#24535;&#25991;&#20214;&#32452;
 </code>
 &#30340;&#24418;&#24335;&#20986;&#29616;&#30340;&#12290;&#36825;&#20123;&#25991;&#20214;&#20197;
 <code>
  ib_logfile[&#25968;&#23383;]
 </code>
 &#65288;
 <code>
  &#25968;&#23383;
 </code>
 &#21487;&#20197;&#26159;
 <code>
  0
 </code>
 &#12289;
 <code>
  1
 </code>
 &#12289;
 <code>
  2
 </code>
 ...&#65289;&#30340;&#24418;&#24335;&#36827;&#34892;&#21629;&#21517;&#12290;&#22312;&#23558;
 <code>
  redo
 </code>
 &#26085;&#24535;&#20889;&#20837;
 <code>
  &#26085;&#24535;&#25991;&#20214;&#32452;
 </code>
 &#26102;&#65292;&#26159;&#20174;
 <code>
  ib_logfile0
 </code>
 &#24320;&#22987;&#20889;&#65292;&#22914;&#26524;
 <code>
  ib_logfile0
 </code>
 &#20889;&#28385;&#20102;&#65292;&#23601;&#25509;&#30528;
 <code>
  ib_logfile1
 </code>
 &#20889;&#65292;&#21516;&#29702;&#65292;
 <code>
  ib_logfile1
 </code>
 &#20889;&#28385;&#20102;&#23601;&#21435;&#20889;
 <code>
  ib_logfile2
 </code>
 &#65292;&#20381;&#27492;&#31867;&#25512;&#12290;&#22914;&#26524;&#20889;&#21040;&#26368;&#21518;&#19968;&#20010;&#25991;&#20214;&#35813;&#21643;&#21150;&#65311;&#37027;&#23601;&#37325;&#26032;&#36716;&#21040;
 <code>
  ib_logfile0
 </code>
 &#32487;&#32493;&#20889;&#65292;&#25152;&#20197;&#25972;&#20010;&#36807;&#31243;&#22914;&#19979;&#22270;&#25152;&#31034;&#65306;
</p>
<p>
 <img alt="image_1d4mu4s6f7491l7l1jcc6pc1rbk16.png-49.7kB" src="EPUB/366f3b6e-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#24635;&#20849;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#22823;&#23567;&#20854;&#23454;&#23601;&#26159;&#65306;
 <code>
  innodb_log_file_size &#215; innodb_log_files_in_group
 </code>
 &#12290;
</p>
<pre><code class="hljs language-!">&#23567;&#36148;&#22763;&#65306;&#22914;&#26524;&#37319;&#29992;&#24490;&#29615;&#20351;&#29992;&#30340;&#26041;&#24335;&#21521;redo&#26085;&#24535;&#25991;&#20214;&#32452;&#37324;&#20889;&#25968;&#25454;&#30340;&#35805;&#65292;&#37027;&#23682;&#19981;&#26159;&#35201;&#36861;&#23614;&#65292;&#20063;&#23601;&#26159;&#21518;&#20889;&#20837;&#30340;redo&#26085;&#24535;&#35206;&#30422;&#25481;&#21069;&#36793;&#20889;&#30340;redo&#26085;&#24535;&#65311;&#24403;&#28982;&#21487;&#33021;&#20102;&#65281;&#25152;&#20197;&#35774;&#35745;InnoDB&#30340;&#22823;&#21460;&#25552;&#20986;&#20102;checkpoint&#30340;&#27010;&#24565;&#65292;&#31245;&#21518;&#25105;&#20204;&#37325;&#28857;&#21792;&#21480;&#65374;
</code></pre>
<h3>
 redo&#26085;&#24535;&#25991;&#20214;&#26684;&#24335;
</h3>
<p>
 &#25105;&#20204;&#21069;&#36793;&#35828;&#36807;
 <code>
  log buffer
 </code>
 &#26412;&#36136;&#19978;&#26159;&#19968;&#29255;&#36830;&#32493;&#30340;&#20869;&#23384;&#31354;&#38388;&#65292;&#34987;&#21010;&#20998;&#25104;&#20102;&#33509;&#24178;&#20010;
 <code>
  512
 </code>
 &#23383;&#33410;&#22823;&#23567;&#30340;
 <code>
  block
 </code>
 &#12290;
 <span>
  &#23558;log buffer&#20013;&#30340;redo&#26085;&#24535;&#21047;&#26032;&#21040;&#30913;&#30424;&#30340;&#26412;&#36136;&#23601;&#26159;&#25226;block&#30340;&#38236;&#20687;&#20889;&#20837;&#26085;&#24535;&#25991;&#20214;&#20013;
 </span>
 &#65292;&#25152;&#20197;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#20854;&#23454;&#20063;&#26159;&#30001;&#33509;&#24178;&#20010;
 <code>
  512
 </code>
 &#23383;&#33410;&#22823;&#23567;&#30340;block&#32452;&#25104;&#12290;
</p>
<p>
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#30340;&#27599;&#20010;&#25991;&#20214;&#22823;&#23567;&#37117;&#19968;&#26679;&#65292;&#26684;&#24335;&#20063;&#19968;&#26679;&#65292;&#37117;&#26159;&#30001;&#20004;&#37096;&#20998;&#32452;&#25104;&#65306;
</p>
<ul>
 <li>
  <p>
   &#21069;2048&#20010;&#23383;&#33410;&#65292;&#20063;&#23601;&#26159;&#21069;4&#20010;block&#26159;&#29992;&#26469;&#23384;&#20648;&#19968;&#20123;&#31649;&#29702;&#20449;&#24687;&#30340;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#20174;&#31532;2048&#23383;&#33410;&#24448;&#21518;&#26159;&#29992;&#26469;&#23384;&#20648;
   <code>
    log buffer
   </code>
   &#20013;&#30340;block&#38236;&#20687;&#30340;&#12290;
  </p>
 </li>
</ul>
<p>
 &#25152;&#20197;&#25105;&#20204;&#21069;&#36793;&#25152;&#35828;&#30340;
 <code>
  &#24490;&#29615;
 </code>
 &#20351;&#29992;redo&#26085;&#24535;&#25991;&#20214;&#65292;&#20854;&#23454;&#26159;&#20174;&#27599;&#20010;&#26085;&#24535;&#25991;&#20214;&#30340;&#31532;2048&#20010;&#23383;&#33410;&#24320;&#22987;&#31639;&#65292;&#30011;&#20010;&#31034;&#24847;&#22270;&#23601;&#26159;&#36825;&#26679;&#65306;
</p>
<p>
 <img alt="image_1d4njgt351je21kitk7u1gbioa46j.png-64.9kB" src="EPUB/368109ac-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#26222;&#36890;block&#30340;&#26684;&#24335;&#25105;&#20204;&#22312;&#21792;&#21480;
 <code>
  log buffer
 </code>
 &#30340;&#26102;&#20505;&#37117;&#35828;&#36807;&#20102;&#65292;&#23601;&#26159;
 <code>
  log block header
 </code>
 &#12289;
 <code>
  log block body
 </code>
 &#12289;
 <code>
  log block trialer
 </code>
 &#36825;&#19977;&#20010;&#37096;&#20998;&#65292;&#23601;&#19981;&#37325;&#22797;&#20171;&#32461;&#20102;&#12290;&#36825;&#37324;&#38656;&#35201;&#20171;&#32461;&#19968;&#19979;&#27599;&#20010;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#21069;2048&#20010;&#23383;&#33410;&#65292;&#20063;&#23601;&#26159;&#21069;4&#20010;&#29305;&#27530;block&#30340;&#26684;&#24335;&#37117;&#26159;&#24178;&#22043;&#30340;&#65292;&#24223;&#35805;&#23569;&#35828;&#65292;&#20808;&#30475;&#22270;&#65306;
</p>
<p>
 <img alt="image_1d4n63euu1t3u1ten1tgicecsar4c.png-51.1kB" src="EPUB/3690bb72-13d6-11ed-838d-acde48001122">
 <br>
 &#20174;&#22270;&#20013;&#21487;&#20197;&#30475;&#20986;&#26469;&#65292;&#36825;4&#20010;block&#20998;&#21035;&#26159;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    log file header
   </code>
   &#65306;&#25551;&#36848;&#35813;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#30340;&#19968;&#20123;&#25972;&#20307;&#23646;&#24615;&#65292;&#30475;&#19968;&#19979;&#23427;&#30340;&#32467;&#26500;&#65306;
  </p>
  <p>
   <img alt="image_1d4nfhoa914vbne4kao7cstr95m.png-65.5kB" src="EPUB/369e3d74-13d6-11ed-838d-acde48001122">
  </p>
  <p>
   &#21508;&#20010;&#23646;&#24615;&#30340;&#20855;&#20307;&#37322;&#20041;&#22914;&#19979;&#65306;
  </p>
  <table>
   <thead>
    <tr>
     <th align="center">
      &#23646;&#24615;&#21517;
     </th>
     <th align="center">
      &#38271;&#24230;&#65288;&#21333;&#20301;&#65306;&#23383;&#33410;&#65289;
     </th>
     <th align="left">
      &#25551;&#36848;
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td align="center">
      <code>
       LOG_HEADER_FORMAT
      </code>
     </td>
     <td align="center">
      <code>
       4
      </code>
     </td>
     <td align="left">
      <code>
       redo
      </code>
      &#26085;&#24535;&#30340;&#29256;&#26412;&#65292;&#22312;
      <code>
       MySQL 5.7.21
      </code>
      &#20013;&#35813;&#20540;&#27704;&#36828;&#20026;1
     </td>
    </tr>
    <tr>
     <td align="center">
      <code>
       LOG_HEADER_PAD1
      </code>
     </td>
     <td align="center">
      <code>
       4
      </code>
     </td>
     <td align="left">
      &#20570;&#23383;&#33410;&#22635;&#20805;&#29992;&#30340;&#65292;&#27809;&#20160;&#20040;&#23454;&#38469;&#24847;&#20041;&#65292;&#24573;&#30053;&#65374;
     </td>
    </tr>
    <tr>
     <td align="center">
      <code>
       LOG_HEADER_START_LSN
      </code>
     </td>
     <td align="center">
      <code>
       8
      </code>
     </td>
     <td align="left">
      &#26631;&#35760;&#26412;
      <code>
       redo
      </code>
      &#26085;&#24535;&#25991;&#20214;&#24320;&#22987;&#30340;LSN&#20540;&#65292;&#20063;&#23601;&#26159;&#25991;&#20214;&#20559;&#31227;&#37327;&#20026;2048&#23383;&#33410;&#21021;&#23545;&#24212;&#30340;LSN&#20540;&#65288;&#20851;&#20110;&#20160;&#20040;&#26159;LSN&#25105;&#20204;&#31245;&#21518;&#20877;&#30475;&#21704;&#65292;&#30475;&#19981;&#25026;&#30340;&#20808;&#24573;&#30053;&#65289;&#12290;
     </td>
    </tr>
    <tr>
     <td align="center">
      <code>
       LOG_HEADER_CREATOR
      </code>
     </td>
     <td align="center">
      <code>
       32
      </code>
     </td>
     <td align="left">
      &#19968;&#20010;&#23383;&#31526;&#20018;&#65292;&#26631;&#35760;&#26412;
      <code>
       redo
      </code>
      &#26085;&#24535;&#25991;&#20214;&#30340;&#21019;&#24314;&#32773;&#26159;&#35841;&#12290;&#27491;&#24120;&#36816;&#34892;&#26102;&#35813;&#20540;&#20026;
      <code>
       MySQL
      </code>
      &#30340;&#29256;&#26412;&#21495;&#65292;&#27604;&#22914;&#65306;
      <code>
       "MySQL 5.7.21"
      </code>
      &#65292;&#20351;&#29992;
      <code>
       mysqlbackup
      </code>
      &#21629;&#20196;&#21019;&#24314;&#30340;
      <code>
       redo
      </code>
      &#26085;&#24535;&#25991;&#20214;&#30340;&#35813;&#20540;&#20026;
      <code>
       "ibbackup"
      </code>
      &#21644;&#21019;&#24314;&#26102;&#38388;&#12290;
     </td>
    </tr>
    <tr>
     <td align="center">
      <code>
       LOG_BLOCK_CHECKSUM
      </code>
     </td>
     <td align="center">
      <code>
       4
      </code>
     </td>
     <td align="left">
      &#26412;block&#30340;&#26657;&#39564;&#20540;&#65292;&#25152;&#26377;block&#37117;&#26377;&#65292;&#25105;&#20204;&#19981;&#20851;&#24515;
     </td>
    </tr>
   </tbody>
  </table>
  <pre><code class="hljs language-!">&#23567;&#36148;&#22763;&#65306;

&#35774;&#35745;InnoDB&#30340;&#22823;&#21460;&#23545;redo&#26085;&#24535;&#30340;block&#26684;&#24335;&#20570;&#20102;&#24456;&#22810;&#27425;&#20462;&#25913;&#65292;&#22914;&#26524;&#20320;&#38405;&#35835;&#30340;&#20854;&#20182;&#20070;&#31821;&#20013;&#21457;&#29616;&#19978;&#36848;&#30340;&#23646;&#24615;&#21644;&#20320;&#38405;&#35835;&#20070;&#31821;&#20013;&#30340;&#23646;&#24615;&#26377;&#20123;&#20986;&#20837;&#65292;&#19981;&#35201;&#24908;&#65292;&#27491;&#24120;&#29616;&#35937;&#65292;&#24536;&#35760;&#20197;&#21069;&#30340;&#29256;&#26412;&#21543;&#12290;&#21478;&#22806;&#65292;LSN&#20540;&#25105;&#20204;&#21518;&#36793;&#25165;&#20250;&#20171;&#32461;&#65292;&#29616;&#22312;&#21315;&#19975;&#21035;&#32416;&#32467;LSN&#26159;&#20010;&#21861;&#12290;
</code></pre>
 </li>
 <li>
  <p>
   <code>
    checkpoint1
   </code>
   &#65306;&#35760;&#24405;&#20851;&#20110;
   <code>
    checkpoint
   </code>
   &#30340;&#19968;&#20123;&#23646;&#24615;&#65292;&#30475;&#19968;&#19979;&#23427;&#30340;&#32467;&#26500;&#65306;
  </p>
  <p>
   <img alt="image_1d4njq08pd2a5j9pc01qcn2ps7g.png-60.1kB" src="EPUB/36b1042c-13d6-11ed-838d-acde48001122">
  </p>
  <p>
   &#21508;&#20010;&#23646;&#24615;&#30340;&#20855;&#20307;&#37322;&#20041;&#22914;&#19979;&#65306;
  </p>
  <table>
   <thead>
    <tr>
     <th align="center">
      &#23646;&#24615;&#21517;
     </th>
     <th align="center">
      &#38271;&#24230;&#65288;&#21333;&#20301;&#65306;&#23383;&#33410;&#65289;
     </th>
     <th align="left">
      &#25551;&#36848;
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td align="center">
      <code>
       LOG_CHECKPOINT_NO
      </code>
     </td>
     <td align="center">
      <code>
       8
      </code>
     </td>
     <td align="left">
      &#26381;&#21153;&#22120;&#20570;
      <code>
       checkpoint
      </code>
      &#30340;&#32534;&#21495;&#65292;&#27599;&#20570;&#19968;&#27425;
      <code>
       checkpoint
      </code>
      &#65292;&#35813;&#20540;&#23601;&#21152;1&#12290;
     </td>
    </tr>
    <tr>
     <td align="center">
      <code>
       LOG_CHECKPOINT_LSN
      </code>
     </td>
     <td align="center">
      <code>
       8
      </code>
     </td>
     <td align="left">
      &#26381;&#21153;&#22120;&#20570;
      <code>
       checkpoint
      </code>
      &#32467;&#26463;&#26102;&#23545;&#24212;&#30340;
      <code>
       LSN
      </code>
      &#20540;&#65292;&#31995;&#32479;&#23849;&#28291;&#24674;&#22797;&#26102;&#23558;&#20174;&#35813;&#20540;&#24320;&#22987;&#12290;
     </td>
    </tr>
    <tr>
     <td align="center">
      <code>
       LOG_CHECKPOINT_OFFSET
      </code>
     </td>
     <td align="center">
      <code>
       8
      </code>
     </td>
     <td align="left">
      &#19978;&#20010;&#23646;&#24615;&#20013;&#30340;
      <code>
       LSN
      </code>
      &#20540;&#22312;
      <code>
       redo
      </code>
      &#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#30340;&#20559;&#31227;&#37327;
     </td>
    </tr>
    <tr>
     <td align="center">
      <code>
       LOG_CHECKPOINT_LOG_BUF_SIZE
      </code>
     </td>
     <td align="center">
      <code>
       8
      </code>
     </td>
     <td align="left">
      &#26381;&#21153;&#22120;&#22312;&#20570;
      <code>
       checkpoint
      </code>
      &#25805;&#20316;&#26102;&#23545;&#24212;&#30340;
      <code>
       log buffer
      </code>
      &#30340;&#22823;&#23567;
     </td>
    </tr>
    <tr>
     <td align="center">
      <code>
       LOG_BLOCK_CHECKSUM
      </code>
     </td>
     <td align="center">
      <code>
       4
      </code>
     </td>
     <td align="left">
      &#26412;block&#30340;&#26657;&#39564;&#20540;&#65292;&#25152;&#26377;block&#37117;&#26377;&#65292;&#25105;&#20204;&#19981;&#20851;&#24515;
     </td>
    </tr>
   </tbody>
  </table>
  <pre><code class="hljs language-!">&#23567;&#36148;&#22763;&#65306;

&#29616;&#22312;&#30475;&#19981;&#25026;&#19978;&#36793;&#36825;&#20123;&#20851;&#20110;checkpoint&#21644;LSN&#30340;&#23646;&#24615;&#30340;&#37322;&#20041;&#26159;&#24456;&#27491;&#24120;&#30340;&#65292;&#25105;&#23601;&#26159;&#24819;&#35753;&#22823;&#23478;&#23545;&#19978;&#36793;&#36825;&#20123;&#23646;&#24615;&#28151;&#20010;&#33080;&#29087;&#65292;&#21518;&#36793;&#25105;&#20204;&#21518;&#35814;&#32454;&#21792;&#21480;&#30340;&#12290;
</code></pre>
 </li>
 <li>
  <p>
   &#31532;&#19977;&#20010;block&#26410;&#20351;&#29992;&#65292;&#24573;&#30053;&#65374;
  </p>
 </li>
 <li>
  <p>
   <code>
    checkpoint2
   </code>
   &#65306;&#32467;&#26500;&#21644;
   <code>
    checkpoint1
   </code>
   &#19968;&#26679;&#12290;
  </p>
 </li>
</ul>
<h2>
 Log Sequence Number
</h2>
<p>
 &#33258;&#31995;&#32479;&#24320;&#22987;&#36816;&#34892;&#65292;&#23601;&#19981;&#26029;&#30340;&#22312;&#20462;&#25913;&#39029;&#38754;&#65292;&#20063;&#23601;&#24847;&#21619;&#30528;&#20250;&#19981;&#26029;&#30340;&#29983;&#25104;
 <code>
  redo
 </code>
 &#26085;&#24535;&#12290;
 <code>
  redo
 </code>
 &#26085;&#24535;&#30340;&#37327;&#22312;&#19981;&#26029;&#30340;&#36882;&#22686;&#65292;&#23601;&#20687;&#20154;&#30340;&#24180;&#40836;&#19968;&#26679;&#65292;&#33258;&#25171;&#20986;&#29983;&#36215;&#23601;&#19981;&#26029;&#36882;&#22686;&#65292;&#27704;&#36828;&#19981;&#21487;&#33021;&#32553;&#20943;&#20102;&#12290;&#35774;&#35745;
 <code>
  InnoDB
 </code>
 &#30340;&#22823;&#21460;&#20026;&#35760;&#24405;&#24050;&#32463;&#20889;&#20837;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#37327;&#65292;&#35774;&#35745;&#20102;&#19968;&#20010;&#31216;&#20043;&#20026;
 <code>
  Log Sequence Number
 </code>
 &#30340;&#20840;&#23616;&#21464;&#37327;&#65292;&#32763;&#35793;&#36807;&#26469;&#23601;&#26159;&#65306;
 <code>
  &#26085;&#24535;&#24207;&#21015;&#21495;
 </code>
 &#65292;&#31616;&#31216;
 <code>
  lsn
 </code>
 &#12290;&#19981;&#36807;&#19981;&#20687;&#20154;&#19968;&#20986;&#29983;&#30340;&#24180;&#40836;&#26159;
 <code>
  0
 </code>
 &#23681;&#65292;&#35774;&#35745;
 <code>
  InnoDB
 </code>
 &#30340;&#22823;&#21460;
 <span>
  &#35268;&#23450;
 </span>
 &#21021;&#22987;&#30340;
 <code>
  lsn
 </code>
 &#20540;&#20026;
 <code>
  8704
 </code>
 &#65288;&#20063;&#23601;&#26159;&#19968;&#26465;
 <code>
  redo
 </code>
 &#26085;&#24535;&#20063;&#27809;&#20889;&#20837;&#26102;&#65292;
 <code>
  lsn
 </code>
 &#30340;&#20540;&#20026;
 <code>
  8704
 </code>
 &#65289;&#12290;
</p>
<p>
 &#25105;&#20204;&#30693;&#36947;&#22312;&#21521;
 <code>
  log buffer
 </code>
 &#20013;&#20889;&#20837;
 <code>
  redo
 </code>
 &#26085;&#24535;&#26102;&#19981;&#26159;&#19968;&#26465;&#19968;&#26465;&#20889;&#20837;&#30340;&#65292;&#32780;&#26159;&#20197;&#19968;&#20010;
 <code>
  mtr
 </code>
 &#29983;&#25104;&#30340;&#19968;&#32452;
 <code>
  redo
 </code>
 &#26085;&#24535;&#20026;&#21333;&#20301;&#36827;&#34892;&#20889;&#20837;&#30340;&#12290;&#32780;&#19988;&#23454;&#38469;&#19978;&#26159;&#25226;&#26085;&#24535;&#20869;&#23481;&#20889;&#22312;&#20102;
 <code>
  log block body
 </code>
 &#22788;&#12290;&#20294;&#26159;&#22312;&#32479;&#35745;
 <code>
  lsn
 </code>
 &#30340;&#22686;&#38271;&#37327;&#26102;&#65292;&#26159;&#25353;&#29031;&#23454;&#38469;&#20889;&#20837;&#30340;&#26085;&#24535;&#37327;&#21152;&#19978;&#21344;&#29992;&#30340;
 <code>
  log block header
 </code>
 &#21644;
 <code>
  log block trailer
 </code>
 &#26469;&#35745;&#31639;&#30340;&#12290;&#25105;&#20204;&#26469;&#30475;&#19968;&#20010;&#20363;&#23376;&#65306;
</p>
<ul>
 <li>
  <p>
   &#31995;&#32479;&#31532;&#19968;&#27425;&#21551;&#21160;&#21518;&#21021;&#22987;&#21270;
   <code>
    log buffer
   </code>
   &#26102;&#65292;
   <code>
    buf_free
   </code>
   &#65288;&#23601;&#26159;&#26631;&#35760;&#19979;&#19968;&#26465;
   <code>
    redo
   </code>
   &#26085;&#24535;&#24212;&#35813;&#20889;&#20837;&#21040;
   <code>
    log buffer
   </code>
   &#30340;&#20301;&#32622;&#30340;&#21464;&#37327;&#65289;&#23601;&#20250;&#25351;&#21521;&#31532;&#19968;&#20010;
   <code>
    block
   </code>
   &#30340;&#20559;&#31227;&#37327;&#20026;12&#23383;&#33410;&#65288;
   <code>
    log block header
   </code>
   &#30340;&#22823;&#23567;&#65289;&#30340;&#22320;&#26041;&#65292;&#37027;&#20040;
   <code>
    lsn
   </code>
   &#20540;&#20063;&#20250;&#36319;&#30528;&#22686;&#21152;12&#65306;
  </p>
  <p>
   <img alt="image_1d4v2r59mr10jdl1vs4fk61huv79.png-50.9kB" src="EPUB/36be66a8-13d6-11ed-838d-acde48001122">
  </p>
 </li>
 <li>
  <p>
   &#22914;&#26524;&#26576;&#20010;
   <code>
    mtr
   </code>
   &#20135;&#29983;&#30340;&#19968;&#32452;
   <code>
    redo
   </code>
   &#26085;&#24535;&#21344;&#29992;&#30340;&#23384;&#20648;&#31354;&#38388;&#27604;&#36739;&#23567;&#65292;&#20063;&#23601;&#26159;&#24453;&#25554;&#20837;&#30340;block&#21097;&#20313;&#31354;&#38386;&#31354;&#38388;&#33021;&#23481;&#32435;&#36825;&#20010;
   <code>
    mtr
   </code>
   &#25552;&#20132;&#30340;&#26085;&#24535;&#26102;&#65292;
   <code>
    lsn
   </code>
   &#22686;&#38271;&#30340;&#37327;&#23601;&#26159;&#35813;
   <code>
    mtr
   </code>
   &#29983;&#25104;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#21344;&#29992;&#30340;&#23383;&#33410;&#25968;&#65292;&#23601;&#20687;&#36825;&#26679;&#65306;
  </p>
  <p>
   <img alt="image_1d4v57vgl1obr1kfcfuunp44bo2t.png-54kB" src="EPUB/36cfcf6a-13d6-11ed-838d-acde48001122">
  </p>
  <p>
   &#25105;&#20204;&#20551;&#35774;&#19978;&#22270;&#20013;
   <code>
    mtr_1
   </code>
   &#20135;&#29983;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#37327;&#20026;200&#23383;&#33410;&#65292;&#37027;&#20040;
   <code>
    lsn
   </code>
   &#23601;&#35201;&#22312;
   <code>
    8716
   </code>
   &#30340;&#22522;&#30784;&#19978;&#22686;&#21152;
   <code>
    200
   </code>
   &#65292;&#21464;&#20026;
   <code>
    8916
   </code>
   &#12290;
  </p>
 </li>
 <li>
  <p>
   &#22914;&#26524;&#26576;&#20010;
   <code>
    mtr
   </code>
   &#20135;&#29983;&#30340;&#19968;&#32452;
   <code>
    redo
   </code>
   &#26085;&#24535;&#21344;&#29992;&#30340;&#23384;&#20648;&#31354;&#38388;&#27604;&#36739;&#22823;&#65292;&#20063;&#23601;&#26159;&#24453;&#25554;&#20837;&#30340;block&#21097;&#20313;&#31354;&#38386;&#31354;&#38388;&#19981;&#36275;&#20197;&#23481;&#32435;&#36825;&#20010;
   <code>
    mtr
   </code>
   &#25552;&#20132;&#30340;&#26085;&#24535;&#26102;&#65292;
   <code>
    lsn
   </code>
   &#22686;&#38271;&#30340;&#37327;&#23601;&#26159;&#35813;
   <code>
    mtr
   </code>
   &#29983;&#25104;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#21344;&#29992;&#30340;&#23383;&#33410;&#25968;&#21152;&#19978;&#39069;&#22806;&#21344;&#29992;&#30340;
   <code>
    log block header
   </code>
   &#21644;
   <code>
    log block trailer
   </code>
   &#30340;&#23383;&#33410;&#25968;&#65292;&#23601;&#20687;&#36825;&#26679;&#65306;
  </p>
  <p>
   <img alt="image_1d4v37u011jhc1rpa1fpi5a82ca9.png-99.3kB" src="EPUB/36e14ec0-13d6-11ed-838d-acde48001122">
  </p>
  <p>
   &#25105;&#20204;&#20551;&#35774;&#19978;&#22270;&#20013;
   <code>
    mtr_2
   </code>
   &#20135;&#29983;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#37327;&#20026;1000&#23383;&#33410;&#65292;&#20026;&#20102;&#23558;
   <code>
    mtr_2
   </code>
   &#20135;&#29983;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#20889;&#20837;
   <code>
    log buffer
   </code>
   &#65292;&#25105;&#20204;&#19981;&#24471;&#19981;&#39069;&#22806;&#22810;&#20998;&#37197;&#20004;&#20010;block&#65292;&#25152;&#20197;
   <code>
    lsn
   </code>
   &#30340;&#20540;&#38656;&#35201;&#22312;
   <code>
    8916
   </code>
   &#30340;&#22522;&#30784;&#19978;&#22686;&#21152;
   <code>
    1000 + 12&#215;2 + 4 &#215; 2 = 1032
   </code>
   &#12290;
  </p>
 </li>
</ul>
<pre><code class="hljs language-!">&#23567;&#36148;&#22763;&#65306;

&#20026;&#20160;&#20040;&#21021;&#22987;&#30340;lsn&#20540;&#20026;8704&#21602;&#65311;&#25105;&#20063;&#19981;&#22826;&#28165;&#26970;&#65292;&#20154;&#23478;&#23601;&#36825;&#20040;&#35268;&#23450;&#30340;&#12290;&#20854;&#23454;&#20320;&#20063;&#21487;&#20197;&#35268;&#23450;&#20320;&#19968;&#29983;&#19979;&#26469;&#31639;1&#23681;&#65292;&#21482;&#35201;&#20445;&#35777;&#38543;&#30528;&#26102;&#38388;&#30340;&#27969;&#36893;&#65292;&#20320;&#30340;&#24180;&#40836;&#19981;&#26029;&#22686;&#38271;&#23601;&#22909;&#20102;&#12290;
</code></pre>
<p>
 &#20174;&#19978;&#36793;&#30340;&#25551;&#36848;&#20013;&#21487;&#20197;&#30475;&#20986;&#26469;&#65292;
 <span>
  &#27599;&#19968;&#32452;&#30001;mtr&#29983;&#25104;&#30340;redo&#26085;&#24535;&#37117;&#26377;&#19968;&#20010;&#21807;&#19968;&#30340;LSN&#20540;&#19982;&#20854;&#23545;&#24212;&#65292;LSN&#20540;&#36234;&#23567;&#65292;&#35828;&#26126;redo&#26085;&#24535;&#20135;&#29983;&#30340;&#36234;&#26089;
 </span>
 &#12290;
</p>
<h3>
 flushed_to_disk_lsn
</h3>
<p>
 <code>
  redo
 </code>
 &#26085;&#24535;&#26159;&#39318;&#20808;&#20889;&#21040;
 <code>
  log buffer
 </code>
 &#20013;&#65292;&#20043;&#21518;&#25165;&#20250;&#34987;&#21047;&#26032;&#21040;&#30913;&#30424;&#19978;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#12290;&#25152;&#20197;&#35774;&#35745;
 <code>
  InnoDB
 </code>
 &#30340;&#22823;&#21460;&#25552;&#20986;&#20102;&#19968;&#20010;&#31216;&#20043;&#20026;
 <code>
  buf_next_to_write
 </code>
 &#30340;&#20840;&#23616;&#21464;&#37327;&#65292;&#26631;&#35760;&#24403;&#21069;
 <code>
  log buffer
 </code>
 &#20013;&#24050;&#32463;&#26377;&#21738;&#20123;&#26085;&#24535;&#34987;&#21047;&#26032;&#21040;&#30913;&#30424;&#20013;&#20102;&#12290;&#30011;&#20010;&#22270;&#34920;&#31034;&#23601;&#26159;&#36825;&#26679;&#65306;
</p>
<p>
 <img alt="image_1d4q3upvq17n8cargmibugve29.png-84.3kB" src="EPUB/36f4b212-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#25105;&#20204;&#21069;&#36793;&#35828;
 <code>
  lsn
 </code>
 &#26159;&#34920;&#31034;&#24403;&#21069;&#31995;&#32479;&#20013;&#20889;&#20837;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#37327;&#65292;&#36825;&#21253;&#25324;&#20102;&#20889;&#21040;
 <code>
  log buffer
 </code>
 &#32780;&#27809;&#26377;&#21047;&#26032;&#21040;&#30913;&#30424;&#30340;&#26085;&#24535;&#65292;&#30456;&#24212;&#30340;&#65292;&#35774;&#35745;
 <code>
  InnoDB
 </code>
 &#30340;&#22823;&#21460;&#25552;&#20986;&#20102;&#19968;&#20010;&#34920;&#31034;&#21047;&#26032;&#21040;&#30913;&#30424;&#20013;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#37327;&#30340;&#20840;&#23616;&#21464;&#37327;&#65292;&#31216;&#20043;&#20026;
 <code>
  flushed_to_disk_lsn
 </code>
 &#12290;&#31995;&#32479;&#31532;&#19968;&#27425;&#21551;&#21160;&#26102;&#65292;&#35813;&#21464;&#37327;&#30340;&#20540;&#21644;&#21021;&#22987;&#30340;
 <code>
  lsn
 </code>
 &#20540;&#26159;&#30456;&#21516;&#30340;&#65292;&#37117;&#26159;
 <code>
  8704
 </code>
 &#12290;&#38543;&#30528;&#31995;&#32479;&#30340;&#36816;&#34892;&#65292;
 <code>
  redo
 </code>
 &#26085;&#24535;&#34987;&#19981;&#26029;&#20889;&#20837;
 <code>
  log buffer
 </code>
 &#65292;&#20294;&#26159;&#24182;&#19981;&#20250;&#31435;&#21363;&#21047;&#26032;&#21040;&#30913;&#30424;&#65292;
 <code>
  lsn
 </code>
 &#30340;&#20540;&#23601;&#21644;
 <code>
  flushed_to_disk_lsn
 </code>
 &#30340;&#20540;&#25289;&#24320;&#20102;&#24046;&#36317;&#12290;&#25105;&#20204;&#28436;&#31034;&#19968;&#19979;&#65306;
</p>
<ul>
 <li>
  <p>
   &#31995;&#32479;&#31532;&#19968;&#27425;&#21551;&#21160;&#21518;&#65292;&#21521;
   <code>
    log buffer
   </code>
   &#20013;&#20889;&#20837;&#20102;
   <code>
    mtr_1
   </code>
   &#12289;
   <code>
    mtr_2
   </code>
   &#12289;
   <code>
    mtr_3
   </code>
   &#36825;&#19977;&#20010;
   <code>
    mtr
   </code>
   &#20135;&#29983;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#65292;&#20551;&#35774;&#36825;&#19977;&#20010;
   <code>
    mtr
   </code>
   &#24320;&#22987;&#21644;&#32467;&#26463;&#26102;&#23545;&#24212;&#30340;lsn&#20540;&#20998;&#21035;&#26159;&#65306;
  </p>
  <ul>
   <li>
    <code>
     mtr_1
    </code>
    &#65306;8716 &#65374; 8916
   </li>
   <li>
    <code>
     mtr_2
    </code>
    &#65306;8916 &#65374; 9948
   </li>
   <li>
    <code>
     mtr_3
    </code>
    &#65306;9948 &#65374; 10000
   </li>
  </ul>
  <p>
   &#27492;&#26102;&#30340;
   <code>
    lsn
   </code>
   &#24050;&#32463;&#22686;&#38271;&#21040;&#20102;10000&#65292;&#20294;&#26159;&#30001;&#20110;&#27809;&#26377;&#21047;&#26032;&#25805;&#20316;&#65292;&#25152;&#20197;&#27492;&#26102;
   <code>
    flushed_to_disk_lsn
   </code>
   &#30340;&#20540;&#20173;&#20026;
   <code>
    8704
   </code>
   &#65292;&#22914;&#22270;&#65306;
  </p>
  <p>
   <img alt="image_1d4v3ubbacgm13171s481trb6kj1m.png-88.5kB" src="EPUB/37081fdc-13d6-11ed-838d-acde48001122">
  </p>
 </li>
 <li>
  <p>
   &#38543;&#21518;&#36827;&#34892;&#23558;
   <code>
    log buffer
   </code>
   &#20013;&#30340;block&#21047;&#26032;&#21040;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#30340;&#25805;&#20316;&#65292;&#20551;&#35774;&#23558;
   <code>
    mtr_1
   </code>
   &#21644;
   <code>
    mtr_2
   </code>
   &#30340;&#26085;&#24535;&#21047;&#26032;&#21040;&#30913;&#30424;&#65292;&#37027;&#20040;
   <code>
    flushed_to_disk_lsn
   </code>
   &#23601;&#24212;&#35813;&#22686;&#38271;
   <code>
    mtr_1
   </code>
   &#21644;
   <code>
    mtr_2
   </code>
   &#20889;&#20837;&#30340;&#26085;&#24535;&#37327;&#65292;&#25152;&#20197;
   <code>
    flushed_to_disk_lsn
   </code>
   &#30340;&#20540;&#22686;&#38271;&#21040;&#20102;
   <code>
    9948
   </code>
   &#65292;&#22914;&#22270;&#65306;
  </p>
  <p>
   <img alt="image_1d4v40upc1tnt1dpe1l14u2ar4n23.png-100.2kB" src="EPUB/371beac6-13d6-11ed-838d-acde48001122">
  </p>
 </li>
</ul>
<p>
 &#32508;&#19978;&#25152;&#36848;&#65292;&#24403;&#26377;&#26032;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#20889;&#20837;&#21040;
 <code>
  log buffer
 </code>
 &#26102;&#65292;&#39318;&#20808;
 <code>
  lsn
 </code>
 &#30340;&#20540;&#20250;&#22686;&#38271;&#65292;&#20294;
 <code>
  flushed_to_disk_lsn
 </code>
 &#19981;&#21464;&#65292;&#38543;&#21518;&#38543;&#30528;&#19981;&#26029;&#26377;
 <code>
  log buffer
 </code>
 &#20013;&#30340;&#26085;&#24535;&#34987;&#21047;&#26032;&#21040;&#30913;&#30424;&#19978;&#65292;
 <code>
  flushed_to_disk_lsn
 </code>
 &#30340;&#20540;&#20063;&#36319;&#30528;&#22686;&#38271;&#12290;
 <span>
  &#22914;&#26524;&#20004;&#32773;&#30340;&#20540;&#30456;&#21516;&#26102;&#65292;&#35828;&#26126;log buffer&#20013;&#30340;&#25152;&#26377;redo&#26085;&#24535;&#37117;&#24050;&#32463;&#21047;&#26032;&#21040;&#30913;&#30424;&#20013;&#20102;
 </span>
 &#12290;
</p>
<pre><code class="hljs language-!">&#23567;&#36148;&#22763;&#65306;

&#24212;&#29992;&#31243;&#24207;&#21521;&#30913;&#30424;&#20889;&#20837;&#25991;&#20214;&#26102;&#20854;&#23454;&#26159;&#20808;&#20889;&#21040;&#25805;&#20316;&#31995;&#32479;&#30340;&#32531;&#20914;&#21306;&#20013;&#21435;&#65292;&#22914;&#26524;&#26576;&#20010;&#20889;&#20837;&#25805;&#20316;&#35201;&#31561;&#21040;&#25805;&#20316;&#31995;&#32479;&#30830;&#35748;&#24050;&#32463;&#20889;&#21040;&#30913;&#30424;&#26102;&#25165;&#36820;&#22238;&#65292;&#37027;&#38656;&#35201;&#35843;&#29992;&#19968;&#19979;&#25805;&#20316;&#31995;&#32479;&#25552;&#20379;&#30340;fsync&#20989;&#25968;&#12290;&#20854;&#23454;&#21482;&#26377;&#24403;&#31995;&#32479;&#25191;&#34892;&#20102;fsync&#20989;&#25968;&#21518;&#65292;flushed_to_disk_lsn&#30340;&#20540;&#25165;&#20250;&#36319;&#30528;&#22686;&#38271;&#65292;&#24403;&#20165;&#20165;&#25226;log buffer&#20013;&#30340;&#26085;&#24535;&#20889;&#20837;&#21040;&#25805;&#20316;&#31995;&#32479;&#32531;&#20914;&#21306;&#21364;&#27809;&#26377;&#26174;&#24335;&#30340;&#21047;&#26032;&#21040;&#30913;&#30424;&#26102;&#65292;&#21478;&#22806;&#30340;&#19968;&#20010;&#31216;&#20043;&#20026;write_lsn&#30340;&#20540;&#36319;&#30528;&#22686;&#38271;&#12290;&#19981;&#36807;&#20026;&#20102;&#22823;&#23478;&#29702;&#35299;&#19978;&#30340;&#26041;&#20415;&#65292;&#25105;&#20204;&#22312;&#35762;&#36848;&#26102;&#25226;flushed_to_disk_lsn&#21644;write_lsn&#30340;&#27010;&#24565;&#28151;&#28102;&#20102;&#36215;&#26469;&#12290;
</code></pre>
<h3>
 lsn&#20540;&#21644;redo&#26085;&#24535;&#25991;&#20214;&#20559;&#31227;&#37327;&#30340;&#23545;&#24212;&#20851;&#31995;
</h3>
<p>
 &#22240;&#20026;
 <code>
  lsn
 </code>
 &#30340;&#20540;&#26159;&#20195;&#34920;&#31995;&#32479;&#20889;&#20837;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#37327;&#30340;&#19968;&#20010;&#24635;&#21644;&#65292;&#19968;&#20010;
 <code>
  mtr
 </code>
 &#20013;&#20135;&#29983;&#22810;&#23569;&#26085;&#24535;&#65292;
 <code>
  lsn
 </code>
 &#30340;&#20540;&#23601;&#22686;&#21152;&#22810;&#23569;&#65288;&#24403;&#28982;&#26377;&#26102;&#20505;&#35201;&#21152;&#19978;
 <code>
  log block header
 </code>
 &#21644;
 <code>
  log block trailer
 </code>
 &#30340;&#22823;&#23567;&#65289;&#65292;&#36825;&#26679;
 <code>
  mtr
 </code>
 &#20135;&#29983;&#30340;&#26085;&#24535;&#20889;&#21040;&#30913;&#30424;&#20013;&#26102;&#65292;&#24456;&#23481;&#26131;&#35745;&#31639;&#26576;&#19968;&#20010;
 <code>
  lsn
 </code>
 &#20540;&#22312;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#30340;&#20559;&#31227;&#37327;&#65292;&#22914;&#22270;&#65306;
</p>
<p>
 <img alt="image_1d4v5sdrj1p1jrhmnfrq4pa073n.png-49.3kB" src="EPUB/3731972c-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#21021;&#22987;&#26102;&#30340;
 <code>
  LSN
 </code>
 &#20540;&#26159;
 <code>
  8704
 </code>
 &#65292;&#23545;&#24212;&#25991;&#20214;&#20559;&#31227;&#37327;
 <code>
  2048
 </code>
 &#65292;&#20043;&#21518;&#27599;&#20010;
 <code>
  mtr
 </code>
 &#21521;&#30913;&#30424;&#20013;&#20889;&#20837;&#22810;&#23569;&#23383;&#33410;&#26085;&#24535;&#65292;
 <code>
  lsn
 </code>
 &#30340;&#20540;&#23601;&#22686;&#38271;&#22810;&#23569;&#12290;
</p>
<h3>
 flush&#38142;&#34920;&#20013;&#30340;LSN
</h3>
<p>
 &#25105;&#20204;&#30693;&#36947;&#19968;&#20010;
 <code>
  mtr
 </code>
 &#20195;&#34920;&#19968;&#27425;&#23545;&#24213;&#23618;&#39029;&#38754;&#30340;&#21407;&#23376;&#35775;&#38382;&#65292;&#22312;&#35775;&#38382;&#36807;&#31243;&#20013;&#21487;&#33021;&#20250;&#20135;&#29983;&#19968;&#32452;&#19981;&#21487;&#20998;&#21106;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#65292;&#22312;
 <code>
  mtr
 </code>
 &#32467;&#26463;&#26102;&#65292;&#20250;&#25226;&#36825;&#19968;&#32452;
 <code>
  redo
 </code>
 &#26085;&#24535;&#20889;&#20837;&#21040;
 <code>
  log buffer
 </code>
 &#20013;&#12290;&#38500;&#27492;&#20043;&#22806;&#65292;&#22312;
 <code>
  mtr
 </code>
 &#32467;&#26463;&#26102;&#36824;&#26377;&#19968;&#20214;&#38750;&#24120;&#37325;&#35201;&#30340;&#20107;&#24773;&#35201;&#20570;&#65292;&#23601;&#26159;
 <span>
  &#25226;&#22312;mtr&#25191;&#34892;&#36807;&#31243;&#20013;&#21487;&#33021;&#20462;&#25913;&#36807;&#30340;&#39029;&#38754;&#21152;&#20837;&#21040;Buffer Pool&#30340;flush&#38142;&#34920;
 </span>
 &#12290;&#20026;&#20102;&#38450;&#27490;&#22823;&#23478;&#26089;&#24050;&#24536;&#35760;
 <code>
  flush&#38142;&#34920;
 </code>
 &#26159;&#20010;&#21861;&#65292;&#25105;&#20204;&#20877;&#30475;&#19968;&#19979;&#22270;&#65306;
</p>
<p>
 <img alt="image_1d4uln1ejrt4cerr6h1tc41uok3k.png-227kB" src="EPUB/3742a666-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#24403;&#31532;&#19968;&#27425;&#20462;&#25913;&#26576;&#20010;&#32531;&#23384;&#22312;
 <code>
  Buffer Pool
 </code>
 &#20013;&#30340;&#39029;&#38754;&#26102;&#65292;&#23601;&#20250;&#25226;&#36825;&#20010;&#39029;&#38754;&#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#25554;&#20837;&#21040;
 <code>
  flush&#38142;&#34920;
 </code>
 &#30340;&#22836;&#37096;&#65292;&#20043;&#21518;&#20877;&#20462;&#25913;&#35813;&#39029;&#38754;&#26102;&#30001;&#20110;&#23427;&#24050;&#32463;&#22312;
 <code>
  flush
 </code>
 &#38142;&#34920;&#20013;&#20102;&#65292;&#23601;&#19981;&#20877;&#27425;&#25554;&#20837;&#20102;&#12290;&#20063;&#23601;&#26159;&#35828;
 <span>
  flush&#38142;&#34920;&#20013;&#30340;&#33039;&#39029;&#26159;&#25353;&#29031;&#39029;&#38754;&#30340;&#31532;&#19968;&#27425;&#20462;&#25913;&#26102;&#38388;&#20174;&#22823;&#21040;&#23567;&#36827;&#34892;&#25490;&#24207;&#30340;
 </span>
 &#12290;&#22312;&#36825;&#20010;&#36807;&#31243;&#20013;&#20250;&#22312;&#32531;&#23384;&#39029;&#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#20013;&#35760;&#24405;&#20004;&#20010;&#20851;&#20110;&#39029;&#38754;&#20309;&#26102;&#20462;&#25913;&#30340;&#23646;&#24615;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    oldest_modification
   </code>
   &#65306;&#22914;&#26524;&#26576;&#20010;&#39029;&#38754;&#34987;&#21152;&#36733;&#21040;
   <code>
    Buffer Pool
   </code>
   &#21518;&#36827;&#34892;&#31532;&#19968;&#27425;&#20462;&#25913;&#65292;&#37027;&#20040;&#23601;&#23558;&#20462;&#25913;&#35813;&#39029;&#38754;&#30340;
   <code>
    mtr
   </code>
   &#24320;&#22987;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#20540;&#20889;&#20837;&#36825;&#20010;&#23646;&#24615;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    newest_modification
   </code>
   &#65306;&#27599;&#20462;&#25913;&#19968;&#27425;&#39029;&#38754;&#65292;&#37117;&#20250;&#23558;&#20462;&#25913;&#35813;&#39029;&#38754;&#30340;
   <code>
    mtr
   </code>
   &#32467;&#26463;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#20540;&#20889;&#20837;&#36825;&#20010;&#23646;&#24615;&#12290;&#20063;&#23601;&#26159;&#35828;&#35813;&#23646;&#24615;&#34920;&#31034;&#39029;&#38754;&#26368;&#36817;&#19968;&#27425;&#20462;&#25913;&#21518;&#23545;&#24212;&#30340;&#31995;&#32479;
   <code>
    lsn
   </code>
   &#20540;&#12290;
  </p>
 </li>
</ul>
<p>
 &#25105;&#20204;&#25509;&#30528;&#19978;&#36793;&#21792;&#21480;
 <code>
  flushed_to_disk_lsn
 </code>
 &#30340;&#20363;&#23376;&#30475;&#19968;&#19979;&#65306;
</p>
<ul>
 <li>
  <p>
   &#20551;&#35774;
   <code>
    mtr_1
   </code>
   &#25191;&#34892;&#36807;&#31243;&#20013;&#20462;&#25913;&#20102;
   <code>
    &#39029;a
   </code>
   &#65292;&#37027;&#20040;&#22312;
   <code>
    mtr_1
   </code>
   &#25191;&#34892;&#32467;&#26463;&#26102;&#65292;&#23601;&#20250;&#23558;
   <code>
    &#39029;a
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#21152;&#20837;&#21040;
   <code>
    flush&#38142;&#34920;
   </code>
   &#30340;&#22836;&#37096;&#12290;&#24182;&#19988;&#23558;
   <code>
    mtr_1
   </code>
   &#24320;&#22987;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#65292;&#20063;&#23601;&#26159;
   <code>
    8716
   </code>
   &#20889;&#20837;
   <code>
    &#39029;a
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#30340;
   <code>
    oldest_modification
   </code>
   &#23646;&#24615;&#20013;&#65292;&#25226;
   <code>
    mtr_1
   </code>
   &#32467;&#26463;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#65292;&#20063;&#23601;&#26159;8916&#20889;&#20837;
   <code>
    &#39029;a
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#30340;
   <code>
    newest_modification
   </code>
   &#23646;&#24615;&#20013;&#12290;&#30011;&#20010;&#22270;&#34920;&#31034;&#19968;&#19979;&#65288;&#20026;&#20102;&#35753;&#22270;&#29255;&#32654;&#35266;&#19968;&#20123;&#65292;&#25105;&#20204;&#25226;
   <code>
    oldest_modification
   </code>
   &#32553;&#20889;&#25104;&#20102;
   <code>
    o_m
   </code>
   &#65292;&#25226;
   <code>
    newest_modification
   </code>
   &#32553;&#20889;&#25104;&#20102;
   <code>
    n_m
   </code>
   &#65289;&#65306;
  </p>
  <p>
   <img alt="image_1d4v63pct1v9o14l3812gnj11de44.png-31.8kB" src="EPUB/37f0cce6-13d6-11ed-838d-acde48001122">
  </p>
 </li>
 <li>
  <p>
   &#25509;&#30528;&#20551;&#35774;
   <code>
    mtr_2
   </code>
   &#25191;&#34892;&#36807;&#31243;&#20013;&#21448;&#20462;&#25913;&#20102;
   <code>
    &#39029;b
   </code>
   &#21644;
   <code>
    &#39029;c
   </code>
   &#20004;&#20010;&#39029;&#38754;&#65292;&#37027;&#20040;&#22312;
   <code>
    mtr_2
   </code>
   &#25191;&#34892;&#32467;&#26463;&#26102;&#65292;&#23601;&#20250;&#23558;
   <code>
    &#39029;b
   </code>
   &#21644;
   <code>
    &#39029;c
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#37117;&#21152;&#20837;&#21040;
   <code>
    flush&#38142;&#34920;
   </code>
   &#30340;&#22836;&#37096;&#12290;&#24182;&#19988;&#23558;
   <code>
    mtr_2
   </code>
   &#24320;&#22987;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#65292;&#20063;&#23601;&#26159;8916&#20889;&#20837;
   <code>
    &#39029;b
   </code>
   &#21644;
   <code>
    &#39029;c
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#30340;
   <code>
    oldest_modification
   </code>
   &#23646;&#24615;&#20013;&#65292;&#25226;
   <code>
    mtr_2
   </code>
   &#32467;&#26463;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#65292;&#20063;&#23601;&#26159;9948&#20889;&#20837;
   <code>
    &#39029;b
   </code>
   &#21644;
   <code>
    &#39029;c
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#30340;
   <code>
    newest_modification
   </code>
   &#23646;&#24615;&#20013;&#12290;&#30011;&#20010;&#22270;&#34920;&#31034;&#19968;&#19979;&#65306;
  </p>
  <p>
   <img alt="image_1d4v64vte14tq1oc911s1v8gnn51.png-59.4kB" src="EPUB/37fd1d34-13d6-11ed-838d-acde48001122">
  </p>
  <p>
   &#20174;&#22270;&#20013;&#21487;&#20197;&#30475;&#20986;&#26469;&#65292;&#27599;&#27425;&#26032;&#25554;&#20837;&#21040;
   <code>
    flush&#38142;&#34920;
   </code>
   &#20013;&#30340;&#33410;&#28857;&#37117;&#26159;&#34987;&#25918;&#22312;&#20102;&#22836;&#37096;&#65292;&#20063;&#23601;&#26159;&#35828;
   <code>
    flush&#38142;&#34920;
   </code>
   &#20013;&#21069;&#36793;&#30340;&#33039;&#39029;&#20462;&#25913;&#30340;&#26102;&#38388;&#27604;&#36739;&#26202;&#65292;&#21518;&#36793;&#30340;&#33039;&#39029;&#20462;&#25913;&#26102;&#38388;&#27604;&#36739;&#26089;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#25509;&#30528;&#20551;&#35774;
   <code>
    mtr_3
   </code>
   &#25191;&#34892;&#36807;&#31243;&#20013;&#20462;&#25913;&#20102;
   <code>
    &#39029;b
   </code>
   &#21644;
   <code>
    &#39029;d
   </code>
   &#65292;&#19981;&#36807;
   <code>
    &#39029;b
   </code>
   &#20043;&#21069;&#24050;&#32463;&#34987;&#20462;&#25913;&#36807;&#20102;&#65292;&#25152;&#20197;&#23427;&#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#24050;&#32463;&#34987;&#25554;&#20837;&#21040;&#20102;
   <code>
    flush
   </code>
   &#38142;&#34920;&#65292;&#25152;&#20197;&#22312;
   <code>
    mtr_3
   </code>
   &#25191;&#34892;&#32467;&#26463;&#26102;&#65292;&#21482;&#38656;&#35201;&#23558;
   <code>
    &#39029;d
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#37117;&#21152;&#20837;&#21040;
   <code>
    flush&#38142;&#34920;
   </code>
   &#30340;&#22836;&#37096;&#21363;&#21487;&#12290;&#25152;&#20197;&#38656;&#35201;&#23558;
   <code>
    mtr_3
   </code>
   &#24320;&#22987;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#65292;&#20063;&#23601;&#26159;9948&#20889;&#20837;
   <code>
    &#39029;d
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#30340;
   <code>
    oldest_modification
   </code>
   &#23646;&#24615;&#20013;&#65292;&#25226;
   <code>
    mtr_3
   </code>
   &#32467;&#26463;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#65292;&#20063;&#23601;&#26159;10000&#20889;&#20837;
   <code>
    &#39029;d
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#30340;
   <code>
    newest_modification
   </code>
   &#23646;&#24615;&#20013;&#12290;&#21478;&#22806;&#65292;&#30001;&#20110;
   <code>
    &#39029;b
   </code>
   &#22312;
   <code>
    mtr_3
   </code>
   &#25191;&#34892;&#36807;&#31243;&#20013;&#21448;&#21457;&#29983;&#20102;&#19968;&#27425;&#20462;&#25913;&#65292;&#25152;&#20197;&#38656;&#35201;&#26356;&#26032;
   <code>
    &#39029;b
   </code>
   &#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#20013;
   <code>
    newest_modification
   </code>
   &#30340;&#20540;&#20026;10000&#12290;&#30011;&#20010;&#22270;&#34920;&#31034;&#19968;&#19979;&#65306;
  </p>
  <p>
   <img alt="image_1d4v68bhl1jb9r8m6vn1b157cn5e.png-110.8kB" src="EPUB/380e3312-13d6-11ed-838d-acde48001122">
  </p>
 </li>
</ul>
<p>
 &#24635;&#32467;&#19968;&#19979;&#19978;&#36793;&#35828;&#30340;&#65292;&#23601;&#26159;&#65306;
 <span>
  flush&#38142;&#34920;&#20013;&#30340;&#33039;&#39029;&#25353;&#29031;&#20462;&#25913;&#21457;&#29983;&#30340;&#26102;&#38388;&#39034;&#24207;&#36827;&#34892;&#25490;&#24207;&#65292;&#20063;&#23601;&#26159;&#25353;&#29031;oldest_modification&#20195;&#34920;&#30340;LSN&#20540;&#36827;&#34892;&#25490;&#24207;&#65292;&#34987;&#22810;&#27425;&#26356;&#26032;&#30340;&#39029;&#38754;&#19981;&#20250;&#37325;&#22797;&#25554;&#20837;&#21040;flush&#38142;&#34920;&#20013;&#65292;&#20294;&#26159;&#20250;&#26356;&#26032;newest_modification&#23646;&#24615;&#30340;&#20540;
 </span>
 &#12290;
</p>
<h2>
 checkpoint
</h2>
<p>
 &#26377;&#19968;&#20010;&#24456;&#19981;&#24184;&#30340;&#20107;&#23454;&#23601;&#26159;&#25105;&#20204;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#32452;&#23481;&#37327;&#26159;&#26377;&#38480;&#30340;&#65292;&#25105;&#20204;&#19981;&#24471;&#19981;&#36873;&#25321;&#24490;&#29615;&#20351;&#29992;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#30340;&#25991;&#20214;&#65292;&#20294;&#26159;&#36825;&#20250;&#36896;&#25104;&#26368;&#21518;&#20889;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#19982;&#26368;&#24320;&#22987;&#20889;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;
 <code>
  &#36861;&#23614;
 </code>
 &#65292;&#36825;&#26102;&#24212;&#35813;&#24819;&#21040;&#65306;
 <span>
  redo&#26085;&#24535;&#21482;&#26159;&#20026;&#20102;&#31995;&#32479;&#23849;&#28291;&#21518;&#24674;&#22797;&#33039;&#39029;&#29992;&#30340;&#65292;&#22914;&#26524;&#23545;&#24212;&#30340;&#33039;&#39029;&#24050;&#32463;&#21047;&#26032;&#21040;&#20102;&#30913;&#30424;&#65292;&#20063;&#23601;&#26159;&#35828;&#21363;&#20351;&#29616;&#22312;&#31995;&#32479;&#23849;&#28291;&#65292;&#37027;&#20040;&#22312;&#37325;&#21551;&#21518;&#20063;&#29992;&#19981;&#30528;&#20351;&#29992;redo&#26085;&#24535;&#24674;&#22797;&#35813;&#39029;&#38754;&#20102;&#65292;&#25152;&#20197;&#35813;redo&#26085;&#24535;&#20063;&#23601;&#27809;&#26377;&#23384;&#22312;&#30340;&#24517;&#35201;&#20102;&#65292;&#37027;&#20040;&#23427;&#21344;&#29992;&#30340;&#30913;&#30424;&#31354;&#38388;&#23601;&#21487;&#20197;&#34987;&#21518;&#32493;&#30340;redo&#26085;&#24535;&#25152;&#37325;&#29992;
 </span>
 &#12290;&#20063;&#23601;&#26159;&#35828;&#65306;
 <span>
  &#21028;&#26029;&#26576;&#20123;redo&#26085;&#24535;&#21344;&#29992;&#30340;&#30913;&#30424;&#31354;&#38388;&#26159;&#21542;&#21487;&#20197;&#35206;&#30422;&#30340;&#20381;&#25454;&#23601;&#26159;&#23427;&#23545;&#24212;&#30340;&#33039;&#39029;&#26159;&#21542;&#24050;&#32463;&#21047;&#26032;&#21040;&#30913;&#30424;&#37324;
 </span>
 &#12290;&#25105;&#20204;&#30475;&#19968;&#19979;&#21069;&#36793;&#19968;&#30452;&#21792;&#21480;&#30340;&#37027;&#20010;&#20363;&#23376;&#65306;
</p>
<p>
 <img alt="image_1d4v6epcasjm11u4l131nj41vgs68.png-112.1kB" src="EPUB/381da4e6-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#22914;&#22270;&#65292;&#34429;&#28982;
 <code>
  mtr_1
 </code>
 &#21644;
 <code>
  mtr_2
 </code>
 &#29983;&#25104;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#37117;&#24050;&#32463;&#34987;&#20889;&#21040;&#20102;&#30913;&#30424;&#19978;&#65292;&#20294;&#26159;&#23427;&#20204;&#20462;&#25913;&#30340;&#33039;&#39029;&#20173;&#28982;&#30041;&#22312;
 <code>
  Buffer Pool
 </code>
 &#20013;&#65292;&#25152;&#20197;&#23427;&#20204;&#29983;&#25104;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#22312;&#30913;&#30424;&#19978;&#30340;&#31354;&#38388;&#26159;&#19981;&#21487;&#20197;&#34987;&#35206;&#30422;&#30340;&#12290;&#20043;&#21518;&#38543;&#30528;&#31995;&#32479;&#30340;&#36816;&#34892;&#65292;&#22914;&#26524;
 <code>
  &#39029;a
 </code>
 &#34987;&#21047;&#26032;&#21040;&#20102;&#30913;&#30424;&#65292;&#37027;&#20040;&#23427;&#23545;&#24212;&#30340;&#25511;&#21046;&#22359;&#23601;&#20250;&#20174;
 <code>
  flush&#38142;&#34920;
 </code>
 &#20013;&#31227;&#38500;&#65292;&#23601;&#20687;&#36825;&#26679;&#23376;&#65306;
</p>
<p>
 <img alt="image_1d4v6h6kp7311ni21mkn1ejkm397i.png-99.3kB" src="EPUB/38ea7ebc-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#36825;&#26679;
 <code>
  mtr_1
 </code>
 &#29983;&#25104;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#23601;&#27809;&#26377;&#29992;&#20102;&#65292;&#23427;&#20204;&#21344;&#29992;&#30340;&#30913;&#30424;&#31354;&#38388;&#23601;&#21487;&#20197;&#34987;&#35206;&#30422;&#25481;&#20102;&#12290;&#35774;&#35745;
 <code>
  InnoDB
 </code>
 &#30340;&#22823;&#21460;&#25552;&#20986;&#20102;&#19968;&#20010;&#20840;&#23616;&#21464;&#37327;
 <code>
  checkpoint_lsn
 </code>
 &#26469;&#20195;&#34920;&#24403;&#21069;&#31995;&#32479;&#20013;&#21487;&#20197;&#34987;&#35206;&#30422;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#24635;&#37327;&#26159;&#22810;&#23569;&#65292;&#36825;&#20010;&#21464;&#37327;&#21021;&#22987;&#20540;&#20063;&#26159;
 <code>
  8704
 </code>
 &#12290;
</p>
<p>
 &#27604;&#26041;&#35828;&#29616;&#22312;
 <code>
  &#39029;a
 </code>
 &#34987;&#21047;&#26032;&#21040;&#20102;&#30913;&#30424;&#65292;
 <code>
  mtr_1
 </code>
 &#29983;&#25104;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#23601;&#21487;&#20197;&#34987;&#35206;&#30422;&#20102;&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#36827;&#34892;&#19968;&#20010;&#22686;&#21152;
 <code>
  checkpoint_lsn
 </code>
 &#30340;&#25805;&#20316;&#65292;&#25105;&#20204;&#25226;&#36825;&#20010;&#36807;&#31243;&#31216;&#20043;&#20026;&#20570;&#19968;&#27425;
 <code>
  checkpoint
 </code>
 &#12290;&#20570;&#19968;&#27425;
 <code>
  checkpoint
 </code>
 &#20854;&#23454;&#21487;&#20197;&#20998;&#20026;&#20004;&#20010;&#27493;&#39588;&#65306;
</p>
<ul>
 <li>
  <p>
   &#27493;&#39588;&#19968;&#65306;&#35745;&#31639;&#19968;&#19979;&#24403;&#21069;&#31995;&#32479;&#20013;&#21487;&#20197;&#34987;&#35206;&#30422;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#20540;&#26368;&#22823;&#26159;&#22810;&#23569;&#12290;
  </p>
  <p>
   <code>
    redo
   </code>
   &#26085;&#24535;&#21487;&#20197;&#34987;&#35206;&#30422;&#65292;&#24847;&#21619;&#30528;&#23427;&#23545;&#24212;&#30340;&#33039;&#39029;&#34987;&#21047;&#21040;&#20102;&#30913;&#30424;&#65292;&#21482;&#35201;&#25105;&#20204;&#35745;&#31639;&#20986;&#24403;&#21069;&#31995;&#32479;&#20013;&#34987;&#26368;&#26089;&#20462;&#25913;&#30340;&#33039;&#39029;&#23545;&#24212;&#30340;
   <code>
    oldest_modification
   </code>
   &#20540;&#65292;&#37027;
   <span>
    &#20961;&#26159;&#22312;&#31995;&#32479;lsn&#20540;&#23567;&#20110;&#35813;&#33410;&#28857;&#30340;oldest_modification&#20540;&#26102;&#20135;&#29983;&#30340;redo&#26085;&#24535;&#37117;&#26159;&#21487;&#20197;&#34987;&#35206;&#30422;&#25481;&#30340;
   </span>
   &#65292;&#25105;&#20204;&#23601;&#25226;&#35813;&#33039;&#39029;&#30340;
   <code>
    oldest_modification
   </code>
   &#36171;&#20540;&#32473;
   <code>
    checkpoint_lsn
   </code>
   &#12290;
  </p>
  <p>
   &#27604;&#26041;&#35828;&#24403;&#21069;&#31995;&#32479;&#20013;
   <code>
    &#39029;a
   </code>
   &#24050;&#32463;&#34987;&#21047;&#26032;&#21040;&#30913;&#30424;&#65292;&#37027;&#20040;
   <code>
    flush&#38142;&#34920;
   </code>
   &#30340;&#23614;&#33410;&#28857;&#23601;&#26159;
   <code>
    &#39029;c
   </code>
   &#65292;&#35813;&#33410;&#28857;&#23601;&#26159;&#24403;&#21069;&#31995;&#32479;&#20013;&#26368;&#26089;&#20462;&#25913;&#30340;&#33039;&#39029;&#20102;&#65292;&#23427;&#30340;
   <code>
    oldest_modification
   </code>
   &#20540;&#20026;8916&#65292;&#25105;&#20204;&#23601;&#25226;8916&#36171;&#20540;&#32473;
   <code>
    checkpoint_lsn
   </code>
   &#65288;&#20063;&#23601;&#26159;&#35828;&#22312;redo&#26085;&#24535;&#23545;&#24212;&#30340;lsn&#20540;&#23567;&#20110;8916&#26102;&#23601;&#21487;&#20197;&#34987;&#35206;&#30422;&#25481;&#65289;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#27493;&#39588;&#20108;&#65306;&#23558;
   <code>
    checkpoint_lsn
   </code>
   &#21644;&#23545;&#24212;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#32452;&#20559;&#31227;&#37327;&#20197;&#21450;&#27492;&#27425;
   <code>
    checkpint
   </code>
   &#30340;&#32534;&#21495;&#20889;&#21040;&#26085;&#24535;&#25991;&#20214;&#30340;&#31649;&#29702;&#20449;&#24687;&#65288;&#23601;&#26159;
   <code>
    checkpoint1
   </code>
   &#25110;&#32773;
   <code>
    checkpoint2
   </code>
   &#65289;&#20013;&#12290;
  </p>
  <p>
   &#35774;&#35745;
   <code>
    InnoDB
   </code>
   &#30340;&#22823;&#21460;&#32500;&#25252;&#20102;&#19968;&#20010;&#30446;&#21069;&#31995;&#32479;&#20570;&#20102;&#22810;&#23569;&#27425;
   <code>
    checkpoint
   </code>
   &#30340;&#21464;&#37327;
   <code>
    checkpoint_no
   </code>
   &#65292;&#27599;&#20570;&#19968;&#27425;
   <code>
    checkpoint
   </code>
   &#65292;&#35813;&#21464;&#37327;&#30340;&#20540;&#23601;&#21152;1&#12290;&#25105;&#20204;&#21069;&#36793;&#35828;&#36807;&#35745;&#31639;&#19968;&#20010;
   <code>
    lsn
   </code>
   &#20540;&#23545;&#24212;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#32452;&#20559;&#31227;&#37327;&#26159;&#24456;&#23481;&#26131;&#30340;&#65292;&#25152;&#20197;&#21487;&#20197;&#35745;&#31639;&#24471;&#21040;&#35813;
   <code>
    checkpoint_lsn
   </code>
   &#22312;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#23545;&#24212;&#30340;&#20559;&#31227;&#37327;
   <code>
    checkpoint_offset
   </code>
   &#65292;&#28982;&#21518;&#25226;&#36825;&#19977;&#20010;&#20540;&#37117;&#20889;&#21040;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#32452;&#30340;&#31649;&#29702;&#20449;&#24687;&#20013;&#12290;
  </p>
  <p>
   &#25105;&#20204;&#35828;&#36807;&#65292;&#27599;&#19968;&#20010;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25991;&#20214;&#37117;&#26377;
   <code>
    2048
   </code>
   &#20010;&#23383;&#33410;&#30340;&#31649;&#29702;&#20449;&#24687;&#65292;&#20294;&#26159;
   <span>
    &#19978;&#36848;&#20851;&#20110;checkpoint&#30340;&#20449;&#24687;&#21482;&#20250;&#34987;&#20889;&#21040;&#26085;&#24535;&#25991;&#20214;&#32452;&#30340;&#31532;&#19968;&#20010;&#26085;&#24535;&#25991;&#20214;&#30340;&#31649;&#29702;&#20449;&#24687;&#20013;
   </span>
   &#12290;&#19981;&#36807;&#25105;&#20204;&#26159;&#23384;&#20648;&#21040;
   <code>
    checkpoint1
   </code>
   &#20013;&#36824;&#26159;
   <code>
    checkpoint2
   </code>
   &#20013;&#21602;&#65311;&#35774;&#35745;
   <code>
    InnoDB
   </code>
   &#30340;&#22823;&#21460;&#35268;&#23450;&#65292;&#24403;
   <code>
    checkpoint_no
   </code>
   &#30340;&#20540;&#26159;&#20598;&#25968;&#26102;&#65292;&#23601;&#20889;&#21040;
   <code>
    checkpoint1
   </code>
   &#20013;&#65292;&#26159;&#22855;&#25968;&#26102;&#65292;&#23601;&#20889;&#21040;
   <code>
    checkpoint2
   </code>
   &#20013;&#12290;
  </p>
 </li>
</ul>
<p>
 &#35760;&#24405;&#23436;
 <code>
  checkpoint
 </code>
 &#30340;&#20449;&#24687;&#20043;&#21518;&#65292;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#21508;&#20010;
 <code>
  lsn
 </code>
 &#20540;&#30340;&#20851;&#31995;&#23601;&#20687;&#36825;&#26679;&#65306;
</p>
<p>
 <img alt="image_1d678eiie125j1flp1tc617jp1dvo9.png-68.1kB" src="EPUB/38fe30d8-13d6-11ed-838d-acde48001122">
</p>
<h3>
 &#25209;&#37327;&#20174;flush&#38142;&#34920;&#20013;&#21047;&#20986;&#33039;&#39029;
</h3>
<p>
 &#25105;&#20204;&#22312;&#20171;&#32461;
 <code>
  Buffer Pool
 </code>
 &#30340;&#26102;&#20505;&#35828;&#36807;&#65292;&#19968;&#33324;&#24773;&#20917;&#19979;&#37117;&#26159;&#21518;&#21488;&#30340;&#32447;&#31243;&#22312;&#23545;
 <code>
  LRU&#38142;&#34920;
 </code>
 &#21644;
 <code>
  flush&#38142;&#34920;
 </code>
 &#36827;&#34892;&#21047;&#33039;&#25805;&#20316;&#65292;&#36825;&#20027;&#35201;&#22240;&#20026;&#21047;&#33039;&#25805;&#20316;&#27604;&#36739;&#24930;&#65292;&#19981;&#24819;&#24433;&#21709;&#29992;&#25143;&#32447;&#31243;&#22788;&#29702;&#35831;&#27714;&#12290;&#20294;&#26159;&#22914;&#26524;&#24403;&#21069;&#31995;&#32479;&#20462;&#25913;&#39029;&#38754;&#30340;&#25805;&#20316;&#21313;&#20998;&#39057;&#32321;&#65292;&#36825;&#26679;&#23601;&#23548;&#33268;&#20889;&#26085;&#24535;&#25805;&#20316;&#21313;&#20998;&#39057;&#32321;&#65292;&#31995;&#32479;
 <code>
  lsn
 </code>
 &#20540;&#22686;&#38271;&#36807;&#24555;&#12290;&#22914;&#26524;&#21518;&#21488;&#30340;&#21047;&#33039;&#25805;&#20316;&#19981;&#33021;&#23558;&#33039;&#39029;&#21047;&#20986;&#65292;&#37027;&#20040;&#31995;&#32479;&#26080;&#27861;&#21450;&#26102;&#20570;
 <code>
  checkpoint
 </code>
 &#65292;&#21487;&#33021;&#23601;&#38656;&#35201;&#29992;&#25143;&#32447;&#31243;&#21516;&#27493;&#30340;&#20174;
 <code>
  flush&#38142;&#34920;
 </code>
 &#20013;&#25226;&#37027;&#20123;&#26368;&#26089;&#20462;&#25913;&#30340;&#33039;&#39029;&#65288;
 <code>
  oldest_modification
 </code>
 &#26368;&#23567;&#30340;&#33039;&#39029;&#65289;&#21047;&#26032;&#21040;&#30913;&#30424;&#65292;&#36825;&#26679;&#36825;&#20123;&#33039;&#39029;&#23545;&#24212;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#23601;&#27809;&#29992;&#20102;&#65292;&#28982;&#21518;&#23601;&#21487;&#20197;&#21435;&#20570;
 <code>
  checkpoint
 </code>
 &#20102;&#12290;
</p>
<h3>
 &#26597;&#30475;&#31995;&#32479;&#20013;&#30340;&#21508;&#31181;LSN&#20540;
</h3>
<p>
 &#25105;&#20204;&#21487;&#20197;&#20351;&#29992;
 <code>
  SHOW ENGINE INNODB STATUS
 </code>
 &#21629;&#20196;&#26597;&#30475;&#24403;&#21069;
 <code>
  InnoDB
 </code>
 &#23384;&#20648;&#24341;&#25806;&#20013;&#30340;&#21508;&#31181;
 <code>
  LSN
 </code>
 &#20540;&#30340;&#24773;&#20917;&#65292;&#27604;&#22914;&#65306;
</p>
<pre><code>mysql&gt; SHOW ENGINE INNODB STATUS\G

(...&#30465;&#30053;&#21069;&#36793;&#30340;&#35768;&#22810;&#29366;&#24577;)
LOG
---
Log sequence number 124476971
Log flushed up to   124099769
Pages flushed up to 124052503
Last checkpoint at  124052494
0 pending log flushes, 0 pending chkp writes
24 log i/o's done, 2.00 log i/o's/second
----------------------
(...&#30465;&#30053;&#21518;&#36793;&#30340;&#35768;&#22810;&#29366;&#24577;)
</code></pre>
<p>
 &#20854;&#20013;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    Log sequence number
   </code>
   &#65306;&#20195;&#34920;&#31995;&#32479;&#20013;&#30340;
   <code>
    lsn
   </code>
   &#20540;&#65292;&#20063;&#23601;&#26159;&#24403;&#21069;&#31995;&#32479;&#24050;&#32463;&#20889;&#20837;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#37327;&#65292;&#21253;&#25324;&#20889;&#20837;
   <code>
    log buffer
   </code>
   &#20013;&#30340;&#26085;&#24535;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    Log flushed up to
   </code>
   &#65306;&#20195;&#34920;
   <code>
    flushed_to_disk_lsn
   </code>
   &#30340;&#20540;&#65292;&#20063;&#23601;&#26159;&#24403;&#21069;&#31995;&#32479;&#24050;&#32463;&#20889;&#20837;&#30913;&#30424;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#37327;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    Pages flushed up to
   </code>
   &#65306;&#20195;&#34920;
   <code>
    flush&#38142;&#34920;
   </code>
   &#20013;&#34987;&#26368;&#26089;&#20462;&#25913;&#30340;&#37027;&#20010;&#39029;&#38754;&#23545;&#24212;&#30340;
   <code>
    oldest_modification
   </code>
   &#23646;&#24615;&#20540;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    Last checkpoint at
   </code>
   &#65306;&#24403;&#21069;&#31995;&#32479;&#30340;
   <code>
    checkpoint_lsn
   </code>
   &#20540;&#12290;
  </p>
 </li>
</ul>
<h2>
 innodb_flush_log_at_trx_commit&#30340;&#29992;&#27861;
</h2>
<p>
 &#25105;&#20204;&#21069;&#36793;&#35828;&#20026;&#20102;&#20445;&#35777;&#20107;&#21153;&#30340;
 <code>
  &#25345;&#20037;&#24615;
 </code>
 &#65292;&#29992;&#25143;&#32447;&#31243;&#22312;&#20107;&#21153;&#25552;&#20132;&#26102;&#38656;&#35201;&#23558;&#35813;&#20107;&#21153;&#25191;&#34892;&#36807;&#31243;&#20013;&#20135;&#29983;&#30340;&#25152;&#26377;
 <code>
  redo
 </code>
 &#26085;&#24535;&#37117;&#21047;&#26032;&#21040;&#30913;&#30424;&#19978;&#12290;&#36825;&#19968;&#26465;&#35201;&#27714;&#22826;&#29408;&#20102;&#65292;&#20250;&#24456;&#26126;&#26174;&#30340;&#38477;&#20302;&#25968;&#25454;&#24211;&#24615;&#33021;&#12290;&#22914;&#26524;&#26377;&#30340;&#21516;&#23398;&#23545;&#20107;&#21153;&#30340;
 <code>
  &#25345;&#20037;&#24615;
 </code>
 &#35201;&#27714;&#19981;&#26159;&#37027;&#20040;&#24378;&#28872;&#30340;&#35805;&#65292;&#21487;&#20197;&#36873;&#25321;&#20462;&#25913;&#19968;&#20010;&#31216;&#20026;
 <code>
  innodb_flush_log_at_trx_commit
 </code>
 &#30340;&#31995;&#32479;&#21464;&#37327;&#30340;&#20540;&#65292;&#35813;&#21464;&#37327;&#26377;3&#20010;&#21487;&#36873;&#30340;&#20540;&#65306;
</p>
<ul>
 <li>
  <p>
   <code>
    0
   </code>
   &#65306;&#24403;&#35813;&#31995;&#32479;&#21464;&#37327;&#20540;&#20026;0&#26102;&#65292;&#34920;&#31034;&#22312;&#20107;&#21153;&#25552;&#20132;&#26102;&#19981;&#31435;&#21363;&#21521;&#30913;&#30424;&#20013;&#21516;&#27493;
   <code>
    redo
   </code>
   &#26085;&#24535;&#65292;&#36825;&#20010;&#20219;&#21153;&#26159;&#20132;&#32473;&#21518;&#21488;&#32447;&#31243;&#20570;&#30340;&#12290;
  </p>
  <p>
   &#36825;&#26679;&#24456;&#26126;&#26174;&#20250;&#21152;&#24555;&#35831;&#27714;&#22788;&#29702;&#36895;&#24230;&#65292;&#20294;&#26159;&#22914;&#26524;&#20107;&#21153;&#25552;&#20132;&#21518;&#26381;&#21153;&#22120;&#25346;&#20102;&#65292;&#21518;&#21488;&#32447;&#31243;&#27809;&#26377;&#21450;&#26102;&#23558;
   <code>
    redo
   </code>
   &#26085;&#24535;&#21047;&#26032;&#21040;&#30913;&#30424;&#65292;&#37027;&#20040;&#35813;&#20107;&#21153;&#23545;&#39029;&#38754;&#30340;&#20462;&#25913;&#20250;&#20002;&#22833;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    1
   </code>
   &#65306;&#24403;&#35813;&#31995;&#32479;&#21464;&#37327;&#20540;&#20026;1&#26102;&#65292;&#34920;&#31034;&#22312;&#20107;&#21153;&#25552;&#20132;&#26102;&#38656;&#35201;&#23558;
   <code>
    redo
   </code>
   &#26085;&#24535;&#21516;&#27493;&#21040;&#30913;&#30424;&#65292;&#21487;&#20197;&#20445;&#35777;&#20107;&#21153;&#30340;
   <code>
    &#25345;&#20037;&#24615;
   </code>
   &#12290;
   <code>
    1
   </code>
   &#20063;&#26159;
   <code>
    innodb_flush_log_at_trx_commit
   </code>
   &#30340;&#40664;&#35748;&#20540;&#12290;
  </p>
 </li>
 <li>
  <p>
   <code>
    2
   </code>
   &#65306;&#24403;&#35813;&#31995;&#32479;&#21464;&#37327;&#20540;&#20026;2&#26102;&#65292;&#34920;&#31034;&#22312;&#20107;&#21153;&#25552;&#20132;&#26102;&#38656;&#35201;&#23558;
   <code>
    redo
   </code>
   &#26085;&#24535;&#20889;&#21040;&#25805;&#20316;&#31995;&#32479;&#30340;&#32531;&#20914;&#21306;&#20013;&#65292;&#20294;&#24182;&#19981;&#38656;&#35201;&#20445;&#35777;&#23558;&#26085;&#24535;&#30495;&#27491;&#30340;&#21047;&#26032;&#21040;&#30913;&#30424;&#12290;
  </p>
  <p>
   &#36825;&#31181;&#24773;&#20917;&#19979;&#22914;&#26524;&#25968;&#25454;&#24211;&#25346;&#20102;&#65292;&#25805;&#20316;&#31995;&#32479;&#27809;&#25346;&#30340;&#35805;&#65292;&#20107;&#21153;&#30340;
   <code>
    &#25345;&#20037;&#24615;
   </code>
   &#36824;&#26159;&#21487;&#20197;&#20445;&#35777;&#30340;&#65292;&#20294;&#26159;&#25805;&#20316;&#31995;&#32479;&#20063;&#25346;&#20102;&#30340;&#35805;&#65292;&#37027;&#23601;&#19981;&#33021;&#20445;&#35777;
   <code>
    &#25345;&#20037;&#24615;
   </code>
   &#20102;&#12290;
  </p>
 </li>
</ul>
<h2>
 &#23849;&#28291;&#24674;&#22797;
</h2>
<p>
 &#22312;&#26381;&#21153;&#22120;&#19981;&#25346;&#30340;&#24773;&#20917;&#19979;&#65292;
 <code>
  redo
 </code>
 &#26085;&#24535;&#31616;&#30452;&#23601;&#26159;&#20010;&#22823;&#32047;&#36184;&#65292;&#19981;&#20165;&#27809;&#29992;&#65292;&#21453;&#32780;&#35753;&#24615;&#33021;&#21464;&#24471;&#26356;&#24046;&#12290;&#20294;&#26159;&#19975;&#19968;&#65292;&#25105;&#35828;&#19975;&#19968;&#21834;&#65292;&#19975;&#19968;&#25968;&#25454;&#24211;&#25346;&#20102;&#65292;&#37027;
 <code>
  redo
 </code>
 &#26085;&#24535;&#21487;&#26159;&#20010;&#23453;&#20102;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#22312;&#37325;&#21551;&#26102;&#26681;&#25454;
 <code>
  redo
 </code>
 &#26085;&#24535;&#20013;&#30340;&#35760;&#24405;&#23601;&#21487;&#20197;&#23558;&#39029;&#38754;&#24674;&#22797;&#21040;&#31995;&#32479;&#23849;&#28291;&#21069;&#30340;&#29366;&#24577;&#12290;&#25105;&#20204;&#25509;&#19979;&#26469;&#22823;&#33268;&#30475;&#19968;&#19979;&#24674;&#22797;&#36807;&#31243;&#26159;&#20010;&#21861;&#26679;&#12290;
</p>
<h3>
 &#30830;&#23450;&#24674;&#22797;&#30340;&#36215;&#28857;
</h3>
<p>
 &#25105;&#20204;&#21069;&#36793;&#35828;&#36807;&#65292;
 <code>
  checkpoint_lsn
 </code>
 &#20043;&#21069;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#37117;&#21487;&#20197;&#34987;&#35206;&#30422;&#65292;&#20063;&#23601;&#26159;&#35828;&#36825;&#20123;
 <code>
  redo
 </code>
 &#26085;&#24535;&#23545;&#24212;&#30340;&#33039;&#39029;&#37117;&#24050;&#32463;&#34987;&#21047;&#26032;&#21040;&#30913;&#30424;&#20013;&#20102;&#65292;&#26082;&#28982;&#23427;&#20204;&#24050;&#32463;&#34987;&#21047;&#30424;&#65292;&#25105;&#20204;&#23601;&#27809;&#24517;&#35201;&#24674;&#22797;&#23427;&#20204;&#20102;&#12290;&#23545;&#20110;
 <code>
  checkpoint_lsn
 </code>
 &#20043;&#21518;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#65292;&#23427;&#20204;&#23545;&#24212;&#30340;&#33039;&#39029;&#21487;&#33021;&#27809;&#34987;&#21047;&#30424;&#65292;&#20063;&#21487;&#33021;&#34987;&#21047;&#30424;&#20102;&#65292;&#25105;&#20204;&#19981;&#33021;&#30830;&#23450;&#65292;&#25152;&#20197;&#38656;&#35201;&#20174;
 <code>
  checkpoint_lsn
 </code>
 &#24320;&#22987;&#35835;&#21462;
 <code>
  redo
 </code>
 &#26085;&#24535;&#26469;&#24674;&#22797;&#39029;&#38754;&#12290;
</p>
<p>
 &#24403;&#28982;&#65292;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#32452;&#30340;&#31532;&#19968;&#20010;&#25991;&#20214;&#30340;&#31649;&#29702;&#20449;&#24687;&#20013;&#26377;&#20004;&#20010;block&#37117;&#23384;&#20648;&#20102;
 <code>
  checkpoint_lsn
 </code>
 &#30340;&#20449;&#24687;&#65292;&#25105;&#20204;&#24403;&#28982;&#26159;&#35201;&#36873;&#21462;
 <span>
  &#26368;&#36817;&#21457;&#29983;&#30340;&#37027;&#27425;checkpoint&#30340;&#20449;&#24687;
 </span>
 &#12290;&#34913;&#37327;
 <code>
  checkpoint
 </code>
 &#21457;&#29983;&#26102;&#38388;&#26089;&#26202;&#30340;&#20449;&#24687;&#23601;&#26159;&#25152;&#35859;&#30340;
 <code>
  checkpoint_no
 </code>
 &#65292;&#25105;&#20204;&#21482;&#35201;&#25226;
 <code>
  checkpoint1
 </code>
 &#21644;
 <code>
  checkpoint2
 </code>
 &#36825;&#20004;&#20010;block&#20013;&#30340;
 <code>
  checkpoint_no
 </code>
 &#20540;&#35835;&#20986;&#26469;&#27604;&#19968;&#19979;&#22823;&#23567;&#65292;&#21738;&#20010;&#30340;
 <code>
  checkpoint_no
 </code>
 &#20540;&#26356;&#22823;&#65292;&#35828;&#26126;&#21738;&#20010;block&#23384;&#20648;&#30340;&#23601;&#26159;&#26368;&#36817;&#30340;&#19968;&#27425;
 <code>
  checkpoint
 </code>
 &#20449;&#24687;&#12290;&#36825;&#26679;&#25105;&#20204;&#23601;&#33021;&#25343;&#21040;&#26368;&#36817;&#21457;&#29983;&#30340;
 <code>
  checkpoint
 </code>
 &#23545;&#24212;&#30340;
 <code>
  checkpoint_lsn
 </code>
 &#20540;&#20197;&#21450;&#23427;&#22312;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#30340;&#20559;&#31227;&#37327;
 <code>
  checkpoint_offset
 </code>
 &#12290;
</p>
<h3>
 &#30830;&#23450;&#24674;&#22797;&#30340;&#32456;&#28857;
</h3>
<p>
 <code>
  redo
 </code>
 &#26085;&#24535;&#24674;&#22797;&#30340;&#36215;&#28857;&#30830;&#23450;&#20102;&#65292;&#37027;&#32456;&#28857;&#26159;&#21738;&#20010;&#21602;&#65311;&#36825;&#20010;&#36824;&#24471;&#20174;block&#30340;&#32467;&#26500;&#35828;&#36215;&#12290;&#25105;&#20204;&#35828;&#22312;&#20889;
 <code>
  redo
 </code>
 &#26085;&#24535;&#30340;&#26102;&#20505;&#37117;&#26159;&#39034;&#24207;&#20889;&#30340;&#65292;&#20889;&#28385;&#20102;&#19968;&#20010;block&#20043;&#21518;&#20250;&#20877;&#24448;&#19979;&#19968;&#20010;block&#20013;&#20889;&#65306;
</p>
<p>
 <img alt="image_1d4viej35t9nvld8o3141s8pp.png-69.5kB" src="EPUB/390edf6e-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#26222;&#36890;block&#30340;
 <code>
  log block header
 </code>
 &#37096;&#20998;&#26377;&#19968;&#20010;&#31216;&#20043;&#20026;
 <code>
  LOG_BLOCK_HDR_DATA_LEN
 </code>
 &#30340;&#23646;&#24615;&#65292;&#35813;&#23646;&#24615;&#20540;&#35760;&#24405;&#20102;&#24403;&#21069;block&#37324;&#20351;&#29992;&#20102;&#22810;&#23569;&#23383;&#33410;&#30340;&#31354;&#38388;&#12290;&#23545;&#20110;&#34987;&#22635;&#28385;&#30340;block&#26469;&#35828;&#65292;&#35813;&#20540;&#27704;&#36828;&#20026;
 <code>
  512
 </code>
 &#12290;&#22914;&#26524;&#35813;&#23646;&#24615;&#30340;&#20540;&#19981;&#20026;
 <code>
  512
 </code>
 &#65292;&#37027;&#20040;&#23601;&#26159;&#23427;&#20102;&#65292;&#23427;&#23601;&#26159;&#27492;&#27425;&#23849;&#28291;&#24674;&#22797;&#20013;&#38656;&#35201;&#25195;&#25551;&#30340;&#26368;&#21518;&#19968;&#20010;block&#12290;
</p>
<h3>
 &#24590;&#20040;&#24674;&#22797;
</h3>
<p>
 &#30830;&#23450;&#20102;&#38656;&#35201;&#25195;&#25551;&#21738;&#20123;
 <code>
  redo
 </code>
 &#26085;&#24535;&#36827;&#34892;&#23849;&#28291;&#24674;&#22797;&#20043;&#21518;&#65292;&#25509;&#19979;&#26469;&#23601;&#26159;&#24590;&#20040;&#36827;&#34892;&#24674;&#22797;&#20102;&#12290;&#20551;&#35774;&#29616;&#22312;&#30340;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#20013;&#26377;5&#26465;
 <code>
  redo
 </code>
 &#26085;&#24535;&#65292;&#22914;&#22270;&#65306;
</p>
<p>
 <img alt="image_1d4vjuf9l17og1papl3e16is1m9f16.png-59.9kB" src="EPUB/3920a79e-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#30001;&#20110;
 <code>
  redo 0
 </code>
 &#22312;
 <code>
  checkpoint_lsn
 </code>
 &#21518;&#36793;&#65292;&#24674;&#22797;&#26102;&#21487;&#20197;&#19981;&#31649;&#23427;&#12290;&#25105;&#20204;&#29616;&#22312;&#21487;&#20197;&#25353;&#29031;
 <code>
  redo
 </code>
 &#26085;&#24535;&#30340;&#39034;&#24207;&#20381;&#27425;&#25195;&#25551;
 <code>
  checkpoint_lsn
 </code>
 &#20043;&#21518;&#30340;&#21508;&#26465;redo&#26085;&#24535;&#65292;&#25353;&#29031;&#26085;&#24535;&#20013;&#35760;&#36733;&#30340;&#20869;&#23481;&#23558;&#23545;&#24212;&#30340;&#39029;&#38754;&#24674;&#22797;&#20986;&#26469;&#12290;&#36825;&#26679;&#27809;&#20160;&#20040;&#38382;&#39064;&#65292;&#19981;&#36807;&#35774;&#35745;
 <code>
  InnoDB
 </code>
 &#30340;&#22823;&#21460;&#36824;&#26159;&#24819;&#20102;&#19968;&#20123;&#21150;&#27861;&#21152;&#24555;&#36825;&#20010;&#24674;&#22797;&#30340;&#36807;&#31243;&#65306;
</p>
<ul>
 <li>
  <p>
   &#20351;&#29992;&#21704;&#24076;&#34920;
  </p>
  <p>
   &#26681;&#25454;
   <code>
    redo
   </code>
   &#26085;&#24535;&#30340;
   <code>
    space ID
   </code>
   &#21644;
   <code>
    page number
   </code>
   &#23646;&#24615;&#35745;&#31639;&#20986;&#25955;&#21015;&#20540;&#65292;&#25226;
   <code>
    space ID
   </code>
   &#21644;
   <code>
    page number
   </code>
   &#30456;&#21516;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25918;&#21040;&#21704;&#24076;&#34920;&#30340;&#21516;&#19968;&#20010;&#27133;&#37324;&#65292;&#22914;&#26524;&#26377;&#22810;&#20010;
   <code>
    space ID
   </code>
   &#21644;
   <code>
    page number
   </code>
   &#37117;&#30456;&#21516;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#65292;&#37027;&#20040;&#23427;&#20204;&#20043;&#38388;&#20351;&#29992;&#38142;&#34920;&#36830;&#25509;&#36215;&#26469;&#65292;&#25353;&#29031;&#29983;&#25104;&#30340;&#20808;&#21518;&#39034;&#24207;&#38142;&#25509;&#36215;&#26469;&#30340;&#65292;&#22914;&#22270;&#25152;&#31034;&#65306;
  </p>
  <p>
   <img alt="image_1d50lj9da176rojd12ja1lodognc.png-156.4kB" src="EPUB/393453fc-13d6-11ed-838d-acde48001122">
  </p>
  <p>
   &#20043;&#21518;&#23601;&#21487;&#20197;&#36941;&#21382;&#21704;&#24076;&#34920;&#65292;&#22240;&#20026;&#23545;&#21516;&#19968;&#20010;&#39029;&#38754;&#36827;&#34892;&#20462;&#25913;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#37117;&#25918;&#22312;&#20102;&#19968;&#20010;&#27133;&#37324;&#65292;&#25152;&#20197;&#21487;&#20197;&#19968;&#27425;&#24615;&#23558;&#19968;&#20010;&#39029;&#38754;&#20462;&#22797;&#22909;&#65288;&#36991;&#20813;&#20102;&#24456;&#22810;&#35835;&#21462;&#39029;&#38754;&#30340;&#38543;&#26426;IO&#65289;&#65292;&#36825;&#26679;&#21487;&#20197;&#21152;&#24555;&#24674;&#22797;&#36895;&#24230;&#12290;&#21478;&#22806;&#38656;&#35201;&#27880;&#24847;&#19968;&#28857;&#30340;&#26159;&#65292;&#21516;&#19968;&#20010;&#39029;&#38754;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#26159;&#25353;&#29031;&#29983;&#25104;&#26102;&#38388;&#39034;&#24207;&#36827;&#34892;&#25490;&#24207;&#30340;&#65292;&#25152;&#20197;&#24674;&#22797;&#30340;&#26102;&#20505;&#20063;&#26159;&#25353;&#29031;&#36825;&#20010;&#39034;&#24207;&#36827;&#34892;&#24674;&#22797;&#65292;&#22914;&#26524;&#19981;&#25353;&#29031;&#29983;&#25104;&#26102;&#38388;&#39034;&#24207;&#36827;&#34892;&#25490;&#24207;&#30340;&#35805;&#65292;&#37027;&#20040;&#21487;&#33021;&#20986;&#29616;&#38169;&#35823;&#12290;&#27604;&#22914;&#21407;&#20808;&#30340;&#20462;&#25913;&#25805;&#20316;&#26159;&#20808;&#25554;&#20837;&#19968;&#26465;&#35760;&#24405;&#65292;&#20877;&#21024;&#38500;&#35813;&#26465;&#35760;&#24405;&#65292;&#22914;&#26524;&#24674;&#22797;&#26102;&#19981;&#25353;&#29031;&#36825;&#20010;&#39034;&#24207;&#26469;&#65292;&#23601;&#21487;&#33021;&#21464;&#25104;&#20808;&#21024;&#38500;&#19968;&#26465;&#35760;&#24405;&#65292;&#20877;&#25554;&#20837;&#19968;&#26465;&#35760;&#24405;&#65292;&#36825;&#26174;&#28982;&#26159;&#38169;&#35823;&#30340;&#12290;
  </p>
 </li>
 <li>
  <p>
   &#36339;&#36807;&#24050;&#32463;&#21047;&#26032;&#21040;&#30913;&#30424;&#30340;&#39029;&#38754;
  </p>
  <p>
   &#25105;&#20204;&#21069;&#36793;&#35828;&#36807;&#65292;
   <code>
    checkpoint_lsn
   </code>
   &#20043;&#21069;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#23545;&#24212;&#30340;&#33039;&#39029;&#30830;&#23450;&#37117;&#24050;&#32463;&#21047;&#21040;&#30913;&#30424;&#20102;&#65292;&#20294;&#26159;
   <code>
    checkpoint_lsn
   </code>
   &#20043;&#21518;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#25105;&#20204;&#19981;&#33021;&#30830;&#23450;&#26159;&#21542;&#24050;&#32463;&#21047;&#21040;&#30913;&#30424;&#65292;&#20027;&#35201;&#26159;&#22240;&#20026;&#22312;&#26368;&#36817;&#20570;&#30340;&#19968;&#27425;
   <code>
    checkpoint
   </code>
   &#21518;&#65292;&#21487;&#33021;&#21518;&#21488;&#32447;&#31243;&#21448;&#19981;&#26029;&#30340;&#20174;
   <code>
    LRU&#38142;&#34920;
   </code>
   &#21644;
   <code>
    flush&#38142;&#34920;
   </code>
   &#20013;&#23558;&#19968;&#20123;&#33039;&#39029;&#21047;&#20986;
   <code>
    Buffer Pool
   </code>
   &#12290;&#36825;&#20123;&#22312;
   <code>
    checkpoint_lsn
   </code>
   &#20043;&#21518;&#30340;
   <code>
    redo
   </code>
   &#26085;&#24535;&#65292;&#22914;&#26524;&#23427;&#20204;&#23545;&#24212;&#30340;&#33039;&#39029;&#22312;&#23849;&#28291;&#21457;&#29983;&#26102;&#24050;&#32463;&#21047;&#26032;&#21040;&#30913;&#30424;&#65292;&#37027;&#22312;&#24674;&#22797;&#26102;&#20063;&#23601;&#27809;&#26377;&#24517;&#35201;&#26681;&#25454;
   <code>
    redo
   </code>
   &#26085;&#24535;&#30340;&#20869;&#23481;&#20462;&#25913;&#35813;&#39029;&#38754;&#20102;&#12290;
  </p>
  <p>
   &#37027;&#22312;&#24674;&#22797;&#26102;&#24590;&#20040;&#30693;&#36947;&#26576;&#20010;
   <code>
    redo
   </code>
   &#26085;&#24535;&#23545;&#24212;&#30340;&#33039;&#39029;&#26159;&#21542;&#22312;&#23849;&#28291;&#21457;&#29983;&#26102;&#24050;&#32463;&#21047;&#26032;&#21040;&#30913;&#30424;&#20102;&#21602;&#65311;&#36825;&#36824;&#24471;&#20174;&#39029;&#38754;&#30340;&#32467;&#26500;&#35828;&#36215;&#65292;&#25105;&#20204;&#21069;&#36793;&#35828;&#36807;&#27599;&#20010;&#39029;&#38754;&#37117;&#26377;&#19968;&#20010;&#31216;&#20043;&#20026;
   <code>
    File Header
   </code>
   &#30340;&#37096;&#20998;&#65292;&#22312;
   <code>
    File Header
   </code>
   &#37324;&#26377;&#19968;&#20010;&#31216;&#20043;&#20026;
   <code>
    FIL_PAGE_LSN
   </code>
   &#30340;&#23646;&#24615;&#65292;&#35813;&#23646;&#24615;&#35760;&#36733;&#20102;&#26368;&#36817;&#19968;&#27425;&#20462;&#25913;&#39029;&#38754;&#26102;&#23545;&#24212;&#30340;
   <code>
    lsn
   </code>
   &#20540;&#65288;&#20854;&#23454;&#23601;&#26159;&#39029;&#38754;&#25511;&#21046;&#22359;&#20013;&#30340;
   <code>
    newest_modification
   </code>
   &#20540;&#65289;&#12290;&#22914;&#26524;&#22312;&#20570;&#20102;&#26576;&#27425;
   <code>
    checkpoint
   </code>
   &#20043;&#21518;&#26377;&#33039;&#39029;&#34987;&#21047;&#26032;&#21040;&#30913;&#30424;&#20013;&#65292;&#37027;&#20040;&#35813;&#39029;&#23545;&#24212;&#30340;
   <code>
    FIL_PAGE_LSN
   </code>
   &#20195;&#34920;&#30340;
   <code>
    lsn
   </code>
   &#20540;&#32943;&#23450;&#22823;&#20110;
   <code>
    checkpoint_lsn
   </code>
   &#30340;&#20540;&#65292;&#20961;&#26159;&#31526;&#21512;&#36825;&#31181;&#24773;&#20917;&#30340;&#39029;&#38754;&#23601;&#19981;&#38656;&#35201;&#37325;&#22797;&#25191;&#34892;lsn&#20540;&#23567;&#20110;
   <code>
    FIL_PAGE_LSN
   </code>
   &#30340;redo&#26085;&#24535;&#20102;&#65292;&#25152;&#20197;&#26356;&#36827;&#19968;&#27493;&#25552;&#21319;&#20102;&#23849;&#28291;&#24674;&#22797;&#30340;&#36895;&#24230;&#12290;
  </p>
 </li>
</ul>
<h2>
 &#36951;&#28431;&#30340;&#38382;&#39064;&#65306;LOG_BLOCK_HDR_NO&#26159;&#22914;&#20309;&#35745;&#31639;&#30340;
</h2>
<p>
 &#25105;&#20204;&#21069;&#36793;&#35828;&#36807;&#65292;&#23545;&#20110;&#23454;&#38469;&#23384;&#20648;
 <code>
  redo
 </code>
 &#26085;&#24535;&#30340;&#26222;&#36890;&#30340;
 <code>
  log block
 </code>
 &#26469;&#35828;&#65292;&#22312;
 <code>
  log block header
 </code>
 &#22788;&#26377;&#19968;&#20010;&#31216;&#20043;&#20026;
 <code>
  LOG_BLOCK_HDR_NO
 </code>
 &#30340;&#23646;&#24615;&#65288;&#24536;&#35760;&#20102;&#30340;&#35805;&#22238;&#22836;&#20877;&#30475;&#30475;&#21704;&#65289;&#65292;&#25105;&#20204;&#35828;&#36825;&#20010;&#23646;&#24615;&#20195;&#34920;&#19968;&#20010;&#21807;&#19968;&#30340;&#26631;&#21495;&#12290;&#36825;&#20010;&#23646;&#24615;&#26159;&#21021;&#27425;&#20351;&#29992;&#35813;block&#26102;&#20998;&#37197;&#30340;&#65292;&#36319;&#24403;&#26102;&#30340;&#31995;&#32479;
 <code>
  lsn
 </code>
 &#20540;&#26377;&#20851;&#12290;&#20351;&#29992;&#19979;&#36793;&#30340;&#20844;&#24335;&#35745;&#31639;&#35813;block&#30340;
 <code>
  LOG_BLOCK_HDR_NO
 </code>
 &#20540;&#65306;
</p>
<pre><code>((lsn / 512) &amp; 0x3FFFFFFFUL) + 1
</code></pre>
<p>
 &#36825;&#20010;&#20844;&#24335;&#37324;&#30340;
 <code>
  0x3FFFFFFFUL
 </code>
 &#21487;&#33021;&#35753;&#22823;&#23478;&#26377;&#28857;&#22256;&#24785;&#65292;&#20854;&#23454;&#23427;&#30340;&#20108;&#36827;&#21046;&#34920;&#31034;&#21487;&#33021;&#26356;&#20146;&#20999;&#19968;&#28857;&#65306;
</p>
<p>
 <img alt="image_1d4rt3sm81pbe1tij3pm147op9c30.png-36.9kB" src="EPUB/3946cfe6-13d6-11ed-838d-acde48001122">
</p>
<p>
 &#20174;&#22270;&#20013;&#21487;&#20197;&#30475;&#20986;&#65292;
 <code>
  0x3FFFFFFFUL
 </code>
 &#23545;&#24212;&#30340;&#20108;&#36827;&#21046;&#25968;&#30340;&#21069;2&#20301;&#20026;0&#65292;&#21518;30&#20301;&#30340;&#20540;&#37117;&#20026;
 <code>
  1
 </code>
 &#12290;&#25105;&#20204;&#21018;&#24320;&#22987;&#23398;&#35745;&#31639;&#26426;&#30340;&#26102;&#20505;&#23601;&#23398;&#36807;&#65292;&#19968;&#20010;&#20108;&#36827;&#21046;&#20301;&#19982;0&#20570;&#19982;&#36816;&#31639;&#65288;
 <code>
  &amp;
 </code>
 &#65289;&#30340;&#32467;&#26524;&#32943;&#23450;&#26159;0&#65292;&#19968;&#20010;&#20108;&#36827;&#21046;&#20301;&#19982;1&#20570;&#19982;&#36816;&#31639;&#65288;
 <code>
  &amp;
 </code>
 &#65289;&#30340;&#32467;&#26524;&#23601;&#26159;&#21407;&#20540;&#12290;&#35753;&#19968;&#20010;&#25968;&#21644;
 <code>
  0x3FFFFFFFUL
 </code>
 &#20570;&#19982;&#36816;&#31639;&#30340;&#24847;&#24605;&#23601;&#26159;&#35201;&#23558;&#35813;&#20540;&#30340;&#21069;2&#20010;&#27604;&#29305;&#20301;&#30340;&#20540;&#32622;&#20026;0&#65292;&#36825;&#26679;&#35813;&#20540;&#23601;&#32943;&#23450;&#23567;&#20110;&#25110;&#31561;&#20110;
 <code>
  0x3FFFFFFFUL
 </code>
 &#20102;&#12290;&#36825;&#20063;&#23601;&#35828;&#26126;&#20102;&#65292;&#19981;&#35770;lsn&#22810;&#22823;&#65292;
 <code>
  ((lsn / 512) &amp; 0x3FFFFFFFUL)
 </code>
 &#30340;&#20540;&#32943;&#23450;&#22312;
 <code>
  0
 </code>
 <del>
  <code>
   0x3FFFFFFFUL
  </code>
  &#20043;&#38388;&#65292;&#20877;&#21152;1&#30340;&#35805;&#32943;&#23450;&#22312;
  <code>
   1
  </code>
 </del>
 <code>
  0x40000000UL
 </code>
 &#20043;&#38388;&#12290;&#32780;
 <code>
  0x40000000UL
 </code>
 &#36825;&#20010;&#20540;&#22823;&#23478;&#24212;&#35813;&#24456;&#29087;&#24713;&#65292;&#36825;&#20010;&#20540;&#23601;&#20195;&#34920;&#30528;
 <code>
  1GB
 </code>
 &#12290;&#20063;&#23601;&#26159;&#35828;&#31995;&#32479;&#26368;&#22810;&#33021;&#20135;&#29983;&#19981;&#37325;&#22797;&#30340;
 <code>
  LOG_BLOCK_HDR_NO
 </code>
 &#20540;&#21482;&#26377;
 <code>
  1GB
 </code>
 &#20010;&#12290;&#35774;&#35745;InnoDB&#30340;&#22823;&#21460;&#35268;&#23450;
 <code>
  redo
 </code>
 &#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#21253;&#21547;&#30340;&#25152;&#26377;&#25991;&#20214;&#22823;&#23567;&#24635;&#21644;&#19981;&#24471;&#36229;&#36807;512GB&#65292;&#19968;&#20010;block&#22823;&#23567;&#26159;512&#23383;&#33410;&#65292;&#20063;&#23601;&#26159;&#35828;redo&#26085;&#24535;&#25991;&#20214;&#32452;&#20013;&#21253;&#21547;&#30340;block&#22359;&#26368;&#22810;&#20026;1GB&#20010;&#65292;&#25152;&#20197;&#26377;1GB&#20010;&#19981;&#37325;&#22797;&#30340;&#32534;&#21495;&#20540;&#20063;&#23601;&#22815;&#29992;&#20102;&#12290;
</p>
<p>
 &#21478;&#22806;&#65292;
 <code>
  LOG_BLOCK_HDR_NO
 </code>
 &#20540;&#30340;&#31532;&#19968;&#20010;&#27604;&#29305;&#20301;&#27604;&#36739;&#29305;&#27530;&#65292;&#31216;&#20043;&#20026;
 <code>
  flush bit
 </code>
 &#65292;&#22914;&#26524;&#35813;&#20540;&#20026;1&#65292;&#20195;&#34920;&#30528;&#26412;block&#26159;&#22312;&#26576;&#27425;&#23558;
 <code>
  log buffer
 </code>
 &#20013;&#30340;block&#21047;&#26032;&#21040;&#30913;&#30424;&#30340;&#25805;&#20316;&#20013;&#30340;&#31532;&#19968;&#20010;&#34987;&#21047;&#20837;&#30340;block&#12290;
</p>
</div>

</div>
</div>
