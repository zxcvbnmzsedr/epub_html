
        <html lang="en">
        <head>
        <meta charset="UTF-8"/>
        </head>
        <body>
        <div><div class="markdown-body">
    <h1>Kafka&#20026;&#20160;&#20040;&#36825;&#20040;&#24555;&#65311;</h1><div class="lake-content" typography="classic">
 <p class="ne-p" id="a20d224c568e48b9d67847a2c66a8c01_p_0">
  <span class="ne-text">
   &#20316;&#32773;&#65306;&#30721;&#21733;&#23383;&#33410;
  </span>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="731cded7741cfda7cdaf41e272cbec67">
   <span class="ne-text">
    &#37096;&#20998;&#20869;&#23481;&#34917;&#20805;&#65306;Guide&#21733; &#160; &#34917;&#20805;&#20869;&#23481;&#65306;&#38646;&#25335;&#36125;&#12289;&#25209;&#37327;&#20256;&#36755;&#19982;&#21387;&#32553;&#28040;&#24687;&#26356;&#20026;&#35814;&#32454;&#30340;&#35299;&#37322;&#12289;&#21387;&#32553;&#31639;&#27861;
   </span>
  </p>
 </div>
 <p class="ne-p" id="703251da8c0be458476d81bd8d5bec82">
  <br>
 </p>
 <p class="ne-p" id="3a8e77731fae18f2c11704d1c09eeb12">
  <span class="ne-text">
   Kafka &#20063;&#26159;&#19968;&#20010;&#24615;&#33021;&#21313;&#20998;&#20248;&#31168;&#30340;&#20013;&#38388;&#20214;&#65292;&#36825;&#31687;&#25991;&#31456;&#23601;&#20027;&#35201;&#20171;&#32461; Kafka &#24615;&#33021;&#20248;&#21270;&#26041;&#38754;&#30340;&#30693;&#35782;&#12290;
  </span>
 </p>
 <p class="ne-p" id="fc55368d954cdc51cc727e09f4b3564a">
  <br>
 </p>
 <p class="ne-p" id="69022087e8b872d03255d5ea92dd8c11">
  <span class="ne-text">
   &#35753;&#25105;&#20204;&#19968;&#36215;&#26469;&#28145;&#20837;&#20102;&#35299; Kafka &#8220;&#24555;&#8221;&#30340;&#20869;&#37096;&#31192;&#23494;&#12290;&#20320;&#19981;&#20165;&#21487;&#20197;&#23398;&#20064;&#21040; Kafka &#24615;&#33021;&#20248;&#21270;&#30340;&#21508;&#31181;&#25163;&#27573;&#65292;&#20063;&#21487;&#20197;&#25552;&#28860;&#20986;&#21508;&#31181;&#24615;&#33021;&#20248;&#21270;&#30340;&#26041;&#27861;&#35770;&#65292;&#36825;&#20123;&#26041;&#27861;&#35770;&#20063;&#21487;&#20197;&#24212;&#29992;&#21040;&#25105;&#20204;&#33258;&#24049;&#30340;&#39033;&#30446;&#20043;&#20013;&#65292;&#21161;&#21147;&#25105;&#20204;&#20889;&#20986;&#39640;&#24615;&#33021;&#30340;&#39033;&#30446;&#12290;
  </span>
 </p>
 <p class="ne-p" id="6be4f726a56e7bd11e493956096c0957">
  <br>
 </p>
 <h2 id="1f981218">
  <span class="ne-text">
   Kafka &#24615;&#33021;&#20840;&#26223;
  </span>
 </h2>
 <p class="ne-p" id="9d4ad1e9e273df00659dd99e4fac398d">
  <br>
 </p>
 <p class="ne-p" id="1912b4f9d89557e6b1a9acaaba503add">
  <img class="ne-image" id="WHmkb" src="EPUB/imgWHmkb" width="1080">
 </p>
 <p class="ne-p" id="b62d5632bd546b90eb9ff9f38d4d912b">
  <br>
 </p>
 <p class="ne-p" id="f3a03d4712af10d00c04a7c71dde8571">
  <span class="ne-text">
   &#20174;&#39640;&#24230;&#25277;&#35937;&#30340;&#35282;&#24230;&#26469;&#30475;&#65292;&#24615;&#33021;&#38382;&#39064;&#36867;&#19981;&#20986;&#19979;&#38754;&#19977;&#20010;&#26041;&#38754;&#65306;
  </span>
 </p>
 <p class="ne-p" id="d27854d4daff64ecdafeae2b5a9e17ca">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="0cfdf12109e7ad3dc5934f152a956b68">
   <span class="ne-text">
    &#32593;&#32476;
   </span>
  </li>
  <li id="2e633c224061ecbf9c5b2315bb4775fd">
   <span class="ne-text">
    &#30913;&#30424;
   </span>
  </li>
  <li id="087e1da6a2b780d14b8ff6ae18eaae93">
   <span class="ne-text">
    &#22797;&#26434;&#24230;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="e49464521f98ca1d85c644d30dea038c">
  <br>
 </p>
 <p class="ne-p" id="bfdc0b0c11780f4a864c041400b5d072">
  <span class="ne-text">
   &#23545;&#20110; Kafka &#36825;&#31181;&#32593;&#32476;&#20998;&#24067;&#24335;&#38431;&#21015;&#26469;&#35828;&#65292;&#32593;&#32476;&#21644;&#30913;&#30424;&#26356;&#26159;&#20248;&#21270;&#30340;&#37325;&#20013;&#20043;&#37325;&#12290;&#38024;&#23545;&#20110;&#19978;&#38754;&#25552;&#20986;&#30340;&#25277;&#35937;&#38382;&#39064;&#65292;&#35299;&#20915;&#26041;&#26696;&#39640;&#24230;&#25277;&#35937;&#20986;&#26469;&#20063;&#24456;&#31616;&#21333;&#65306;
  </span>
 </p>
 <p class="ne-p" id="b4fb9f05711a5660ff6707b51e98ed3c">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="dce2f3a2099036ac2e721c914ef6ac9b">
   <span class="ne-text">
    &#24182;&#21457;
   </span>
  </li>
  <li id="216e76103d4afbecf370829ae014b522">
   <span class="ne-text">
    &#21387;&#32553;
   </span>
  </li>
  <li id="7fe908bee10045830bcf9c18045e967f">
   <span class="ne-text">
    &#25209;&#37327;
   </span>
  </li>
  <li id="f4e5447b0b692c43d496250c09af7402">
   <span class="ne-text">
    &#32531;&#23384;
   </span>
  </li>
  <li id="e38901f0c3b0ae031508a6c4d14eb131">
   <span class="ne-text">
    &#31639;&#27861;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="11bf72a005ca5875e984dba71efe1a25">
  <br>
 </p>
 <p class="ne-p" id="e780ee5d969c484936ccf8633a6ed9a8">
  <span class="ne-text">
   &#30693;&#36947;&#20102;&#38382;&#39064;&#21644;&#24605;&#36335;&#65292;&#25105;&#20204;&#20877;&#26469;&#30475;&#30475;&#65292;&#22312; Kafka &#20013;&#65292;&#26377;&#21738;&#20123;&#35282;&#33394;&#65292;&#32780;&#36825;&#20123;&#35282;&#33394;&#23601;&#26159;&#21487;&#20197;&#20248;&#21270;&#30340;&#28857;&#65306;
  </span>
 </p>
 <p class="ne-p" id="f71bdfeb0d509042427e55219d7aee09">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="9d870e72c03d1686136f672cbe623191">
   <code class="ne-code">
    <span class="ne-text">
     Producer
    </span>
   </code>
  </li>
  <li id="78c5f5d783397d55ca4fafd4736580db">
   <code class="ne-code">
    <span class="ne-text">
     Broker
    </span>
   </code>
  </li>
  <li id="c93bed1534547f9560f6378df03b8388">
   <code class="ne-code">
    <span class="ne-text">
     Consumer
    </span>
   </code>
  </li>
 </ul>
 <p class="ne-p" id="d87df1a7a7b9b93f13b33ff2ac202229">
  <br>
 </p>
 <p class="ne-p" id="8ff15af0e4470752bd43d7d96536d775">
  <span class="ne-text">
   &#26159;&#30340;&#65292;&#25152;&#26377;&#30340;&#38382;&#39064;&#65292;&#24605;&#36335;&#65292;&#20248;&#21270;&#28857;&#37117;&#24050;&#32463;&#21015;&#20986;&#26469;&#20102;&#65292;&#25105;&#20204;&#21487;&#20197;&#23613;&#21487;&#33021;&#30340;&#32454;&#21270;&#65292;&#19977;&#20010;&#26041;&#21521;&#37117;&#21487;&#20197;&#32454;&#21270;&#65292;&#22914;&#27492;&#65292;&#25152;&#26377;&#30340;&#23454;&#29616;&#20415;&#19968;&#30446;&#20102;&#28982;&#65292;&#21363;&#20351;&#19981;&#30475; Kafka &#30340;&#23454;&#29616;&#65292;&#25105;&#20204;&#33258;&#24049;&#20063;&#21487;&#20197;&#24819;&#21040;&#19968;&#20108;&#28857;&#21487;&#20197;&#20248;&#21270;&#30340;&#22320;&#26041;&#12290;
  </span>
 </p>
 <p class="ne-p" id="8f18ab8afc10b82ccf599558b8ef565e">
  <br>
 </p>
 <p class="ne-p" id="f5292b34971185d18e3b75196309f698">
  <span class="ne-text">
   &#36825;&#23601;&#26159;&#24605;&#32771;&#26041;&#24335;&#12290;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#25552;&#20986;&#38382;&#39064;
   </span>
  </code>
  <span class="ne-text">
   &gt;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#21015;&#20986;&#38382;&#39064;&#28857;
   </span>
  </code>
  <span class="ne-text">
   &gt;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#21015;&#20986;&#20248;&#21270;&#26041;&#27861;
   </span>
  </code>
  <span class="ne-text">
   &gt;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#21015;&#20986;&#20855;&#20307;&#21487;&#20999;&#20837;&#30340;&#28857;
   </span>
  </code>
  <span class="ne-text">
   &gt;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    tradeoff&#21644;&#32454;&#21270;&#23454;&#29616;
   </span>
  </code>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="b25f38390dcd4beecc2429a7e4330515">
  <br>
 </p>
 <p class="ne-p" id="616f57a77fdd1d50a1dfee2da93751cd">
  <span class="ne-text">
   &#29616;&#22312;&#65292;&#20320;&#20063;&#21487;&#20197;&#23581;&#35797;&#33258;&#24049;&#24819;&#19968;&#24819;&#20248;&#21270;&#30340;&#28857;&#21644;&#26041;&#27861;&#65292;&#19981;&#29992;&#23613;&#21892;&#23613;&#32654;&#65292;&#19981;&#29992;&#31649;&#22909;&#19981;&#22909;&#23454;&#29616;&#65292;&#24819;&#19968;&#28857;&#26159;&#19968;&#28857;&#12290;
  </span>
 </p>
 <p class="ne-p" id="a79b2a5fbfda7cd4d23c28cb9164f6e5">
  <br>
 </p>
 <h2 id="e9f55573">
  <span class="ne-text">
   &#39034;&#24207;&#20889;
  </span>
 </h2>
 <p class="ne-p" id="4d3b7a98a3c93ad51a14a8325632f397">
  <br>
 </p>
 <p class="ne-p" id="e980fde615e3a48d0373075b908f93f6">
  <strong>
   <span class="ne-text">
    &#20026;&#20160;&#20040;&#35828;&#20889;&#30913;&#30424;&#24930;&#65311;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="58c401f6d3bb491a44d142556c247ca6">
  <br>
 </p>
 <p class="ne-p" id="0bf8d99d287da9060701b2b26e4bfab7">
  <span class="ne-text">
   &#25105;&#20204;&#19981;&#33021;&#21482;&#30693;&#36947;&#32467;&#35770;&#65292;&#32780;&#19981;&#30693;&#20854;&#25152;&#20197;&#28982;&#12290;&#35201;&#22238;&#31572;&#36825;&#20010;&#38382;&#39064;&#65292;&#23601;&#24471;&#22238;&#21040;&#22312;&#26657;&#26102;&#25105;&#20204;&#23398;&#30340;&#25805;&#20316;&#31995;&#32479;&#35838;&#31243;&#20102;&#12290;65 &#21733;&#36824;&#30041;&#30528;&#35838;&#26412;&#21527;&#65311;&#26469;&#65292;&#32763;&#21040;&#35762;&#30913;&#30424;&#30340;&#31456;&#33410;&#65292;&#35753;&#25105;&#20204;&#22238;&#39038;&#19968;&#19979;&#30913;&#30424;&#30340;&#36816;&#34892;&#21407;&#29702;&#12290;
  </span>
 </p>
 <p class="ne-p" id="896b45c9fab377261e01a9da2e29f6d9">
  <br>
 </p>
 <p class="ne-p" id="4012d6cfa2927371fbcf261d6e0794fa">
  <span class="ne-text">
   &#30475;&#32463;&#20856;&#22823;&#22270;&#65306;
  </span>
 </p>
 <p class="ne-p" id="9aeb12558b6368b489234a2e19ee7b7a">
  <br>
 </p>
 <p class="ne-p" id="5287d255e1d74d6308d1e48b3d2b77ab">
  <img class="ne-image" id="iEn9O" src="EPUB/imgiEn9O" width="580">
 </p>
 <p class="ne-p" id="151ee0da460860594400b7ec2ccba7e7">
  <br>
 </p>
 <p class="ne-p" id="e0b43c03a372a109f79ebc9f44298010">
  <span class="ne-text">
   &#23436;&#25104;&#19968;&#27425;&#30913;&#30424; IO&#65292;&#38656;&#35201;&#32463;&#36807;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#23547;&#36947;
   </span>
  </code>
  <span class="ne-text">
   &#12289;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#26059;&#36716;
   </span>
  </code>
  <span class="ne-text">
   &#21644;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#25968;&#25454;&#20256;&#36755;
   </span>
  </code>
  <span class="ne-text">
   &#19977;&#20010;&#27493;&#39588;&#12290;
  </span>
 </p>
 <p class="ne-p" id="1ae099a924ae9f7e208f13d290399a5c">
  <br>
 </p>
 <p class="ne-p" id="09b3999596e504c7d99ca8c949757fe7">
  <span class="ne-text">
   &#24433;&#21709;&#30913;&#30424; IO &#24615;&#33021;&#30340;&#22240;&#32032;&#20063;&#23601;&#21457;&#29983;&#22312;&#19978;&#38754;&#19977;&#20010;&#27493;&#39588;&#19978;&#65292;&#22240;&#27492;&#20027;&#35201;&#33457;&#36153;&#30340;&#26102;&#38388;&#23601;&#26159;&#65306;
  </span>
 </p>
 <p class="ne-p" id="e608f0988497db16b83e73052f67c597">
  <br>
 </p>
 <ol class="ne-ol">
  <li id="eb358ae56e829b46d732682ef084f76b">
   <span class="ne-text">
    &#23547;&#36947;&#26102;&#38388;&#65306;Tseek &#26159;&#25351;&#23558;&#35835;&#20889;&#30913;&#22836;&#31227;&#21160;&#33267;&#27491;&#30830;&#30340;&#30913;&#36947;&#19978;&#25152;&#38656;&#35201;&#30340;&#26102;&#38388;&#12290;&#23547;&#36947;&#26102;&#38388;&#36234;&#30701;&#65292;I/O &#25805;&#20316;&#36234;&#24555;&#65292;&#30446;&#21069;&#30913;&#30424;&#30340;&#24179;&#22343;&#23547;&#36947;&#26102;&#38388;&#19968;&#33324;&#22312; 3-15ms&#12290;
   </span>
  </li>
  <li id="8ecc0b837ff84f57b7253998dd5d2099">
   <span class="ne-text">
    &#26059;&#36716;&#24310;&#36831;&#65306;Trotation &#26159;&#25351;&#30424;&#29255;&#26059;&#36716;&#23558;&#35831;&#27714;&#25968;&#25454;&#25152;&#22312;&#30340;&#25159;&#21306;&#31227;&#21160;&#21040;&#35835;&#20889;&#30913;&#30424;&#19979;&#26041;&#25152;&#38656;&#35201;&#30340;&#26102;&#38388;&#12290;&#26059;&#36716;&#24310;&#36831;&#21462;&#20915;&#20110;&#30913;&#30424;&#36716;&#36895;&#65292;&#36890;&#24120;&#29992;&#30913;&#30424;&#26059;&#36716;&#19968;&#21608;&#25152;&#38656;&#26102;&#38388;&#30340; 1/2 &#34920;&#31034;&#12290;&#27604;&#22914;&#65306;7200rpm &#30340;&#30913;&#30424;&#24179;&#22343;&#26059;&#36716;&#24310;&#36831;&#22823;&#32422;&#20026; 60*1000/7200/2 = 4.17ms&#65292;&#32780;&#36716;&#36895;&#20026; 15000rpm &#30340;&#30913;&#30424;&#20854;&#24179;&#22343;&#26059;&#36716;&#24310;&#36831;&#20026; 2ms&#12290;
   </span>
  </li>
  <li id="00b5df90beb599e62fa38397536e6a2c">
   <span class="ne-text">
    &#25968;&#25454;&#20256;&#36755;&#26102;&#38388;&#65306;Ttransfer &#26159;&#25351;&#23436;&#25104;&#20256;&#36755;&#25152;&#35831;&#27714;&#30340;&#25968;&#25454;&#25152;&#38656;&#35201;&#30340;&#26102;&#38388;&#65292;&#23427;&#21462;&#20915;&#20110;&#25968;&#25454;&#20256;&#36755;&#29575;&#65292;&#20854;&#20540;&#31561;&#20110;&#25968;&#25454;&#22823;&#23567;&#38500;&#20197;&#25968;&#25454;&#20256;&#36755;&#29575;&#12290;&#30446;&#21069; IDE/ATA &#33021;&#36798;&#21040; 133MB/s&#65292;SATA II &#21487;&#36798;&#21040; 300MB/s &#30340;&#25509;&#21475;&#25968;&#25454;&#20256;&#36755;&#29575;&#65292;&#25968;&#25454;&#20256;&#36755;&#26102;&#38388;&#36890;&#24120;&#36828;&#23567;&#20110;&#21069;&#20004;&#37096;&#20998;&#28040;&#32791;&#26102;&#38388;&#12290;&#31616;&#21333;&#35745;&#31639;&#26102;&#21487;&#24573;&#30053;&#12290;
   </span>
  </li>
 </ol>
 <p class="ne-p" id="01e04e07d8078ce1fc9e02bd7b6f01cd">
  <br>
 </p>
 <p class="ne-p" id="d9506b4cedad1685b00fc1eab5520c27">
  <span class="ne-text">
   &#22240;&#27492;&#65292;&#22914;&#26524;&#22312;&#20889;&#30913;&#30424;&#30340;&#26102;&#20505;&#30465;&#21435;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#23547;&#36947;
   </span>
  </code>
  <span class="ne-text">
   &#12289;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#26059;&#36716;
   </span>
  </code>
  <span class="ne-text">
   &#21487;&#20197;&#26497;&#22823;&#22320;&#25552;&#39640;&#30913;&#30424;&#35835;&#20889;&#30340;&#24615;&#33021;&#12290;
  </span>
 </p>
 <p class="ne-p" id="ac991bb0f4755631a3dfe538923b9442">
  <br>
 </p>
 <p class="ne-p" id="433c29e20cd089ba49d36d7a4a00f76e">
  <span class="ne-text">
   Kafka &#37319;&#29992;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#39034;&#24207;&#20889;
   </span>
  </code>
  <span class="ne-text">
   &#25991;&#20214;&#30340;&#26041;&#24335;&#26469;&#25552;&#39640;&#30913;&#30424;&#20889;&#20837;&#24615;&#33021;&#12290;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#39034;&#24207;&#20889;
   </span>
  </code>
  <span class="ne-text">
   &#25991;&#20214;&#65292;&#22522;&#26412;&#20943;&#23569;&#20102;&#30913;&#30424;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#23547;&#36947;
   </span>
  </code>
  <span class="ne-text">
   &#21644;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#26059;&#36716;
   </span>
  </code>
  <span class="ne-text">
   &#30340;&#27425;&#25968;&#12290;&#30913;&#22836;&#20877;&#20063;&#19981;&#29992;&#22312;&#30913;&#36947;&#19978;&#20081;&#33310;&#20102;&#65292;&#32780;&#26159;&#19968;&#36335;&#21521;&#21069;&#39134;&#36895;&#21069;&#34892;&#12290;
  </span>
 </p>
 <p class="ne-p" id="4a9bb1c9f13e23cbfd5dcf2cefa8d618">
  <br>
 </p>
 <p class="ne-p" id="ef5178d8a9f77d1c49d56874f3a6740e">
  <span class="ne-text">
   Kafka &#20013;&#27599;&#20010;&#20998;&#21306;&#26159;&#19968;&#20010;&#26377;&#24207;&#30340;&#65292;&#19981;&#21487;&#21464;&#30340;&#28040;&#24687;&#24207;&#21015;&#65292;&#26032;&#30340;&#28040;&#24687;&#19981;&#26029;&#36861;&#21152;&#21040; Partition &#30340;&#26411;&#23614;&#65292;&#22312; Kafka &#20013; Partition &#21482;&#26159;&#19968;&#20010;&#36923;&#36753;&#27010;&#24565;&#65292;Kafka &#23558; Partition &#21010;&#20998;&#20026;&#22810;&#20010; Segment&#65292;&#27599;&#20010; Segment &#23545;&#24212;&#19968;&#20010;&#29289;&#29702;&#25991;&#20214;&#65292;Kafka &#23545; segment &#25991;&#20214;&#36861;&#21152;&#20889;&#65292;&#36825;&#23601;&#26159;&#39034;&#24207;&#20889;&#25991;&#20214;&#12290;
  </span>
 </p>
 <p class="ne-p" id="be65f0a3b5eb2593237516c7a723f52a">
  <br>
 </p>
 <p class="ne-p" id="ed524c47fecd4289d1b0bf1b1cb01803">
  <strong>
   <span class="ne-text">
    &#20026;&#20160;&#20040; Kafka &#21487;&#20197;&#20351;&#29992;&#36861;&#21152;&#20889;&#30340;&#26041;&#24335;&#21602;&#65311;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="28afe4d8f242d221feb489e49fc7f56c">
  <br>
 </p>
 <p class="ne-p" id="9c3670f8e51c0157b4cb4f86a275e403">
  <span class="ne-text">
   &#36825;&#21644; Kafka &#30340;&#24615;&#36136;&#26377;&#20851;&#65292;&#25105;&#20204;&#26469;&#30475;&#30475; Kafka &#21644; Redis&#65292;&#35828;&#30333;&#20102;&#65292;Kafka &#23601;&#26159;&#19968;&#20010;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Queue
   </span>
  </code>
  <span class="ne-text">
   &#65292;&#32780; Redis &#23601;&#26159;&#19968;&#20010;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    HashMap
   </span>
  </code>
  <span class="ne-text">
   &#12290;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Queue
   </span>
  </code>
  <span class="ne-text">
   &#21644;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Map
   </span>
  </code>
  <span class="ne-text">
   &#30340;&#21306;&#21035;&#26159;&#20160;&#20040;&#65311;
  </span>
 </p>
 <p class="ne-p" id="6d81ce866f89445a7061048465a46a10">
  <br>
 </p>
 <p class="ne-p" id="9e3169783c9bb0dfee10ceb7af0f6d7d">
  <code class="ne-code">
   <span class="ne-text">
    Queue
   </span>
  </code>
  <span class="ne-text">
   &#26159; FIFO &#30340;&#65292;&#25968;&#25454;&#26159;&#26377;&#24207;&#30340;&#65307;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    HashMap
   </span>
  </code>
  <span class="ne-text">
   &#25968;&#25454;&#26159;&#26080;&#24207;&#30340;&#65292;&#26159;&#38543;&#26426;&#35835;&#20889;&#30340;&#12290;Kafka &#30340;&#19981;&#21487;&#21464;&#24615;&#65292;&#26377;&#24207;&#24615;&#20351;&#24471; Kafka &#21487;&#20197;&#20351;&#29992;&#36861;&#21152;&#20889;&#30340;&#26041;&#24335;&#20889;&#25991;&#20214;&#12290;
  </span>
 </p>
 <p class="ne-p" id="c5ec6eadb6c629eda01c402c4839fbeb">
  <br>
 </p>
 <p class="ne-p" id="8c1eb91dadf894f76b13d4199739779c">
  <span class="ne-text">
   &#20854;&#23454;&#24456;&#22810;&#31526;&#21512;&#20197;&#19978;&#29305;&#24615;&#30340;&#25968;&#25454;&#31995;&#32479;&#65292;&#37117;&#21487;&#20197;&#37319;&#29992;&#36861;&#21152;&#20889;&#30340;&#26041;&#24335;&#26469;&#20248;&#21270;&#30913;&#30424;&#24615;&#33021;&#12290;&#20856;&#22411;&#30340;&#26377;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Redis
   </span>
  </code>
  <span class="ne-text">
   &#30340; AOF &#25991;&#20214;&#65292;&#21508;&#31181;&#25968;&#25454;&#24211;&#30340;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    WAL(Write ahead log)
   </span>
  </code>
  <span class="ne-text">
   &#26426;&#21046;&#31561;&#31561;&#12290;
  </span>
 </p>
 <p class="ne-p" id="30a7104fe433f41e28772e17d08c6bd6">
  <br>
 </p>
 <p class="ne-p" id="bdd6bcccb14e813492e71b2685992b40">
  <strong>
   <span class="ne-text">
    &#25152;&#20197;&#28165;&#26970;&#26126;&#30333;&#33258;&#36523;&#19994;&#21153;&#30340;&#29305;&#28857;&#65292;&#23601;&#21487;&#20197;&#38024;&#23545;&#24615;&#22320;&#20570;&#20986;&#20248;&#21270;&#12290;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="d9ee8b09e51995320779efe02390d4ea">
  <br>
 </p>
 <h2 id="36389149">
  <span class="ne-text">
   &#38646;&#25335;&#36125;
  </span>
 </h2>
 <p class="ne-p" id="09f3140eab63691851f548ae2a34328d">
  <br>
 </p>
 <p class="ne-p" id="c3b33619c3958f97eb0a2925ab052c7c">
  <strong>
   <span class="ne-text">
    &#20160;&#20040;&#26159;&#38646;&#25335;&#36125;&#65311;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="b17255a21a77dca0f7de7436fe42db3f">
  <br>
 </p>
 <p class="ne-p" id="ac2470bce392ecb362df5d2aba75b7f5">
  <span class="ne-text">
   &#32500;&#22522;&#30334;&#31185;&#26159;&#36825;&#26679;&#20171;&#32461;&#38646;&#25335;&#36125;&#30340;&#65306;
  </span>
 </p>
 <p class="ne-p" id="0f414e89316d2223e803c5c456859972">
  <br>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="5a2ac59f4c12043161abf5113641692f">
   <span class="ne-text">
    &#38646;&#22797;&#21046;&#65288;&#33521;&#35821;&#65306;Zero-copy&#65307;&#20063;&#35793;&#38646;&#25335;&#36125;&#65289;&#25216;&#26415;&#26159;&#25351;&#35745;&#31639;&#26426;&#25191;&#34892;&#25805;&#20316;&#26102;&#65292;CPU &#19981;&#38656;&#35201;&#20808;&#23558;&#25968;&#25454;&#20174;&#26576;&#22788;&#20869;&#23384;&#22797;&#21046;&#21040;&#21478;&#19968;&#20010;&#29305;&#23450;&#21306;&#22495;&#12290;&#36825;&#31181;&#25216;&#26415;&#36890;&#24120;&#29992;&#20110;&#36890;&#36807;&#32593;&#32476;&#20256;&#36755;&#25991;&#20214;&#26102;&#33410;&#30465; CPU &#21608;&#26399;&#21644;&#20869;&#23384;&#24102;&#23485;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="c045ec10957138aebc23d1ea3d3e1f82">
  <br>
 </p>
 <p class="ne-p" id="03246647bac8332c30e3566d928a152e">
  <span class="ne-text">
   &#22312; OS &#23618;&#38754;&#19978;&#30340;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Zero-copy
   </span>
  </code>
  <span class="ne-text">
   &#36890;&#24120;&#25351;&#36991;&#20813;&#22312;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#29992;&#25143;&#24577;(User-space)
   </span>
  </code>
  <span class="ne-text">
   &#19982;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#20869;&#26680;&#24577;(Kernel-space)
   </span>
  </code>
  <span class="ne-text">
   &#20043;&#38388;&#26469;&#22238;&#25335;&#36125;&#25968;&#25454;&#12290;
  </span>
 </p>
 <p class="ne-p" id="e4299aa2cb9cce4dec114c98ca41d679">
  <br>
 </p>
 <p class="ne-p" id="23bd066f0946db7f557a8826e3531ace">
  <span class="ne-text">
   &#25105;&#20204;&#20174; Kafka &#30340;&#22330;&#26223;&#26469;&#30475;&#65292;Kafka Consumer &#28040;&#36153;&#23384;&#20648;&#22312; Broker &#30913;&#30424;&#30340;&#25968;&#25454;&#65292;&#20174;&#35835;&#21462; Broker &#30913;&#30424;&#21040;&#32593;&#32476;&#20256;&#36755;&#32473; Consumer&#65292;&#26399;&#38388;&#28041;&#21450;&#21738;&#20123;&#31995;&#32479;&#20132;&#20114;&#12290;Kafka Consumer &#20174; Broker &#28040;&#36153;&#25968;&#25454;&#65292;Broker &#35835;&#21462; Log&#65292;&#23601;&#20351;&#29992;&#20102; sendfile&#12290;&#22914;&#26524;&#20351;&#29992;&#20256;&#32479;&#30340; IO &#27169;&#22411;&#65292;&#20266;&#20195;&#30721;&#36923;&#36753;&#23601;&#22914;&#19979;&#25152;&#31034;&#65306;
  </span>
 </p>
 <p class="ne-p" id="6794304d88e5dba64aa7c06b7a4ae3fd">
  <br>
 </p>
 <pre class="ne-codeblock language-plain" data-language="plain" id="bd4a0fe1">readFile(buffer)
send(buffer)</pre>
 <p class="ne-p" id="505f7eeb188d69a9a5117f5b25903d9f">
  <br>
 </p>
 <p class="ne-p" id="c1e2da4531465b00bf03a83c88759b57">
  <img class="ne-image" id="LGqoB" src="EPUB/imgLGqoB" width="420">
 </p>
 <p class="ne-p" id="1ea2017698e200cfbaf92609ed6eeeeb">
  <br>
 </p>
 <p class="ne-p" id="b32638c68011d35b5989b384beea8e2f">
  <span class="ne-text">
   &#22914;&#22270;&#65292;&#22914;&#26524;&#37319;&#29992;&#20256;&#32479;&#30340; IO &#27969;&#31243;&#65292;&#20808;&#35835;&#21462;&#32593;&#32476; IO&#65292;&#20877;&#20889;&#20837;&#30913;&#30424; IO&#65292;&#23454;&#38469;&#38656;&#35201;&#23558;&#25968;&#25454; Copy &#22235;&#27425;&#12290;
  </span>
 </p>
 <p class="ne-p" id="8ea964b1ba1fa5dc963443e4d00c9bae">
  <br>
 </p>
 <p class="ne-p" id="50634959e294cac9159834a5217f74e3">
  <img class="ne-image" id="eW20w" src="EPUB/imgeW20w" width="405">
 </p>
 <p class="ne-p" id="30ad3e3b140ff4a16acc35548937b129">
  <br>
 </p>
 <ol class="ne-ol">
  <li id="c541841670cf1652cbda4c9224677b39">
   <span class="ne-text">
    &#31532;&#19968;&#27425;&#65306;&#35835;&#21462;&#30913;&#30424;&#25991;&#20214;&#21040;&#25805;&#20316;&#31995;&#32479;&#20869;&#26680;&#32531;&#20914;&#21306;&#65307;
   </span>
  </li>
  <li id="8542365202192b320a450a0d4f5d1044">
   <span class="ne-text">
    &#31532;&#20108;&#27425;&#65306;&#23558;&#20869;&#26680;&#32531;&#20914;&#21306;&#30340;&#25968;&#25454;&#65292;copy &#21040;&#24212;&#29992;&#31243;&#24207;&#30340; buffer&#65307;
   </span>
  </li>
  <li id="37601e5deeb71c05dd8f7d3d6fe4fd09">
   <span class="ne-text">
    &#31532;&#19977;&#27493;&#65306;&#23558;&#24212;&#29992;&#31243;&#24207; buffer &#20013;&#30340;&#25968;&#25454;&#65292;copy &#21040; socket &#32593;&#32476;&#21457;&#36865;&#32531;&#20914;&#21306;&#65307;
   </span>
  </li>
  <li id="2d41c7a7790008d868a4773259bd7c24">
   <span class="ne-text">
    &#31532;&#22235;&#27425;&#65306;&#23558; socket buffer &#30340;&#25968;&#25454;&#65292;copy &#21040;&#32593;&#21345;&#65292;&#30001;&#32593;&#21345;&#36827;&#34892;&#32593;&#32476;&#20256;&#36755;&#12290;
   </span>
  </li>
 </ol>
 <p class="ne-p" id="886f326de76c0152cbda6e760eba676a">
  <br>
 </p>
 <p class="ne-p" id="c01103d8424dff9d346f4ab2c100c710">
  <strong>
   <span class="ne-text">
    &#21834;&#65292;&#25805;&#20316;&#31995;&#32479;&#36825;&#20040;&#20667;&#21527;&#65311;copy &#26469; copy &#21435;&#30340;&#12290;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="259e5cefb25487a15ec2a52cbfbae4f7">
  <br>
 </p>
 <p class="ne-p" id="516922889573b5d08e099b0b1f716c3c">
  <span class="ne-text">
   &#24182;&#19981;&#26159;&#25805;&#20316;&#31995;&#32479;&#20667;&#65292;&#25805;&#20316;&#31995;&#32479;&#30340;&#35774;&#35745;&#23601;&#26159;&#27599;&#20010;&#24212;&#29992;&#31243;&#24207;&#37117;&#26377;&#33258;&#24049;&#30340;&#29992;&#25143;&#20869;&#23384;&#65292;&#29992;&#25143;&#20869;&#23384;&#21644;&#20869;&#26680;&#20869;&#23384;&#38548;&#31163;&#65292;&#36825;&#26159;&#20026;&#20102;&#31243;&#24207;&#21644;&#31995;&#32479;&#23433;&#20840;&#32771;&#34385;&#65292;&#21542;&#21017;&#30340;&#35805;&#27599;&#20010;&#24212;&#29992;&#31243;&#24207;&#20869;&#23384;&#28385;&#22825;&#39134;&#65292;&#38543;&#24847;&#35835;&#20889;&#37027;&#36824;&#24471;&#20102;&#12290;
  </span>
 </p>
 <p class="ne-p" id="1210fc133601659dca4ab741ffc34350">
  <br>
 </p>
 <p class="ne-p" id="c92c601e91f1a8354dacff2e3a33e42b">
  <span class="ne-text">
   &#19981;&#36807;&#65292;&#36824;&#26377;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#38646;&#25335;&#36125;
   </span>
  </code>
  <span class="ne-text">
   &#25216;&#26415;&#65292;&#33521;&#25991;&#8212;&#8212;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Zero-Copy
   </span>
  </code>
  <span class="ne-text">
   &#12290;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#38646;&#25335;&#36125;
   </span>
  </code>
  <span class="ne-text">
   &#23601;&#26159;&#23613;&#37327;&#21435;&#20943;&#23569;&#19978;&#38754;&#25968;&#25454;&#30340;&#25335;&#36125;&#27425;&#25968;&#65292;&#20174;&#32780;&#20943;&#23569;&#25335;&#36125;&#30340; CPU &#24320;&#38144;&#65292;&#20943;&#23569;&#29992;&#25143;&#24577;&#20869;&#26680;&#24577;&#30340;&#19978;&#19979;&#25991;&#20999;&#25442;&#27425;&#25968;&#65292;&#20174;&#32780;&#20248;&#21270;&#25968;&#25454;&#20256;&#36755;&#30340;&#24615;&#33021;&#12290;
  </span>
 </p>
 <p class="ne-p" id="863bde34a43091569283e698824dd140">
  <br>
 </p>
 <p class="ne-p" id="6f9973b231e18e8900f92da483e59fd3">
  <span class="ne-text">
   &#24120;&#35265;&#30340;&#38646;&#25335;&#36125;&#24605;&#36335;&#20027;&#35201;&#26377;&#19977;&#31181;&#65306;
  </span>
 </p>
 <p class="ne-p" id="00d0d65f9751e178f6a19dbe4464b752">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="e365079b34a8a5e1a87d6f533e7d7bc9">
   <span class="ne-text">
    &#30452;&#25509; I/O&#65306;&#25968;&#25454;&#30452;&#25509;&#36328;&#36807;&#20869;&#26680;&#65292;&#22312;&#29992;&#25143;&#22320;&#22336;&#31354;&#38388;&#19982; I/O &#35774;&#22791;&#20043;&#38388;&#20256;&#36882;&#65292;&#20869;&#26680;&#21482;&#26159;&#36827;&#34892;&#24517;&#35201;&#30340;&#34394;&#25311;&#23384;&#20648;&#37197;&#32622;&#31561;&#36741;&#21161;&#24037;&#20316;&#65307;
   </span>
  </li>
  <li id="03accdd5d716b86866d5027960c59455">
   <span class="ne-text">
    &#36991;&#20813;&#20869;&#26680;&#21644;&#29992;&#25143;&#31354;&#38388;&#20043;&#38388;&#30340;&#25968;&#25454;&#25335;&#36125;&#65306;&#24403;&#24212;&#29992;&#31243;&#24207;&#19981;&#38656;&#35201;&#23545;&#25968;&#25454;&#36827;&#34892;&#35775;&#38382;&#26102;&#65292;&#21017;&#21487;&#20197;&#36991;&#20813;&#23558;&#25968;&#25454;&#20174;&#20869;&#26680;&#31354;&#38388;&#25335;&#36125;&#21040;&#29992;&#25143;&#31354;&#38388;&#65307;
   </span>
  </li>
  <li id="323714fc7efe6392644f846dc3f1514f">
   <span class="ne-text">
    &#20889;&#26102;&#22797;&#21046;&#65306;&#25968;&#25454;&#19981;&#38656;&#35201;&#25552;&#21069;&#25335;&#36125;&#65292;&#32780;&#26159;&#24403;&#38656;&#35201;&#20462;&#25913;&#30340;&#26102;&#20505;&#20877;&#36827;&#34892;&#37096;&#20998;&#25335;&#36125;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="09c1ee37bda3cb52af507d13afb204bb">
  <br>
 </p>
 <p class="ne-p" id="754f06a4501588206274ac7122d999bf">
  <span class="ne-text">
   Kafka &#20351;&#29992;&#21040;&#20102;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    mmap
   </span>
  </code>
  <span class="ne-text">
   &#21644;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    sendfile
   </span>
  </code>
  <span class="ne-text">
   &#30340;&#26041;&#24335;&#26469;&#23454;&#29616;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#38646;&#25335;&#36125;
   </span>
  </code>
  <span class="ne-text">
   &#12290;&#20998;&#21035;&#23545;&#24212; Java &#30340;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    MappedByteBuffer
   </span>
  </code>
  <span class="ne-text">
   &#21644;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    FileChannel.transferTo
   </span>
  </code>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="56edb35450facf037660dbffadd965c8">
  <br>
 </p>
 <p class="ne-p" id="71de1e6b58d80a8e6dc830f0275f3554">
  <span class="ne-text">
   &#20351;&#29992; Java NIO &#23454;&#29616;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#38646;&#25335;&#36125;
   </span>
  </code>
  <span class="ne-text">
   &#65292;&#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="9cd995649c839257aab69c298a6dfd26">
  <br>
 </p>
 <pre class="ne-codeblock language-java" data-language="java" id="0cee8086">FileChannel.transferTo()</pre>
 <p class="ne-p" id="2799adcc14fca87400507a7ce8a532d9">
  <br>
 </p>
 <p class="ne-p" id="0689f3e06af256fc576bab5b45a090f1">
  <img class="ne-image" id="BRnO9" src="EPUB/imgBRnO9" width="350">
 </p>
 <p class="ne-p" id="b9bf76f264a577ca6253de334381d86a">
  <br>
 </p>
 <p class="ne-p" id="aacd2cda188bb99693fa0d403f6caceb">
  <span class="ne-text">
   &#22312;&#27492;&#27169;&#22411;&#19979;&#65292;&#19978;&#19979;&#25991;&#20999;&#25442;&#30340;&#25968;&#37327;&#20943;&#23569;&#21040;&#19968;&#20010;&#12290;&#20855;&#20307;&#32780;&#35328;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    transferTo()
   </span>
  </code>
  <span class="ne-text">
   &#26041;&#27861;&#25351;&#31034;&#22359;&#35774;&#22791;&#36890;&#36807; DMA &#24341;&#25806;&#23558;&#25968;&#25454;&#35835;&#21462;&#21040;&#35835;&#21462;&#32531;&#20914;&#21306;&#20013;&#12290;&#28982;&#21518;&#65292;&#23558;&#35813;&#32531;&#20914;&#21306;&#22797;&#21046;&#21040;&#21478;&#19968;&#20010;&#20869;&#26680;&#32531;&#20914;&#21306;&#20197;&#26242;&#23384;&#21040;&#22871;&#25509;&#23383;&#12290;&#26368;&#21518;&#65292;&#22871;&#25509;&#23383;&#32531;&#20914;&#21306;&#36890;&#36807; DMA &#22797;&#21046;&#21040; NIC &#32531;&#20914;&#21306;&#12290;
  </span>
 </p>
 <p class="ne-p" id="b72f1db87a5417477dc3dd4cac6a03ba">
  <br>
 </p>
 <p class="ne-p" id="92ab86a629ae84f1a86471e24903d200">
  <img class="ne-image" id="oqVxL" src="EPUB/imgoqVxL" width="403">
 </p>
 <p class="ne-p" id="631d6c97f47501c480de15457d50a5b8">
  <br>
 </p>
 <p class="ne-p" id="cca4a03cbe2038ac4050b5870b12e335">
  <span class="ne-text">
   &#25105;&#20204;&#23558;&#21103;&#26412;&#25968;&#20174;&#22235;&#20943;&#23569;&#21040;&#19977;&#65292;&#24182;&#19988;&#36825;&#20123;&#21103;&#26412;&#20013;&#21482;&#26377;&#19968;&#20010;&#28041;&#21450; CPU&#12290;&#25105;&#20204;&#36824;&#23558;&#19978;&#19979;&#25991;&#20999;&#25442;&#30340;&#25968;&#37327;&#20174;&#22235;&#20010;&#20943;&#23569;&#21040;&#20102;&#20004;&#20010;&#12290;&#36825;&#26159;&#19968;&#20010;&#24456;&#22823;&#30340;&#25913;&#36827;&#65292;&#20294;&#26159;&#36824;&#27809;&#26377;&#26597;&#35810;&#38646;&#21103;&#26412;&#12290;&#24403;&#36816;&#34892; Linux &#20869;&#26680; 2.4 &#21450;&#26356;&#39640;&#29256;&#26412;&#20197;&#21450;&#25903;&#25345;&#25910;&#38598;&#25805;&#20316;&#30340;&#32593;&#32476;&#25509;&#21475;&#21345;&#26102;&#65292;&#21518;&#32773;&#21487;&#20197;&#20316;&#20026;&#36827;&#19968;&#27493;&#30340;&#20248;&#21270;&#26469;&#23454;&#29616;&#12290;&#22914;&#19979;&#25152;&#31034;&#12290;
  </span>
 </p>
 <p class="ne-p" id="7010cbff99edb4984811619bd6d1517e">
  <br>
 </p>
 <p class="ne-p" id="001fd76b63b13a81a51967f389a9773f">
  <img class="ne-image" id="gAjWN" src="EPUB/imggAjWN" width="350">
 </p>
 <p class="ne-p" id="828401f523a85cb2741245fdffd27812">
  <br>
 </p>
 <p class="ne-p" id="6aa77b560276dedac66f57a9893ac0f8">
  <span class="ne-text">
   &#26681;&#25454;&#21069;&#38754;&#30340;&#31034;&#20363;&#65292;&#35843;&#29992;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    transferTo()
   </span>
  </code>
  <span class="ne-text">
   &#26041;&#27861;&#20250;&#20351;&#35774;&#22791;&#36890;&#36807; DMA &#24341;&#25806;&#23558;&#25968;&#25454;&#35835;&#21462;&#21040;&#20869;&#26680;&#35835;&#21462;&#32531;&#20914;&#21306;&#20013;&#12290;&#20294;&#26159;&#65292;&#20351;&#29992;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    gather
   </span>
  </code>
  <span class="ne-text">
   &#25805;&#20316;&#26102;&#65292;&#35835;&#21462;&#32531;&#20914;&#21306;&#21644;&#22871;&#25509;&#23383;&#32531;&#20914;&#21306;&#20043;&#38388;&#27809;&#26377;&#22797;&#21046;&#12290;&#21462;&#32780;&#20195;&#20043;&#30340;&#26159;&#65292;&#32473; NIC &#19968;&#20010;&#25351;&#21521;&#35835;&#21462;&#32531;&#20914;&#21306;&#30340;&#25351;&#38024;&#20197;&#21450;&#20559;&#31227;&#37327;&#21644;&#38271;&#24230;&#65292;&#35813;&#20559;&#31227;&#37327;&#21644;&#38271;&#24230;&#30001; DMA &#28165;&#38500;&#12290;CPU &#32477;&#23545;&#19981;&#21442;&#19982;&#22797;&#21046;&#32531;&#20914;&#21306;&#12290;
  </span>
 </p>
 <p class="ne-p" id="46737017bcb7282262ff95ddd96e8c7b">
  <br>
 </p>
 <p class="ne-p" id="4b72884a04e05dea36a547916c9976ba">
  <span class="ne-text">
   &#20851;&#20110;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#38646;&#25335;&#36125;
   </span>
  </code>
  <span class="ne-text">
   &#35814;&#24773;&#65292;&#21487;&#20197;&#35814;&#35835;&#36825;&#31687;&#25991;&#31456;&#38646;&#25335;&#36125; (Zero-copy) &#27973;&#26512;&#21450;&#20854;&#24212;&#29992;&#12290;
  </span>
 </p>
 <p class="ne-p" id="d0a34a168626577058dec18b56de29af">
  <br>
 </p>
 <h2 id="PageCache">
  <span class="ne-text">
   PageCache
  </span>
 </h2>
 <p class="ne-p" id="27adbc0633147a4b76983f8ccdf05942">
  <br>
 </p>
 <p class="ne-p" id="9aa9fc64d2858733e92fec05702611ff">
  <img class="ne-image" id="V0aIf" src="EPUB/imgV0aIf" width="692">
 </p>
 <p class="ne-p" id="d0a5e677bdf8bbbd1f8be63f4a52ae2d">
  <br>
 </p>
 <p class="ne-p" id="95a46506baaf0df91f7457119d9a579e">
  <span class="ne-text">
   producer &#29983;&#20135;&#28040;&#24687;&#21040; Broker &#26102;&#65292;Broker &#20250;&#20351;&#29992; pwrite() &#31995;&#32479;&#35843;&#29992;&#12304;&#23545;&#24212;&#21040; Java NIO &#30340; FileChannel.write() API&#12305;&#25353;&#20559;&#31227;&#37327;&#20889;&#20837;&#25968;&#25454;&#65292;&#27492;&#26102;&#25968;&#25454;&#37117;&#20250;&#20808;&#20889;&#20837;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    page cache
   </span>
  </code>
  <span class="ne-text">
   &#12290;consumer &#28040;&#36153;&#28040;&#24687;&#26102;&#65292;Broker &#20351;&#29992; sendfile() &#31995;&#32479;&#35843;&#29992;&#12304;&#23545;&#24212; FileChannel.transferTo() API&#12305;&#65292;&#38646;&#25335;&#36125;&#22320;&#23558;&#25968;&#25454;&#20174; page cache &#20256;&#36755;&#21040; broker &#30340; Socket buffer&#65292;&#20877;&#36890;&#36807;&#32593;&#32476;&#20256;&#36755;&#12290;
  </span>
 </p>
 <p class="ne-p" id="00e13e83b3c8ce0ea26fe4995f451ec0">
  <br>
 </p>
 <p class="ne-p" id="7c759c5a652b0b479499adaa44ea2851">
  <span class="ne-text">
   leader &#19982; follower &#20043;&#38388;&#30340;&#21516;&#27493;&#65292;&#19982;&#19978;&#38754; consumer &#28040;&#36153;&#25968;&#25454;&#30340;&#36807;&#31243;&#26159;&#21516;&#29702;&#30340;&#12290;
  </span>
 </p>
 <p class="ne-p" id="80f9fc3b5ae025291cd4f14a44176972">
  <br>
 </p>
 <p class="ne-p" id="25b5ee00f5d1be113e34924b3673ad7e">
  <code class="ne-code">
   <span class="ne-text">
    page cache
   </span>
  </code>
  <span class="ne-text">
   &#20013;&#30340;&#25968;&#25454;&#20250;&#38543;&#30528;&#20869;&#26680;&#20013; flusher &#32447;&#31243;&#30340;&#35843;&#24230;&#20197;&#21450;&#23545; sync()/fsync() &#30340;&#35843;&#29992;&#20889;&#22238;&#21040;&#30913;&#30424;&#65292;&#23601;&#31639;&#36827;&#31243;&#23849;&#28291;&#65292;&#20063;&#19981;&#29992;&#25285;&#24515;&#25968;&#25454;&#20002;&#22833;&#12290;&#21478;&#22806;&#65292;&#22914;&#26524; consumer &#35201;&#28040;&#36153;&#30340;&#28040;&#24687;&#19981;&#22312;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    page cache
   </span>
  </code>
  <span class="ne-text">
   &#37324;&#65292;&#25165;&#20250;&#21435;&#30913;&#30424;&#35835;&#21462;&#65292;&#24182;&#19988;&#20250;&#39034;&#20415;&#39044;&#35835;&#20986;&#19968;&#20123;&#30456;&#37051;&#30340;&#22359;&#25918;&#20837; page cache&#65292;&#20197;&#26041;&#20415;&#19979;&#19968;&#27425;&#35835;&#21462;&#12290;
  </span>
 </p>
 <p class="ne-p" id="c4381d762fb3284c28990f42029581d6">
  <br>
 </p>
 <p class="ne-p" id="e834acf8448fb7bd707386f75ba38b83">
  <span class="ne-text">
   &#22240;&#27492;&#22914;&#26524; Kafka producer &#30340;&#29983;&#20135;&#36895;&#29575;&#19982; consumer &#30340;&#28040;&#36153;&#36895;&#29575;&#30456;&#24046;&#19981;&#22823;&#65292;&#37027;&#20040;&#23601;&#33021;&#20960;&#20046;&#21482;&#38752;&#23545; broker page cache &#30340;&#35835;&#20889;&#23436;&#25104;&#25972;&#20010;&#29983;&#20135; - &#28040;&#36153;&#36807;&#31243;&#65292;&#30913;&#30424;&#35775;&#38382;&#38750;&#24120;&#23569;&#12290;
  </span>
 </p>
 <p class="ne-p" id="673fe3174c29d330a21642895e490685">
  <br>
 </p>
 <h2 id="423eedba">
  <span class="ne-text">
   &#32593;&#32476;&#27169;&#22411;
  </span>
 </h2>
 <p class="ne-p" id="e37b006a52e166cc75cf2fc7a70773fe">
  <br>
 </p>
 <p class="ne-p" id="a08a3800fd59c9b1185c2cca4acacfb3">
  <span class="ne-text">
   &#26159;&#30340;&#65292;Netty &#26159; JVM &#39046;&#22495;&#19968;&#20010;&#20248;&#31168;&#30340;&#32593;&#32476;&#26694;&#26550;&#65292;&#25552;&#20379;&#20102;&#39640;&#24615;&#33021;&#30340;&#32593;&#32476;&#26381;&#21153;&#12290;&#22823;&#22810;&#25968; Java &#31243;&#24207;&#21592;&#25552;&#21040;&#32593;&#32476;&#26694;&#26550;&#65292;&#39318;&#20808;&#24819;&#21040;&#30340;&#23601;&#26159; Netty&#12290;Dubbo&#12289;Avro-RPC &#31561;&#31561;&#20248;&#31168;&#30340;&#26694;&#26550;&#37117;&#20351;&#29992; Netty &#20316;&#20026;&#24213;&#23618;&#30340;&#32593;&#32476;&#36890;&#20449;&#26694;&#26550;&#12290;
  </span>
 </p>
 <p class="ne-p" id="736b6f5c882fe010da9366476900d5b9">
  <br>
 </p>
 <p class="ne-p" id="65ff48bb3de7af41482797529edaa9ae">
  <span class="ne-text">
   Kafka &#33258;&#24049;&#23454;&#29616;&#20102;&#32593;&#32476;&#27169;&#22411;&#20570; RPC&#12290;&#24213;&#23618;&#22522;&#20110; Java NIO&#65292;&#37319;&#29992;&#21644; Netty &#19968;&#26679;&#30340; Reactor &#32447;&#31243;&#27169;&#22411;&#12290;
  </span>
 </p>
 <p class="ne-p" id="4e7c909076f3aa0a068f9450e5b554da">
  <br>
 </p>
 <p class="ne-p" id="576fc0b46079a7659e54def2a2f7fca6">
  <img class="ne-image" id="nxVl2" src="EPUB/imgnxVl2" width="875">
 </p>
 <p class="ne-p" id="4f551455bfa61d358f300cc1eedccbae">
  <br>
 </p>
 <p class="ne-p" id="5fead663cd4c461805390e0110fba73d">
  <span class="ne-text">
   Reacotr &#27169;&#22411;&#20027;&#35201;&#20998;&#20026;&#19977;&#20010;&#35282;&#33394;
  </span>
 </p>
 <p class="ne-p" id="aa05a8d64779ecffc48728acb86a2ebf">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="236e563a02c9dc9177fcb5d8f4ebe467">
   <span class="ne-text">
    Reactor&#65306;&#25226; IO &#20107;&#20214;&#20998;&#37197;&#32473;&#23545;&#24212;&#30340; handler &#22788;&#29702;
   </span>
  </li>
  <li id="0f83c86e1ae374094da7f7acd9d6e0f8">
   <span class="ne-text">
    Acceptor&#65306;&#22788;&#29702;&#23458;&#25143;&#31471;&#36830;&#25509;&#20107;&#20214;
   </span>
  </li>
  <li id="fa60a5de2cfb7993d77bacf207908943">
   <span class="ne-text">
    Handler&#65306;&#22788;&#29702;&#38750;&#38459;&#22622;&#30340;&#20219;&#21153;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="e4cac2ae890fb19d2ab835c71147afcf">
  <br>
 </p>
 <p class="ne-p" id="029269f0b199fda16c991583a9879200">
  <span class="ne-text">
   &#22312;&#20256;&#32479;&#38459;&#22622; IO &#27169;&#22411;&#20013;&#65292;&#27599;&#20010;&#36830;&#25509;&#37117;&#38656;&#35201;&#29420;&#31435;&#32447;&#31243;&#22788;&#29702;&#65292;&#24403;&#24182;&#21457;&#25968;&#22823;&#26102;&#65292;&#21019;&#24314;&#32447;&#31243;&#25968;&#22810;&#65292;&#21344;&#29992;&#36164;&#28304;&#65307;&#37319;&#29992;&#38459;&#22622; IO &#27169;&#22411;&#65292;&#36830;&#25509;&#24314;&#31435;&#21518;&#65292;&#33509;&#24403;&#21069;&#32447;&#31243;&#27809;&#26377;&#25968;&#25454;&#21487;&#35835;&#65292;&#32447;&#31243;&#20250;&#38459;&#22622;&#22312;&#35835;&#25805;&#20316;&#19978;&#65292;&#36896;&#25104;&#36164;&#28304;&#28010;&#36153;
  </span>
 </p>
 <p class="ne-p" id="39979f9c3df91384a9771699bd34bdcc">
  <br>
 </p>
 <p class="ne-p" id="74b65b1b03f6a1ac800bd976a5148952">
  <span class="ne-text">
   &#38024;&#23545;&#20256;&#32479;&#38459;&#22622; IO &#27169;&#22411;&#30340;&#20004;&#20010;&#38382;&#39064;&#65292;Reactor &#27169;&#22411;&#22522;&#20110;&#27744;&#21270;&#24605;&#24819;&#65292;&#36991;&#20813;&#20026;&#27599;&#20010;&#36830;&#25509;&#21019;&#24314;&#32447;&#31243;&#65292;&#36830;&#25509;&#23436;&#25104;&#21518;&#23558;&#19994;&#21153;&#22788;&#29702;&#20132;&#32473;&#32447;&#31243;&#27744;&#22788;&#29702;&#65307;&#22522;&#20110; IO &#22797;&#29992;&#27169;&#22411;&#65292;&#22810;&#20010;&#36830;&#25509;&#20849;&#29992;&#21516;&#19968;&#20010;&#38459;&#22622;&#23545;&#35937;&#65292;&#19981;&#29992;&#31561;&#24453;&#25152;&#26377;&#30340;&#36830;&#25509;&#12290;&#36941;&#21382;&#21040;&#26377;&#26032;&#25968;&#25454;&#21487;&#20197;&#22788;&#29702;&#26102;&#65292;&#25805;&#20316;&#31995;&#32479;&#20250;&#36890;&#30693;&#31243;&#24207;&#65292;&#32447;&#31243;&#36339;&#20986;&#38459;&#22622;&#29366;&#24577;&#65292;&#36827;&#34892;&#19994;&#21153;&#36923;&#36753;&#22788;&#29702;
  </span>
 </p>
 <p class="ne-p" id="05288fa2f7998d6d0ea01d7b03669262">
  <br>
 </p>
 <p class="ne-p" id="5e12f9fa25c5fc790e813d697f496911">
  <span class="ne-text">
   Kafka &#21363;&#22522;&#20110; Reactor &#27169;&#22411;&#23454;&#29616;&#20102;&#22810;&#36335;&#22797;&#29992;&#21644;&#22788;&#29702;&#32447;&#31243;&#27744;&#12290;&#20854;&#35774;&#35745;&#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="2567462c345b9bb142e29d2232557ac7">
  <br>
 </p>
 <p class="ne-p" id="de5d2034b6dd071fa6f12b1d84d75d7d">
  <img class="ne-image" id="hDjce" src="EPUB/imghDjce" width="856">
 </p>
 <p class="ne-p" id="2ef6a1d5c11122466c9870fb4cdc7971">
  <br>
 </p>
 <p class="ne-p" id="e0002bb98fb6be3d3c9b153b52ecbdfe">
  <span class="ne-text">
   &#20854;&#20013;&#21253;&#21547;&#20102;&#19968;&#20010;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Acceptor
   </span>
  </code>
  <span class="ne-text">
   &#32447;&#31243;&#65292;&#29992;&#20110;&#22788;&#29702;&#26032;&#30340;&#36830;&#25509;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Acceptor
   </span>
  </code>
  <span class="ne-text">
   &#26377; N &#20010;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Processor
   </span>
  </code>
  <span class="ne-text">
   &#32447;&#31243; select &#21644; read socket &#35831;&#27714;&#65292;N &#20010;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Handler
   </span>
  </code>
  <span class="ne-text">
   &#32447;&#31243;&#22788;&#29702;&#35831;&#27714;&#24182;&#21709;&#24212;&#65292;&#21363;&#22788;&#29702;&#19994;&#21153;&#36923;&#36753;&#12290;
  </span>
 </p>
 <p class="ne-p" id="d11b280b8a9b7dedb577f264d3a1d628">
  <br>
 </p>
 <p class="ne-p" id="2dce5dde6b72287e6282791cfce973ca">
  <span class="ne-text">
   I/O &#22810;&#36335;&#22797;&#29992;&#21487;&#20197;&#36890;&#36807;&#25226;&#22810;&#20010; I/O &#30340;&#38459;&#22622;&#22797;&#29992;&#21040;&#21516;&#19968;&#20010; select &#30340;&#38459;&#22622;&#19978;&#65292;&#20174;&#32780;&#20351;&#24471;&#31995;&#32479;&#22312;&#21333;&#32447;&#31243;&#30340;&#24773;&#20917;&#19979;&#21487;&#20197;&#21516;&#26102;&#22788;&#29702;&#22810;&#20010;&#23458;&#25143;&#31471;&#35831;&#27714;&#12290;&#23427;&#30340;&#26368;&#22823;&#20248;&#21183;&#26159;&#31995;&#32479;&#24320;&#38144;&#23567;&#65292;&#24182;&#19988;&#19981;&#38656;&#35201;&#21019;&#24314;&#26032;&#30340;&#36827;&#31243;&#25110;&#32773;&#32447;&#31243;&#65292;&#38477;&#20302;&#20102;&#31995;&#32479;&#30340;&#36164;&#28304;&#24320;&#38144;&#12290;
  </span>
 </p>
 <p class="ne-p" id="9ff8957d78f3508544335bea473bc5eb">
  <br>
 </p>
 <p class="ne-p" id="397d1b06839debd649c2f87fbd6cf5a3">
  <strong>
   <span class="ne-text">
    &#24635;&#32467;&#65306;
   </span>
  </strong>
  <span class="ne-text">
   Kafka Broker &#30340;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    KafkaServer
   </span>
  </code>
  <span class="ne-text">
   &#35774;&#35745;&#26159;&#19968;&#20010;&#20248;&#31168;&#30340;&#32593;&#32476;&#26550;&#26500;&#65292;&#26377;&#24819;&#20102;&#35299; Java &#32593;&#32476;&#32534;&#31243;&#65292;&#25110;&#38656;&#35201;&#20351;&#29992;&#21040;&#36825;&#26041;&#38754;&#25216;&#26415;&#30340;&#21516;&#23398;&#19981;&#22952;&#21435;&#35835;&#19968;&#35835;&#28304;&#30721;&#12290;&#21518;&#32493;&#12302;&#30721;&#21733;&#12303;&#30340; Kafka &#31995;&#21015;&#25991;&#31456;&#20063;&#23558;&#28041;&#21450;&#36825;&#22359;&#28304;&#30721;&#30340;&#35299;&#35835;&#12290;
  </span>
 </p>
 <p class="ne-p" id="e600bcab54662807e43bd5a3564c3181">
  <br>
 </p>
 <h2 id="4aac08b9">
  <span class="ne-text">
   &#25209;&#37327;&#20256;&#36755;&#19982;&#21387;&#32553;&#28040;&#24687;
  </span>
 </h2>
 <p class="ne-p" id="bbd5cb5d7946ae65fda16dae52fff929">
  <br>
 </p>
 <p class="ne-p" id="76ca95e2a1e85e2a86df8c2c696e59e4">
  <code class="ne-code">
   <span class="ne-text">
    Producer
   </span>
  </code>
  <span class="ne-text">
   &#21521;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Broker
   </span>
  </code>
  <span class="ne-text">
   &#21457;&#36865;&#28040;&#24687;&#19981;&#26159;&#19968;&#26465;&#28040;&#24687;&#19968;&#26465;&#28040;&#24687;&#30340;&#21457;&#36865;&#12290;&#20351;&#29992;&#36807;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Kafka
   </span>
  </code>
  <span class="ne-text">
   &#30340;&#21516;&#23398;&#24212;&#35813;&#30693;&#36947;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Producer
   </span>
  </code>
  <span class="ne-text">
   &#26377;&#20004;&#20010;&#37325;&#35201;&#30340;&#21442;&#25968;&#65306;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    batch.size
   </span>
  </code>
  <span class="ne-text">
   &#21644;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    linger.ms
   </span>
  </code>
  <span class="ne-text">
   &#12290;&#36825;&#20004;&#20010;&#21442;&#25968;&#23601;&#21644;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Producer
   </span>
  </code>
  <span class="ne-text">
   &#30340;&#25209;&#37327;&#21457;&#36865;&#28040;&#24687;&#26377;&#20851;&#12290;
  </span>
 </p>
 <p class="ne-p" id="1f5b0d3ae6c62a9ce04108ab2adf6efa">
  <br>
 </p>
 <p class="ne-p" id="3e7a51d2810b1df570e7976036ad96e0">
  <strong>
   <span class="ne-text">
    &#20026;&#20160;&#20040;&#35201;&#25209;&#37327;&#21457;&#36865;&#28040;&#24687;&#21602;&#65311;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="56fbb051054ae984e4d8e1b83e626516">
  <br>
 </p>
 <p class="ne-p" id="48e1c4e690201ff1d167e40502675af3">
  <span class="ne-text">
   &#22238;&#39038;&#19968;&#19979;&#65292;Kafka &#30340;&#20027;&#35201;&#22330;&#26223;&#23601;&#26159;&#39640;&#24182;&#21457;&#35835;&#21644;&#39640;&#21534;&#21520;&#20889;&#65292;&#20063;&#23601;&#35828; Kafka &#38656;&#35201;&#20889;&#20837;&#21644;&#35835;&#21462;&#22823;&#37327;&#30340;&#28040;&#24687;&#12290;&#37027;&#26377;&#27809;&#26377;&#19968;&#31181;&#21150;&#27861;&#21487;&#20197;&#35753;&#21457;&#36865;&#21644;&#35835;&#21462;&#28040;&#24687;&#20184;&#20986;&#30340;&#20195;&#20215;&#26356;&#23567;&#21602;&#65311;&#19968;&#20010;&#24456;&#31616;&#21333;&#30340;&#25163;&#27573;&#23601;&#26159;
  </span>
  <strong>
   <span class="ne-text">
    &#25209;&#37327;&#20256;&#36755;&#19982;&#21387;&#32553;&#28040;&#24687;
   </span>
  </strong>
  <span class="ne-text">
   &#12290;&#25209;&#37327;&#20027;&#35201;&#26159;&#20026;&#20102;&#35753;&#20256;&#36755;&#28040;&#24687;&#30340;&#27425;&#25968;&#21464;&#24471;&#26356;&#23569;&#65292;&#21387;&#32553;&#20027;&#35201;&#26159;&#20026;&#20102;&#38477;&#20302;&#32593;&#32476;&#20256;&#36755;&#30340;&#28040;&#32791;&#65292;&#25552;&#39640;&#21534;&#21520;&#37327;&#12290;
  </span>
 </p>
 <p class="ne-p" id="200609dd78dc68879a5a22c12d53f78c">
  <br>
 </p>
 <p class="ne-p" id="d143adcea5204c7e370f6cd30173223c">
  <span class="ne-text">
   &#22312; Kafka &#20013;&#65292;Kafka &#20250;&#23545;&#28040;&#24687;&#36827;&#34892;&#20998;&#32452;&#65292;&#21457;&#36865;&#28040;&#24687;&#20043;&#21069;&#65292;&#20250;&#20808;&#23558;&#28040;&#24687;&#32452;&#21512;&#22312;&#19968;&#36215;&#24418;&#25104;&#28040;&#24687;&#24555;&#65292;&#28982;&#21518;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Producer
   </span>
  </code>
  <span class="ne-text">
   &#20250;&#23558;&#28040;&#24687;&#24555;&#19968;&#36215;&#21457;&#36865;&#21040;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Broker
   </span>
  </code>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="dbccbbc4f8626b6202945d5c36a87600">
  <br>
 </p>
 <p class="ne-p" id="514454f4eda28ef5b3b2180a3f84a331">
  <span class="ne-text">
   &#21478;&#22806;&#65292;&#30001;&#20110;&#65292;&#32593;&#32476;&#24102;&#23485;&#26159;&#26377;&#38480;&#30340;&#65292;&#25105;&#20204;&#22312;&#32593;&#32476;&#20013;&#20256;&#36755;&#25968;&#25454;&#20043;&#21069;&#24448;&#24448;&#38656;&#35201;&#20808;&#23545;&#20854;&#36827;&#34892;&#21387;&#32553;&#65288;&#32593;&#19978;&#26377;&#24456;&#22810;&#29616;&#25104;&#30340;&#21387;&#32553;&#31639;&#27861;&#65292;&#25105;&#20204;&#30452;&#25509;&#25343;&#26469;&#23601;&#21487;&#20197;&#20102;&#65292;Kafka &#23601;&#26159;&#36825;&#26679;&#20570;&#30340;&#65289;&#12290;&#22240;&#27492;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Producer
   </span>
  </code>
  <span class="ne-text">
   &#21457;&#36865;&#28040;&#24687;&#24555;&#25105;&#20204;&#36824;&#21487;&#20197;&#23545;&#20854;&#36827;&#34892;&#21387;&#32553;&#12290;
  </span>
 </p>
 <p class="ne-p" id="637ca87cd9081ff29b49224b26d600d3">
  <br>
 </p>
 <p class="ne-p" id="ddf9b4ec4bcaad5f3eeb4f3dc05a5e30">
  <span class="ne-text">
   &#22312; Java &#31243;&#24207;&#21592;&#20013;&#65292;&#29983;&#25104;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    KafkaProducer
   </span>
  </code>
  <span class="ne-text">
   &#23545;&#35937;&#30340;&#20195;&#30721;&#21487;&#33021;&#20250;&#20687;&#19979;&#38754;&#36825;&#26679;&#65306;
  </span>
 </p>
 <p class="ne-p" id="81958d95e8bdab349bf7ca716fd15a65">
  <br>
 </p>
 <pre class="ne-codeblock language-java" data-language="java" id="aa623dac">Properties props = new Properties();
props.put("bootstrap.servers", "localhost:9092");
props.put("acks", "all");
props.put("retries", 0);
props.put("batch.size", 16384);
props.put("linger.ms", 1);
props.put("buffer.memory", 33554432);
props.put("key.serializer", "org.apache.kafka.common.serialization.StringSerializer");
props.put("value.serializer", "org.apache.kafka.common.serialization.StringSerializer");
// &#24320;&#21551;GZIP&#21387;&#32553;
props.put("compression.type", "gzip");
Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);</pre>
 <p class="ne-p" id="9331fc17ef76753a7614adbe1d4dd215">
  <br>
 </p>
 <p class="ne-p" id="0624b01a328f1f4a4e2526e1a3547f40">
  <code class="ne-code">
   <span class="ne-text">
    Broker
   </span>
  </code>
  <span class="ne-text">
   &#25509;&#25910;&#21040;&#21387;&#32553;&#21518;&#30340;&#28040;&#24687;&#22359;&#20043;&#21518;&#65288;&#24314;&#35758;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Broker
   </span>
  </code>
  <span class="ne-text">
   &#30340;&#21387;&#32553;&#31639;&#27861;&#21644;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Producer
   </span>
  </code>
  <span class="ne-text">
   &#19968;&#26679;&#65289;&#65292;&#20250;&#20381;&#27425;&#23558;&#21387;&#32553;&#21518;&#30340;&#28040;&#24687;&#22359;&#20889;&#20837;&#25991;&#20214;&#20013;&#65288;&#27880;&#24847;&#65306;&#36825;&#20010;&#26102;&#20505;&#28040;&#24687;&#22359;&#36824;&#26159;&#21387;&#32553;&#30340;&#29366;&#24577;&#65289;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Consumer
   </span>
  </code>
  <span class="ne-text">
   &#21516;&#26102;&#20250;&#20381;&#27425;&#33719;&#21462;&#28040;&#24687;&#22359;&#65292;&#24403;&#28040;&#24687;&#22359;&#21040;&#36798;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Consumer
   </span>
  </code>
  <span class="ne-text">
   &#21518;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Consumer
   </span>
  </code>
  <span class="ne-text">
   &#25165;&#20250;&#23545;&#28040;&#24687;&#22359;&#36827;&#34892;&#35299;&#21387;&#32553;&#65288;&#26377;&#21387;&#32553;&#24517;&#28982;&#26377;&#35299;&#21387;&#32553;&#65289;&#12290;
  </span>
 </p>
 <p class="ne-p" id="1a554e0b5477f8939cbbeb7e86243ee9">
  <br>
 </p>
 <p class="ne-p" id="4e2c566047555f84edab14064e44e4ca">
  <strong>
   <span class="ne-text">
    Kafka Producer &#30340;&#25191;&#34892;&#27969;&#31243;&#22914;&#19979;&#22270;&#25152;&#31034;
   </span>
  </strong>
  <span class="ne-text">
   &#65306;
  </span>
 </p>
 <p class="ne-p" id="3931b648102b722c6a4598426284a54e">
  <br>
 </p>
 <p class="ne-p" id="50f20f77180a441e7e8242db19d29638">
  <img class="ne-image" id="ilsko" src="EPUB/imgilsko" width="1080">
 </p>
 <p class="ne-p" id="e1e35510c7969c7ec59ee0b1c9e914a5">
  <br>
 </p>
 <p class="ne-p" id="f8f9ffed667c24c11a2ff71119ae5747">
  <span class="ne-text">
   &#21457;&#36865;&#28040;&#24687;&#20381;&#27425;&#32463;&#36807;&#20197;&#19979;&#22788;&#29702;&#22120;&#65306;
  </span>
 </p>
 <p class="ne-p" id="f7dd61317ec137e21f98d7eff3943c05">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="a1296e83ce1c28e99ffaec7821d7ef07">
   <code class="ne-code">
    <strong>
     <span class="ne-text">
      Serialize
     </span>
    </strong>
   </code>
   <span class="ne-text">
    &#65306;&#38190;&#21644;&#20540;&#37117;&#26681;&#25454;&#20256;&#36882;&#30340;&#24207;&#21015;&#21270;&#22120;&#36827;&#34892;&#24207;&#21015;&#21270;&#12290;&#20248;&#31168;&#30340;&#24207;&#21015;&#21270;&#26041;&#24335;&#21487;&#20197;&#25552;&#39640;&#32593;&#32476;&#20256;&#36755;&#30340;&#25928;&#29575;&#12290;
   </span>
  </li>
  <li id="e24423ef0bc50c8dc360878119598c8f">
   <code class="ne-code">
    <strong>
     <span class="ne-text">
      Partition
     </span>
    </strong>
   </code>
   <span class="ne-text">
    &#65306;&#20915;&#23450;&#23558;&#28040;&#24687;&#20889;&#20837;&#20027;&#39064;&#30340;&#21738;&#20010;&#20998;&#21306;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#36981;&#24490; murmur2 &#31639;&#27861;&#12290;&#33258;&#23450;&#20041;&#20998;&#21306;&#31243;&#24207;&#20063;&#21487;&#20197;&#20256;&#36882;&#32473;&#29983;&#20135;&#32773;&#65292;&#20197;&#25511;&#21046;&#24212;&#23558;&#28040;&#24687;&#20889;&#20837;&#21738;&#20010;&#20998;&#21306;&#12290;
   </span>
  </li>
  <li id="375ffdfb5424a10e31b2921ee72c84cb">
   <code class="ne-code">
    <strong>
     <span class="ne-text">
      Compress
     </span>
    </strong>
   </code>
   <span class="ne-text">
    &#65306;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#22312; Kafka &#29983;&#20135;&#32773;&#20013;&#19981;&#21551;&#29992;&#21387;&#32553;&#12290;&#21387;&#32553; &#19981;&#20165;&#21487;&#20197;&#26356;&#24555;&#22320;&#20174;&#29983;&#20135;&#32773;&#20256;&#36755;&#21040;&#20195;&#29702;&#65292;&#36824;&#21487;&#20197;&#22312;&#22797;&#21046;&#36807;&#31243;&#20013;&#36827;&#34892;&#26356;&#24555;&#30340;&#20256;&#36755;&#12290;&#21387;&#32553;&#26377;&#21161;&#20110;&#25552;&#39640;&#21534;&#21520;&#37327;&#65292;&#38477;&#20302;&#24310;&#36831;&#24182;&#25552;&#39640;&#30913;&#30424;&#21033;&#29992;&#29575;&#12290;
   </span>
  </li>
  <li id="f3cfb16e6393871727459296f0462a67">
   <code class="ne-code">
    <strong>
     <span class="ne-text">
      Accumulate
     </span>
    </strong>
   </code>
   <span class="ne-text">
    &#65306;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     Accumulate
    </span>
   </code>
   <span class="ne-text">
    &#39038;&#21517;&#24605;&#20041;&#65292;&#23601;&#26159;&#19968;&#20010;&#28040;&#24687;&#32047;&#35745;&#22120;&#12290;&#20854;&#20869;&#37096;&#20026;&#27599;&#20010; Partition &#32500;&#25252;&#19968;&#20010;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     Deque
    </span>
   </code>
   <span class="ne-text">
    &#21452;&#31471;&#38431;&#21015;&#65292;&#38431;&#21015;&#20445;&#23384;&#23558;&#35201;&#21457;&#36865;&#30340;&#25209;&#27425;&#25968;&#25454;&#65292;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     Accumulate
    </span>
   </code>
   <span class="ne-text">
    &#23558;&#25968;&#25454;&#32047;&#35745;&#21040;&#19968;&#23450;&#25968;&#37327;&#65292;&#25110;&#32773;&#22312;&#19968;&#23450;&#36807;&#26399;&#26102;&#38388;&#20869;&#65292;&#20415;&#23558;&#25968;&#25454;&#20197;&#25209;&#27425;&#30340;&#26041;&#24335;&#21457;&#36865;&#20986;&#21435;&#12290;&#35760;&#24405;&#34987;&#32047;&#31215;&#22312;&#20027;&#39064;&#27599;&#20010;&#20998;&#21306;&#30340;&#32531;&#20914;&#21306;&#20013;&#12290;&#26681;&#25454;&#29983;&#20135;&#32773;&#25209;&#27425;&#22823;&#23567;&#23646;&#24615;&#23558;&#35760;&#24405;&#20998;&#32452;&#12290;&#20027;&#39064;&#20013;&#30340;&#27599;&#20010;&#20998;&#21306;&#37117;&#26377;&#19968;&#20010;&#21333;&#29420;&#30340;&#32047;&#21152;&#22120; / &#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="e84c1f68021273b5e4f5052fa3e1ff14">
   <code class="ne-code">
    <strong>
     <span class="ne-text">
      Group Send
     </span>
    </strong>
   </code>
   <span class="ne-text">
    &#65306;&#35760;&#24405;&#32047;&#31215;&#22120;&#20013;&#20998;&#21306;&#30340;&#25209;&#27425;&#25353;&#23558;&#23427;&#20204;&#21457;&#36865;&#21040;&#30340;&#20195;&#29702;&#20998;&#32452;&#12290;&#25209;&#22788;&#29702;&#20013;&#30340;&#35760;&#24405;&#22522;&#20110;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     batch.size
    </span>
   </code>
   <span class="ne-text">
    &#21644;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     linger.ms
    </span>
   </code>
   <span class="ne-text">
    &#23646;&#24615;&#21457;&#36865;&#21040;&#20195;&#29702;&#12290;&#35760;&#24405;&#30001;&#29983;&#20135;&#32773;&#26681;&#25454;&#20004;&#20010;&#26465;&#20214;&#21457;&#36865;&#12290;&#24403;&#36798;&#21040;&#23450;&#20041;&#30340;&#25209;&#27425;&#22823;&#23567;&#25110;&#36798;&#21040;&#23450;&#20041;&#30340;&#24310;&#36831;&#26102;&#38388;&#26102;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="05c4875ffb710d9bb6ed719ea62e52ec">
  <br>
 </p>
 <p class="ne-p" id="31512d78d29f5699a9a951a522249517">
  <span class="ne-text">
   Kafka &#25903;&#25345;&#22810;&#31181;&#21387;&#32553;&#31639;&#27861;&#65306;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    LZ4
   </span>
  </code>
  <span class="ne-text">
   &#12289;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    Snappy
   </span>
  </code>
  <span class="ne-text">
   &#12289;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    GZIP
   </span>
  </code>
  <span class="ne-text">
   &#12290;Kafka 2.1.0 &#27491;&#24335;&#25903;&#25345;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    ZStandard
   </span>
  </code>
  <span class="ne-text">
   &#21387;&#32553;&#31639;&#27861;&#12290;
  </span>
  <a class="ne-link" data-href="https://github.com/facebook/zstd" href="https://github.com/facebook/zstd" target="_blank">
   <span class="ne-text">
    ZStandard
   </span>
  </a>
  <span class="ne-text">
   &#31616;&#31216; Zstd &#65292;Facebook &#24320;&#28304;&#65292;&#26159;&#19968;&#20010;&#20027;&#35201;&#30001; C &#35821;&#35328;&#23454;&#29616;&#30340;&#26088;&#22312;&#25552;&#20379;&#39640;&#21387;&#32553;&#27604;&#30340;&#24555;&#36895;&#21387;&#32553;&#31639;&#27861;&#12290;
  </span>
 </p>
 <p class="ne-p" id="f9a34b3d5ec183b1f7f40446a768cb78">
  <br>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="68c52e322e860b8c2ad1b1d455514f5c">
   <span class="ne-text">
    ZStandard &#30340;&#23448;&#26041;&#39318;&#39029;&#36824;&#25552;&#20379;&#20102;&#30456;&#20851;&#21387;&#32553;&#31639;&#27861;&#30340; Benchmark &#25968;&#25454;&#23545;&#27604;&#12290;&#20174;&#25968;&#25454;&#23545;&#27604;&#22270;&#20013;&#65292;&#21487;&#20197;&#30475;&#20986;ZStandard &#30340;&#21508;&#26041;&#38754;&#25968;&#25454;&#65288;&#35299;&#21387;&#32553;&#36895;&#24230;&#20197;&#21450;&#21387;&#32553;&#29575;&#65289;&#37117;&#26159;&#38750;&#24120;&#20248;&#31168;&#30340;&#12290;
   </span>
  </p>
  <p class="ne-p" id="c396c18fcad8a275b66ef45d921750bc">
   <img class="ne-image" id="PNGyJ" src="EPUB/imgPNGyJ" width="1250">
  </p>
  <p class="ne-p" id="9533c72160f1f632b9ecdec22005e640">
   <span class="ne-text">
    &#20855;&#20307;&#30340;&#21387;&#32553;&#31639;&#27861;&#21681;&#20204;&#23601;&#19981;&#32842;&#20102;&#65292;&#26377;&#28857;&#36305;&#39064;&#20102;&#12290;&#22914;&#26524;&#20320;&#23545;&#21387;&#32553;&#31639;&#27861;&#27604;&#36739;&#24863;&#20852;&#36259;&#25110;&#32773;&#24037;&#20316;&#20013;&#38656;&#35201;&#29992;&#21040;&#31867;&#20284;&#30693;&#35782;&#30340;&#35805;&#65292;&#21487;&#20197;&#30475;&#30475;&#32654;&#22242;&#25216;&#26415;&#22242;&#38431;&#30340;&#12298;
   </span>
   <a class="ne-link" data-href="https://tech.meituan.com/2021/01/07/pack-gzip-zstd-lz4.html" href="https://tech.meituan.com/2021/01/07/pack-gzip-zstd-lz4.html" target="_blank">
    <span class="ne-text">
     &#36895;&#24230;&#19982;&#21387;&#32553;&#27604;&#22914;&#20309;&#20860;&#24471;&#65311;&#21387;&#32553;&#31639;&#27861;&#22312;&#26500;&#24314;&#37096;&#32626;&#20013;&#30340;&#20248;&#21270;
    </span>
   </a>
   <span class="ne-text">
    &#12299; &#36825;&#31687;&#25991;&#31456;&#65292;&#20854;&#23545;&#24120;&#35265;&#30340;&#21387;&#32553;&#31639;&#27861;&#65288;&#27604;&#22914;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     GZIP
    </span>
   </code>
   <span class="ne-text">
    &#12289;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     LZ4
    </span>
   </code>
   <span class="ne-text">
    &#12289;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     ZStandard
    </span>
   </code>
   <span class="ne-text">
    &#12289;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     Pigz
    </span>
   </code>
   <span class="ne-text">
    &#65289;&#20570;&#20102;&#35814;&#32454;&#30340;&#23545;&#27604;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="e28843ef8762bd959fcf26e064bb9163">
  <br>
 </p>
 <p class="ne-p" id="7ba0467a005bedbdfbbdea28395b2e36">
  <span class="ne-text">
   Producer&#12289;Broker &#21644; Consumer &#20351;&#29992;&#30456;&#21516;&#30340;&#21387;&#32553;&#31639;&#27861;&#65292;&#22312; producer &#21521; Broker &#20889;&#20837;&#25968;&#25454;&#65292;Consumer &#21521; Broker &#35835;&#21462;&#25968;&#25454;&#26102;&#29978;&#33267;&#21487;&#20197;&#19981;&#29992;&#35299;&#21387;&#32553;&#65292;&#26368;&#32456;&#22312; Consumer Poll &#21040;&#28040;&#24687;&#26102;&#25165;&#35299;&#21387;&#65292;&#36825;&#26679;&#33410;&#30465;&#20102;&#22823;&#37327;&#30340;&#32593;&#32476;&#21644;&#30913;&#30424;&#24320;&#38144;&#12290;
  </span>
 </p>
 <p class="ne-p" id="29111d61980571bff9388539feacf95e">
  <br>
 </p>
 <h2 id="8274e685">
  <span class="ne-text">
   &#20998;&#21306;&#24182;&#21457;
  </span>
 </h2>
 <p class="ne-p" id="f9b9cf9b92be72fa80e0cfdcc19226eb">
  <br>
 </p>
 <p class="ne-p" id="bca257b21c3921085a6acc58fd8539d1">
  <span class="ne-text">
   Kafka &#30340; Topic &#21487;&#20197;&#20998;&#25104;&#22810;&#20010; Partition&#65292;&#27599;&#20010; Paritition &#31867;&#20284;&#20110;&#19968;&#20010;&#38431;&#21015;&#65292;&#20445;&#35777;&#25968;&#25454;&#26377;&#24207;&#12290;&#21516;&#19968;&#20010; Group &#19979;&#30340;&#19981;&#21516; Consumer &#24182;&#21457;&#28040;&#36153; Paritition&#65292;&#20998;&#21306;&#23454;&#38469;&#19978;&#26159;&#35843;&#20248; Kafka &#24182;&#34892;&#24230;&#30340;&#26368;&#23567;&#21333;&#20803;&#65292;&#22240;&#27492;&#65292;&#21487;&#20197;&#35828;&#65292;&#27599;&#22686;&#21152;&#19968;&#20010; Paritition &#23601;&#22686;&#21152;&#20102;&#19968;&#20010;&#28040;&#36153;&#24182;&#21457;&#12290;
  </span>
 </p>
 <p class="ne-p" id="a5846ba8fe8e5a791aedec9ed8072f23">
  <br>
 </p>
 <p class="ne-p" id="8940ff44f7388de173ea3503b8bef24f">
  <img class="ne-image" id="xH1GK" src="EPUB/imgxH1GK" width="800">
 </p>
 <p class="ne-p" id="91ed58e114511a35154bdf533e3d8215">
  <br>
 </p>
 <p class="ne-p" id="e40b1c29af43d32c5f69b3c19640a099">
  <span class="ne-text">
   Kafka &#20855;&#26377;&#20248;&#31168;&#30340;&#20998;&#21306;&#20998;&#37197;&#31639;&#27861;&#8212;&#8212;StickyAssignor&#65292;&#21487;&#20197;&#20445;&#35777;&#20998;&#21306;&#30340;&#20998;&#37197;&#23613;&#37327;&#22320;&#22343;&#34913;&#65292;&#19988;&#27599;&#19968;&#27425;&#37325;&#20998;&#37197;&#30340;&#32467;&#26524;&#23613;&#37327;&#19982;&#19978;&#19968;&#27425;&#20998;&#37197;&#32467;&#26524;&#20445;&#25345;&#19968;&#33268;&#12290;&#36825;&#26679;&#65292;&#25972;&#20010;&#38598;&#32676;&#30340;&#20998;&#21306;&#23613;&#37327;&#22320;&#22343;&#34913;&#65292;&#21508;&#20010; Broker &#21644; Consumer &#30340;&#22788;&#29702;&#19981;&#33267;&#20110;&#20986;&#29616;&#22826;&#22823;&#30340;&#20542;&#26012;&#12290;
  </span>
 </p>
 <p class="ne-p" id="28f0d954b90a80da4f9c613bfb691ac0">
  <br>
 </p>
 <p class="ne-p" id="17030f903dff0048fa6f73f4a78cd71e">
  <strong>
   <span class="ne-text">
    &#37027;&#26159;&#19981;&#26159;&#20998;&#21306;&#25968;&#36234;&#22810;&#36234;&#22909;&#21602;&#65311;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="5edce08b5cb4f3ee6a4896cb91f87354">
  <br>
 </p>
 <p class="ne-p" id="c393cb41cec592e41ac22967f4131674">
  <span class="ne-text">
   &#24403;&#28982;&#19981;&#26159;&#12290;
  </span>
 </p>
 <p class="ne-p" id="945df9e56c3798cbcf72e74292db3f78">
  <br>
 </p>
 <h4 id="6c21066d">
  <span class="ne-text">
   &#36234;&#22810;&#30340;&#20998;&#21306;&#38656;&#35201;&#25171;&#24320;&#26356;&#22810;&#30340;&#25991;&#20214;&#21477;&#26564;
  </span>
 </h4>
 <p class="ne-p" id="47efd64fbfae1ddec9a99d70c762d6af">
  <br>
 </p>
 <p class="ne-p" id="d0e2ee6b6464fcbcf5ca8b6113e9181b">
  <span class="ne-text">
   &#22312; kafka &#30340; broker &#20013;&#65292;&#27599;&#20010;&#20998;&#21306;&#37117;&#20250;&#23545;&#29031;&#30528;&#25991;&#20214;&#31995;&#32479;&#30340;&#19968;&#20010;&#30446;&#24405;&#12290;&#22312; kafka &#30340;&#25968;&#25454;&#26085;&#24535;&#25991;&#20214;&#30446;&#24405;&#20013;&#65292;&#27599;&#20010;&#26085;&#24535;&#25968;&#25454;&#27573;&#37117;&#20250;&#20998;&#37197;&#20004;&#20010;&#25991;&#20214;&#65292;&#19968;&#20010;&#32034;&#24341;&#25991;&#20214;&#21644;&#19968;&#20010;&#25968;&#25454;&#25991;&#20214;&#12290;&#22240;&#27492;&#65292;&#38543;&#30528; partition &#30340;&#22686;&#22810;&#65292;&#38656;&#35201;&#30340;&#25991;&#20214;&#21477;&#26564;&#25968;&#24613;&#21095;&#22686;&#21152;&#65292;&#24517;&#35201;&#26102;&#38656;&#35201;&#35843;&#25972;&#25805;&#20316;&#31995;&#32479;&#20801;&#35768;&#25171;&#24320;&#30340;&#25991;&#20214;&#21477;&#26564;&#25968;&#12290;
  </span>
 </p>
 <p class="ne-p" id="16f06e78c41597e5a86fd5c10737a3a2">
  <br>
 </p>
 <h4 id="d4d526d1">
  <span class="ne-text">
   &#23458;&#25143;&#31471; / &#26381;&#21153;&#22120;&#31471;&#38656;&#35201;&#20351;&#29992;&#30340;&#20869;&#23384;&#23601;&#36234;&#22810;
  </span>
 </h4>
 <p class="ne-p" id="518d5200101c348a595f7bd26c07f8ef">
  <br>
 </p>
 <p class="ne-p" id="d4724a618dba8d535cbc740dc3a9b64e">
  <span class="ne-text">
   &#23458;&#25143;&#31471; producer &#26377;&#20010;&#21442;&#25968; batch.size&#65292;&#40664;&#35748;&#26159; 16KB&#12290;&#23427;&#20250;&#20026;&#27599;&#20010;&#20998;&#21306;&#32531;&#23384;&#28040;&#24687;&#65292;&#19968;&#26086;&#28385;&#20102;&#23601;&#25171;&#21253;&#23558;&#28040;&#24687;&#25209;&#37327;&#21457;&#20986;&#12290;&#30475;&#19978;&#21435;&#36825;&#26159;&#20010;&#33021;&#22815;&#25552;&#21319;&#24615;&#33021;&#30340;&#35774;&#35745;&#12290;&#19981;&#36807;&#24456;&#26174;&#28982;&#65292;&#22240;&#20026;&#36825;&#20010;&#21442;&#25968;&#26159;&#20998;&#21306;&#32423;&#21035;&#30340;&#65292;&#22914;&#26524;&#20998;&#21306;&#25968;&#36234;&#22810;&#65292;&#36825;&#37096;&#20998;&#32531;&#23384;&#25152;&#38656;&#30340;&#20869;&#23384;&#21344;&#29992;&#20063;&#20250;&#26356;&#22810;&#12290;
  </span>
 </p>
 <p class="ne-p" id="91b4f3500ac0f9aae839c91e030bfcd2">
  <br>
 </p>
 <h4 id="afbffda6">
  <span class="ne-text">
   &#38477;&#20302;&#39640;&#21487;&#29992;&#24615;
  </span>
 </h4>
 <p class="ne-p" id="bafabe7b141212d119fc9feaa8b44722">
  <br>
 </p>
 <p class="ne-p" id="a03c2eb5f16a989fdcb7b1f941b1a3b5">
  <span class="ne-text">
   &#20998;&#21306;&#36234;&#22810;&#65292;&#27599;&#20010; Broker &#19978;&#20998;&#37197;&#30340;&#20998;&#21306;&#20063;&#23601;&#36234;&#22810;&#65292;&#24403;&#19968;&#20010;&#21457;&#29983; Broker &#23445;&#26426;&#65292;&#37027;&#20040;&#24674;&#22797;&#26102;&#38388;&#23558;&#24456;&#38271;&#12290;
  </span>
 </p>
 <p class="ne-p" id="f350ea71796bc367cf8fbd30eb35ab5a">
  <br>
 </p>
 <h2 id="68d96662">
  <span class="ne-text">
   &#25991;&#20214;&#32467;&#26500;
  </span>
 </h2>
 <p class="ne-p" id="6f0ee1356ff7a7fab6cdb7194302fa88">
  <br>
 </p>
 <p class="ne-p" id="ef2183417929d17787ac4c03a6190a20">
  <span class="ne-text">
   Kafka &#28040;&#24687;&#26159;&#20197; Topic &#20026;&#21333;&#20301;&#36827;&#34892;&#24402;&#31867;&#65292;&#21508;&#20010; Topic &#20043;&#38388;&#26159;&#24444;&#27492;&#29420;&#31435;&#30340;&#65292;&#20114;&#19981;&#24433;&#21709;&#12290;&#27599;&#20010; Topic &#21448;&#21487;&#20197;&#20998;&#20026;&#19968;&#20010;&#25110;&#22810;&#20010;&#20998;&#21306;&#12290;&#27599;&#20010;&#20998;&#21306;&#21508;&#33258;&#23384;&#22312;&#19968;&#20010;&#35760;&#24405;&#28040;&#24687;&#25968;&#25454;&#30340;&#26085;&#24535;&#25991;&#20214;&#12290;
  </span>
 </p>
 <p class="ne-p" id="5607f648516314ac361851e5b48e5394">
  <br>
 </p>
 <p class="ne-p" id="a4ecf63b4a461693010c376772f0f58b">
  <span class="ne-text">
   Kafka &#27599;&#20010;&#20998;&#21306;&#26085;&#24535;&#22312;&#29289;&#29702;&#19978;&#23454;&#38469;&#25353;&#22823;&#23567;&#34987;&#20998;&#25104;&#22810;&#20010; Segment&#12290;
  </span>
 </p>
 <p class="ne-p" id="caabc8989ae73704652bfee52e3ae88e">
  <br>
 </p>
 <p class="ne-p" id="1232749976b98b37ce0b2ee7d2551f59">
  <img class="ne-image" id="icAh1" src="EPUB/imgicAh1" width="800">
 </p>
 <p class="ne-p" id="c8a4e305a30a60fa28869051aa2aa974">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="d3bb00f7e9e7c31c7122acd05fb608ec">
   <span class="ne-text">
    segment file &#32452;&#25104;&#65306;&#30001; 2 &#22823;&#37096;&#20998;&#32452;&#25104;&#65292;&#20998;&#21035;&#20026; index file &#21644; data file&#65292;&#27492; 2 &#20010;&#25991;&#20214;&#19968;&#19968;&#23545;&#24212;&#65292;&#25104;&#23545;&#20986;&#29616;&#65292;&#21518;&#32512;&#8221;.index&#8221;&#21644;&#8220;.log&#8221;&#20998;&#21035;&#34920;&#31034;&#20026; segment &#32034;&#24341;&#25991;&#20214;&#12289;&#25968;&#25454;&#25991;&#20214;&#12290;
   </span>
  </li>
  <li id="4ef1b99450edcef25cd54b73cccd18e7">
   <span class="ne-text">
    segment &#25991;&#20214;&#21629;&#21517;&#35268;&#21017;&#65306;partion &#20840;&#23616;&#30340;&#31532;&#19968;&#20010; segment &#20174; 0 &#24320;&#22987;&#65292;&#21518;&#32493;&#27599;&#20010; segment &#25991;&#20214;&#21517;&#20026;&#19978;&#19968;&#20010; segment &#25991;&#20214;&#26368;&#21518;&#19968;&#26465;&#28040;&#24687;&#30340; offset &#20540;&#12290;&#25968;&#20540;&#26368;&#22823;&#20026; 64 &#20301; long &#22823;&#23567;&#65292;19 &#20301;&#25968;&#23383;&#23383;&#31526;&#38271;&#24230;&#65292;&#27809;&#26377;&#25968;&#23383;&#29992; 0 &#22635;&#20805;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="b90723b64361fa1e6ee73eb0f13987f0">
  <br>
 </p>
 <p class="ne-p" id="7c7ece86b2a88d46ab41115a6b6e62fd">
  <span class="ne-text">
   index &#37319;&#29992;&#31232;&#30095;&#32034;&#24341;&#65292;&#36825;&#26679;&#27599;&#20010; index &#25991;&#20214;&#22823;&#23567;&#26377;&#38480;&#65292;Kafka &#37319;&#29992;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    mmap
   </span>
  </code>
  <span class="ne-text">
   &#30340;&#26041;&#24335;&#65292;&#30452;&#25509;&#23558; index &#25991;&#20214;&#26144;&#23556;&#21040;&#20869;&#23384;&#65292;&#36825;&#26679;&#23545; index &#30340;&#25805;&#20316;&#23601;&#19981;&#38656;&#35201;&#25805;&#20316;&#30913;&#30424; IO&#12290;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    mmap
   </span>
  </code>
  <span class="ne-text">
   &#30340; Java &#23454;&#29616;&#23545;&#24212;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    MappedByteBuffer
   </span>
  </code>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="7e1b496dd498c6f431118ec2c70cda8b">
  <br>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="8316cb4a45044af5f0782dce9ca8514d">
   <span class="ne-text">
    mmap &#26159;&#19968;&#31181;&#20869;&#23384;&#26144;&#23556;&#25991;&#20214;&#30340;&#26041;&#27861;&#12290;&#21363;&#23558;&#19968;&#20010;&#25991;&#20214;&#25110;&#32773;&#20854;&#23427;&#23545;&#35937;&#26144;&#23556;&#21040;&#36827;&#31243;&#30340;&#22320;&#22336;&#31354;&#38388;&#65292;&#23454;&#29616;&#25991;&#20214;&#30913;&#30424;&#22320;&#22336;&#21644;&#36827;&#31243;&#34394;&#25311;&#22320;&#22336;&#31354;&#38388;&#20013;&#19968;&#27573;&#34394;&#25311;&#22320;&#22336;&#30340;&#19968;&#19968;&#23545;&#26144;&#20851;&#31995;&#12290;&#23454;&#29616;&#36825;&#26679;&#30340;&#26144;&#23556;&#20851;&#31995;&#21518;&#65292;&#36827;&#31243;&#23601;&#21487;&#20197;&#37319;&#29992;&#25351;&#38024;&#30340;&#26041;&#24335;&#35835;&#20889;&#25805;&#20316;&#36825;&#19968;&#27573;&#20869;&#23384;&#65292;&#32780;&#31995;&#32479;&#20250;&#33258;&#21160;&#22238;&#20889;&#33039;&#39029;&#38754;&#21040;&#23545;&#24212;&#30340;&#25991;&#20214;&#30913;&#30424;&#19978;&#65292;&#21363;&#23436;&#25104;&#20102;&#23545;&#25991;&#20214;&#30340;&#25805;&#20316;&#32780;&#19981;&#24517;&#20877;&#35843;&#29992; read,write &#31561;&#31995;&#32479;&#35843;&#29992;&#20989;&#25968;&#12290;&#30456;&#21453;&#65292;&#20869;&#26680;&#31354;&#38388;&#23545;&#36825;&#27573;&#21306;&#22495;&#30340;&#20462;&#25913;&#20063;&#30452;&#25509;&#21453;&#26144;&#29992;&#25143;&#31354;&#38388;&#65292;&#20174;&#32780;&#21487;&#20197;&#23454;&#29616;&#19981;&#21516;&#36827;&#31243;&#38388;&#30340;&#25991;&#20214;&#20849;&#20139;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="2fe7cd59026948cc77988b31d8c58cbf">
  <br>
 </p>
 <p class="ne-p" id="8c3a4bcadd5763192681f0cc2d453164">
  <span class="ne-text">
   Kafka &#20805;&#20998;&#21033;&#29992;&#20108;&#20998;&#27861;&#26469;&#26597;&#25214;&#23545;&#24212; offset &#30340;&#28040;&#24687;&#20301;&#32622;&#65306;
  </span>
 </p>
 <p class="ne-p" id="f55188443e4cbc44d8af1402da6ff100">
  <br>
 </p>
 <p class="ne-p" id="f524c353548c5c3db22287c7423c8d61">
  <img class="ne-image" id="vD4b4" src="EPUB/imgvD4b4" width="1024">
 </p>
 <p class="ne-p" id="2c42d217eaddbd825a11dc9fabb46496">
  <br>
 </p>
 <ol class="ne-ol">
  <li id="80f2bd5b32a9aa7e83167da57a9b32ad">
   <span class="ne-text">
    &#25353;&#29031;&#20108;&#20998;&#27861;&#25214;&#21040;&#23567;&#20110; offset &#30340; segment &#30340;.log &#21644;.index
   </span>
  </li>
  <li id="cd02d5a404e992e2c87a4dd22eb7afaa">
   <span class="ne-text">
    &#29992;&#30446;&#26631; offset &#20943;&#21435;&#25991;&#20214;&#21517;&#20013;&#30340; offset &#24471;&#21040;&#28040;&#24687;&#22312;&#36825;&#20010; segment &#20013;&#30340;&#20559;&#31227;&#37327;&#12290;
   </span>
  </li>
  <li id="bd35da5eaaf9ca784eb5b14e78169b8d">
   <span class="ne-text">
    &#20877;&#27425;&#29992;&#20108;&#20998;&#27861;&#22312; index &#25991;&#20214;&#20013;&#25214;&#21040;&#23545;&#24212;&#30340;&#32034;&#24341;&#12290;
   </span>
  </li>
  <li id="9a7a6fc204cd0da426f3ac9f8ca6e0df">
   <span class="ne-text">
    &#21040; log &#25991;&#20214;&#20013;&#65292;&#39034;&#24207;&#26597;&#25214;&#65292;&#30452;&#21040;&#25214;&#21040; offset &#23545;&#24212;&#30340;&#28040;&#24687;&#12290;
   </span>
  </li>
 </ol>
 <p class="ne-p" id="aae060b8aff2262107d919d2e7629655">
  <br>
 </p>
 <h2 id="25f9c7fa">
  <span class="ne-text">
   &#24635;&#32467;
  </span>
 </h2>
 <p class="ne-p" id="d0d21662c5e23d26505013bcb76477d8">
  <br>
 </p>
 <p class="ne-p" id="a9182bf4e4e65f4cdeae7ed6fd684101">
  <span class="ne-text">
   Kafka &#26159;&#19968;&#20010;&#20248;&#31168;&#30340;&#24320;&#28304;&#39033;&#30446;&#12290;&#20854;&#22312;&#24615;&#33021;&#19978;&#38754;&#30340;&#20248;&#21270;&#20570;&#30340;&#28107;&#28435;&#23613;&#33268;&#65292;&#26159;&#24456;&#20540;&#24471;&#25105;&#20204;&#28145;&#20837;&#23398;&#20064;&#30340;&#19968;&#20010;&#39033;&#30446;&#12290;&#26080;&#35770;&#26159;&#24605;&#24819;&#36824;&#26159;&#23454;&#29616;&#65292;&#25105;&#20204;&#37117;&#24212;&#35813;&#35748;&#30495;&#30340;&#21435;&#30475;&#19968;&#30475;&#65292;&#24819;&#19968;&#24819;&#12290;
  </span>
 </p>
 <p class="ne-p" id="c5ae3158fff3dbd6ad1c5ceff935b71f">
  <br>
 </p>
 <p class="ne-p" id="031710cda63636d270418d975c19d34a">
  <strong>
   <span class="ne-text">
    Kafka &#24615;&#33021;&#20248;&#21270;&#65306;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="ebd51408189fc1066f88d0e53567ee01">
  <br>
 </p>
 <ol class="ne-ol">
  <li id="9b754c260538819d9dfe1ea6d743cdb9">
   <span class="ne-text">
    &#38646;&#25335;&#36125;&#32593;&#32476;&#21644;&#30913;&#30424;
   </span>
  </li>
  <li id="f94d74812bc12a35113acb6524302f73">
   <span class="ne-text">
    &#20248;&#31168;&#30340;&#32593;&#32476;&#27169;&#22411;&#65292;&#22522;&#20110; Java NIO
   </span>
  </li>
  <li id="14522494830629557f456e6dbf7381bb">
   <span class="ne-text">
    &#39640;&#25928;&#30340;&#25991;&#20214;&#25968;&#25454;&#32467;&#26500;&#35774;&#35745;
   </span>
  </li>
  <li id="4f734d2e6e4a994c1bb4c0339603db33">
   <span class="ne-text">
    Parition &#24182;&#34892;&#21644;&#21487;&#25193;&#23637;
   </span>
  </li>
  <li id="0c2678cb1b505c9b25475d6d192cdc78">
   <span class="ne-text">
    &#25968;&#25454;&#25209;&#37327;&#20256;&#36755;
   </span>
  </li>
  <li id="a9e4aa4868af7ee8cca9358b8cee69ba">
   <span class="ne-text">
    &#25968;&#25454;&#21387;&#32553;
   </span>
  </li>
  <li id="0e0353ff4d5b5b5c58ba756298be1848">
   <span class="ne-text">
    &#39034;&#24207;&#35835;&#20889;&#30913;&#30424;
   </span>
  </li>
  <li id="b948c23e25c8f405a811516a0f046fdf">
   <span class="ne-text">
    &#26080;&#38145;&#36731;&#37327;&#32423; offset
   </span>
  </li>
 </ol>
 <p class="ne-p" id="744d3ad6e1a95b87629cb71774731f2d">
  <br>
 </p>
 <h2 id="d17a0f0b">
  <span class="ne-text">
   &#21442;&#32771;
  </span>
 </h2>
 <p class="ne-p" id="e62bee09f30ee2615ca6733427d32ed6">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="42db2a2058e0fefcd286c1927d3de74e">
   <span class="ne-text">
    &#12298;Kafka: The Definitive Guide&#12299;
   </span>
  </li>
 </ul>
</div>
</div>
</div>

        </body>
        
        