
        <html lang="en">
        <head>
        <meta charset="UTF-8"/>
        </head>
        <body>
        <div><div class="markdown-body">
    

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="style/style.css" type="text/css">

<div class="markdown-body">
    <div class="article-con">
 <!-- &#20080;&#36807;&#30340;&#38405;&#35835; -->
 <div class="art-title" style="margin-top: 0px;">
  13 &#38382;&#39064;&#30340;&#26681;&#28304;&#8212;Java&#20869;&#23384;&#27169;&#22411;&#31616;&#20171;
 </div>
 <div class="art-info clearfix">
  <span class="l">
   &#26356;&#26032;&#26102;&#38388;&#65306;2019-10-10 10:27:14
  </span>
 </div>
 <div class="art-top">
  <img alt="" src="EPUB/bc7043ac-186d-11ed-a978-acde48001122">
  <div class="famous-word-box">
   <img alt="" class="bg1 bg" src="EPUB/bc8b3eb4-186d-11ed-a978-acde48001122">
   <img alt="" class="bg2 bg" src="EPUB/bcd42f16-186d-11ed-a978-acde48001122">
   <div class="famous-word">
    &#19990;&#30028;&#19978;&#26368;&#23485;&#38420;&#30340;&#26159;&#28023;&#27915;&#65292;&#27604;&#28023;&#27915;&#26356;&#23485;&#38420;&#30340;&#26159;&#22825;&#31354;&#65292;&#27604;&#22825;&#31354;&#26356;&#23485;&#38420;&#30340;&#26159;&#20154;&#30340;&#33016;&#24576;&#12290;
    <p class="author">
     &#8212;&#8212;&#38632;&#26524;
    </p>
   </div>
  </div>
 </div>
 <div class="art-content js-lookimg">
  <div id="article_content">
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     JAVA&#20869;&#23384;&#27169;&#22411;&#21363;JMM&#65288;Java Memory Model&#65289;&#65292;&#26377;&#20123;&#20154;&#20250;&#21644;Java&#20869;&#23384;&#32467;&#26500;&#28151;&#28102;&#12290;&#34429;&#28982;&#20004;&#32773;&#21517;&#23383;&#24456;&#25509;&#36817;&#65292;&#20294;&#25551;&#36848;&#30340;&#20026;&#19981;&#21516;&#20869;&#23481;&#12290;Java&#20869;&#23384;&#32467;&#26500;&#25551;&#36848;&#30340;&#26159;JVM&#23545;&#20869;&#23384;&#30340;&#36923;&#36753;&#21010;&#20998;&#65292;&#25105;&#20204;&#22312;&#23398;&#20064;&#22403;&#22334;&#22238;&#25910;&#21644;JVM&#20248;&#21270;&#30340;&#26102;&#20505;&#20250;&#20851;&#24515;JVM&#20869;&#23384;&#32467;&#26500;&#12290;&#32780;&#26412;&#33410;&#25152;&#35762;&#30340;JMM&#65292;&#23454;&#38469;&#19978;&#26159;&#19968;&#31181;&#35268;&#33539;&#12290;&#23427;&#25551;&#36848;&#20102;Java&#31243;&#24207;&#30340;&#36816;&#34892;&#34892;&#20026;&#65292;&#21253;&#25324;&#22810;&#32447;&#31243;&#25805;&#20316;&#23545;&#20849;&#20139;&#20869;&#23384;&#35835;&#21462;&#26102;&#65292;&#25152;&#33021;&#35835;&#21462;&#21040;&#30340;&#20540;&#24212;&#35813;&#36981;&#23432;&#30340;&#35268;&#21017;&#12290;
    </p>
   </div>
   <div class="cl-preview-section">
    <h2 id="jmm&#30340;&#24517;&#35201;&#24615;" style="font-size: 30px;">
     1. JMM&#30340;&#24517;&#35201;&#24615;
    </h2>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     &#38543;&#30528;CPU&#30340;&#19981;&#26029;&#21457;&#23637;&#65292;CPU&#30340;&#24615;&#33021;&#36234;&#26469;&#36234;&#24378;&#22823;&#65292;&#20294;&#21463;&#36843;&#20110;&#39057;&#29575;&#25552;&#21319;&#30340;&#22256;&#38590;&#65292;&#29616;&#20195;CPU&#26550;&#26500;&#24320;&#22987;&#21521;&#22810;&#26680;&#21457;&#23637;&#12290;&#32780;&#20316;&#20026;&#36719;&#20214;&#24320;&#21457;&#20154;&#21592;&#20026;&#20102;&#20805;&#20998;&#20351;&#29992;CPU&#30340;&#24615;&#33021;&#65292;&#36234;&#26469;&#36234;&#22810;&#30340;&#24320;&#21457;&#32773;&#20250;&#36873;&#25321;&#22810;&#32447;&#31243;&#31243;&#24207;&#24320;&#21457;&#12290;CPU&#22312;&#35745;&#31639;&#26102;&#20250;&#20570;&#19968;&#20123;&#20248;&#21270;&#65292;&#36825;&#20123;&#20248;&#21270;&#23545;&#20110;&#21333;&#32447;&#31243;&#31243;&#24207;&#26469;&#35828;&#26159;&#27809;&#26377;&#38382;&#39064;&#30340;&#65292;&#20294;&#23545;&#22810;&#32447;&#31243;&#31243;&#24207;&#21017;&#19981;&#26159;&#37027;&#20040;&#30340;&#21451;&#22909;&#12290;
    </p>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     &#35745;&#31639;&#26426;&#22312;&#36816;&#34892;&#26102;&#65292;&#32477;&#22823;&#22810;&#25968;&#26102;&#38388;&#37117;&#20250;&#25226;&#23545;&#35937;&#20449;&#24687;&#20445;&#23384;&#22312;&#20869;&#23384;&#20013;&#12290;&#20294;&#26159;&#22312;&#27492;&#26399;&#38388;&#65292;&#32534;&#35793;&#22120;&#12289;&#22788;&#29702;&#22120;&#25110;&#32773;&#32531;&#23384;&#37117;&#21487;&#33021;&#20250;&#25226;&#21464;&#37327;&#20174;&#20998;&#37197;&#30340;&#20869;&#23384;&#20013;&#21462;&#20986;&#22788;&#29702;&#20877;&#25918;&#22238;&#12290;&#27604;&#22914;&#25105;&#20204;&#22312;while&#24490;&#29615;&#20013;&#21028;&#26029;flag&#26159;&#21542;&#20026;true&#26469;&#25191;&#34892;&#19968;&#27573;&#29305;&#23450;&#30340;&#36923;&#36753;&#65292;&#37027;&#20040;&#32534;&#35793;&#22120;&#20026;&#20102;&#20248;&#21270;&#21487;&#33021;&#20250;&#36873;&#25321;&#25226;flag&#20540;&#21462;&#21040;&#32531;&#23384;&#20013;&#12290;&#27492;&#26102;&#20027;&#23384;&#20013;&#30340;flag&#20540;&#21487;&#33021;&#20250;&#34987;&#20854;&#23427;&#32447;&#31243;&#25152;&#25913;&#21464;&#65292;&#20294;&#26159;&#27492;&#32447;&#31243;&#26159;&#26080;&#27861;&#24863;&#30693;&#30340;&#12290;&#30452;&#21040;&#26576;&#20010;&#29305;&#23450;&#30340;&#26102;&#26426;&#35302;&#21457;&#27492;&#32447;&#31243;&#20174;&#20027;&#23384;&#20013;&#21047;&#26032;flag&#20540;&#12290;&#25152;&#26377;&#36825;&#20123;&#20248;&#21270;&#37117;&#26159;&#20026;&#20102;&#31243;&#24207;&#26377;&#26356;&#22909;&#30340;&#24615;&#33021;&#12290;&#22312;&#21333;&#32447;&#31243;&#30340;&#31243;&#24207;&#20013;&#65292;&#36825;&#31181;&#20248;&#21270;&#23545;&#20110;&#29992;&#25143;&#26469;&#35762;&#26159;&#27627;&#26080;&#24863;&#30693;&#30340;&#65292;&#19981;&#36807;&#22810;&#32447;&#31243;&#30340;&#31243;&#24207;&#20013;&#65292;&#36825;&#31181;&#20248;&#21270;&#26377;&#20123;&#26102;&#20505;&#20250;&#36896;&#25104;&#38590;&#20197;&#39044;&#26009;&#30340;&#32467;&#26524;&#12290;
    </p>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     JMM&#20801;&#35768;&#32534;&#35793;&#22120;&#21644;&#32531;&#23384;&#20445;&#25345;&#23545;&#25968;&#25454;&#25805;&#20316;&#39034;&#24207;&#20248;&#21270;&#30340;&#33258;&#30001;&#24230;&#12290;&#38500;&#38750;&#31243;&#24207;&#20351;&#29992;Synchronized&#25110;&#32773;volatile&#26174;&#24335;&#30340;&#21578;&#35785;&#22788;&#29702;&#22120;&#38656;&#35201;&#30830;&#20445;&#21487;&#35265;&#24615;&#12290;&#36825;&#24847;&#21619;&#30528;&#22914;&#26524;&#20320;&#27809;&#26377;&#36827;&#34892;&#21516;&#27493;&#65292;&#37027;&#20040;&#22810;&#32447;&#31243;&#31243;&#24207;&#23545;&#20110;&#25968;&#25454;&#30340;&#25805;&#20316;&#65292;&#23558;&#20250;&#21576;&#29616;&#19981;&#21516;&#30340;&#39034;&#24207;&#12290;&#20063;&#23601;&#26159;&#21069;&#38754;&#19968;&#33410;&#35762;&#30340;&#26377;&#24207;&#24615;&#65292;&#25105;&#20204;&#22522;&#20110;&#20195;&#30721;&#39034;&#24207;&#23545;&#25968;&#25454;&#36171;&#20540;&#39034;&#24207;&#30340;&#25512;&#35770;&#65292;&#22312;&#22810;&#32447;&#31243;&#31243;&#24207;&#20013;&#21487;&#33021;&#20250;&#19981;&#25104;&#31435;&#12290;
    </p>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     &#22312;JMM&#20043;&#21069;&#65292;C&#21644;C++&#24182;&#27809;&#26377;&#26174;&#24335;&#30340;&#20869;&#23384;&#27169;&#22411;&#12290;C&#35821;&#35328;&#30340;&#20869;&#23384;&#27169;&#22411;&#32487;&#25215;&#33258;&#25191;&#34892;&#31243;&#24207;&#30340;&#22788;&#29702;&#22120;&#12290;&#36825;&#24847;&#21619;&#30528;&#24182;&#21457;&#30340;C&#35821;&#35328;&#31243;&#24207;&#65292;&#22312;&#19981;&#21516;&#30340;&#22788;&#29702;&#22120;&#26426;&#26500;&#19978;&#21487;&#33021;&#20250;&#21576;&#29616;&#19981;&#19968;&#26679;&#30340;&#32467;&#26524;&#12290;&#20294;JMM&#20351;&#24471;Java&#31243;&#24207;&#33021;&#22815;&#22312;&#20219;&#20309;JVM&#19978;&#34920;&#29616;&#20986;&#19968;&#26679;&#30340;&#34892;&#20026;&#12290;&#24403;&#28982;&#65292;&#29616;&#22312;C&#21644;C++&#20063;&#26377;&#20102;&#20869;&#23384;&#27169;&#22411;&#12290;
     <br>
     <img alt="&#22270;&#29255;&#25551;&#36848;" class="" data-original="//img.mukewang.com/5d9167b0000103c707700460.jpg" src="EPUB/bcf2b42c-186d-11ed-a978-acde48001122">
    </p>
   </div>
   <div class="cl-preview-section">
    <h2 id="jmm&#31616;&#20171;" style="font-size: 30px;">
     2. JMM&#31616;&#20171;
    </h2>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     JMM&#20026;&#31243;&#24207;&#20013;&#30340;&#25152;&#26377;&#25805;&#20316;&#23450;&#20041;&#20102;&#19968;&#23450;&#30340;&#35268;&#21017;&#65292;&#21483;&#20570;Happens-Before&#12290;&#26080;&#35770;&#20004;&#20010;&#25805;&#20316;&#26159;&#21542;&#22312;&#21516;&#19968;&#20010;&#32447;&#31243;&#65292;&#22914;&#26524;&#35201;&#24819;&#20445;&#35777;&#25805;&#20316;A&#33021;&#30475;&#21040;&#25805;&#20316;B&#30340;&#32467;&#26524;&#65292;&#37027;&#20040;A&#12289;B&#20043;&#38388;&#19968;&#23450;&#35201;&#28385;&#36275;Happens-Before&#20851;&#31995;&#12290;&#22914;&#26524;&#20004;&#32773;&#38388;&#19981;&#28385;&#36275;Hapen-Before&#20851;&#31995;&#65292;JVM&#21487;&#20197;&#23545;&#20854;&#20219;&#24847;&#37325;&#25490;&#24207;&#12290;
    </p>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     &#24403;&#22810;&#20010;&#32447;&#31243;&#21516;&#26102;&#35835;&#20889;&#21516;&#19968;&#20010;&#21464;&#37327;&#65292;&#20294;&#36825;&#20123;&#25805;&#20316;&#38388;&#21448;&#27809;&#26377;&#28385;&#36275;Happens-Before&#20851;&#31995;&#65292;&#37027;&#20040;&#36825;&#20123;&#32447;&#31243;&#23545;&#27492;&#21464;&#37327;&#23384;&#22312;&#25968;&#25454;&#31454;&#20105;&#65292;&#25972;&#20010;&#31243;&#24207;&#23558;&#20250;&#38519;&#20837;&#28151;&#20081;&#20043;&#20013;&#12290;&#20551;&#22914;&#25105;&#20204;&#22312;&#25805;&#20316;&#20849;&#20139;&#21464;&#37327;&#26102;&#37319;&#29992;&#20102;&#21516;&#27493;&#65292;&#37027;&#20040;&#26080;&#35770;&#26377;&#22810;&#23569;&#32447;&#31243;&#65292;&#23545;&#27492;&#21464;&#37327;&#30340;&#25805;&#20316;&#37117;&#20250;&#21576;&#29616;&#20986;&#20018;&#34892;&#19968;&#33268;&#24615;&#12290;&#20174;&#32780;&#20351;&#24471;&#22810;&#32447;&#31243;&#30340;&#25805;&#20316;&#39034;&#24207;&#36981;&#23432;JMM&#32422;&#23450;&#12290;
    </p>
   </div>
   <div class="cl-preview-section">
    <h2 id="happens-before&#35268;&#21017;" style="font-size: 30px;">
     3. Happens-Before&#35268;&#21017;
    </h2>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     Happens-Before&#22312;&#22810;&#32447;&#31243;&#39046;&#22495;&#20855;&#26377;&#37325;&#22823;&#24847;&#20041;&#65292;&#23427;&#21487;&#20197;&#25351;&#23548;&#20320;&#22914;&#20309;&#24320;&#21457;&#22810;&#32447;&#31243;&#30340;&#31243;&#24207;&#65292;&#32780;&#19981;&#33267;&#20110;&#38519;&#20837;&#28151;&#20081;&#20043;&#20013;&#12290;&#20320;&#25152;&#24320;&#21457;&#30340;&#22810;&#32447;&#31243;&#31243;&#24207;&#65292;&#22914;&#26524;&#24819;&#23545;&#20849;&#20139;&#21464;&#37327;&#30340;&#25805;&#20316;&#31526;&#21512;&#20320;&#35774;&#24819;&#30340;&#39034;&#24207;&#65292;&#37027;&#20040;&#38656;&#35201;&#20381;&#29031;Happens-Before&#21407;&#21017;&#26469;&#24320;&#21457;&#12290;happens-before&#24182;&#19981;&#26159;&#25351;&#25805;&#20316;A&#20808;&#20110;&#25805;&#20316;B&#21457;&#29983;&#65292;&#32780;&#26159;&#25351;&#25805;&#20316;A&#30340;&#32467;&#26524;&#22312;&#20160;&#20040;&#24773;&#20917;&#19979;&#21487;&#20197;&#34987;&#21518;&#38754;&#25805;&#20316;B&#25152;&#33719;&#21462;&#12290;&#19979;&#38754;&#25105;&#20204;&#23601;&#26469;&#30475;&#19968;&#19979;Happens-before&#21407;&#21017;&#12290;
    </p>
   </div>
   <div class="cl-preview-section">
    <ol>
     <li style="font-size: 20px; line-height: 38px;">
      &#31243;&#24207;&#39034;&#24207;&#35268;&#21017;&#12290;&#22914;&#26524;&#31243;&#24207;&#20013;A&#25805;&#20316;&#22312;B&#25805;&#20316;&#20043;&#21069;&#65292;&#37027;&#20040;&#32447;&#31243;&#20013;A&#25805;&#20316;&#23558;&#22312;B&#25805;&#20316;&#21069;&#25191;&#34892;&#12290;
     </li>
     <li style="font-size: 20px; line-height: 38px;">
      &#19978;&#38145;&#21407;&#21017;&#12290;&#19981;&#21516;&#32447;&#31243;&#23545;&#21516;&#19968;&#20010;&#38145;&#30340;lock&#25805;&#20316;&#19968;&#23450;&#22312;unclock&#21069;&#12290;
     </li>
     <li style="font-size: 20px; line-height: 38px;">
      volatile&#21464;&#37327;&#21407;&#21017;&#12290;&#23545;&#20110;volatile&#21464;&#37327;&#30340;&#20889;&#25805;&#20316;&#20250;&#26089;&#20110;&#23545;&#20854;&#30340;&#35835;&#25805;&#20316;&#12290;
     </li>
     <li style="font-size: 20px; line-height: 38px;">
      &#32447;&#31243;&#21551;&#21160;&#21407;&#21017;&#12290;A&#32447;&#31243;&#20013;&#35843;&#29992;threadB.start()&#26041;&#27861;&#65292;&#37027;&#20040;threadB.start()&#26041;&#27861;&#20250;&#26089;&#20110;B&#32447;&#31243;&#20013;&#20013;&#30340;&#20219;&#20309;&#21160;&#20316;&#25191;&#34892;&#12290;
     </li>
     <li style="font-size: 20px; line-height: 38px;">
      &#20256;&#36882;&#35268;&#21017;&#12290;&#22914;&#26524;A&#26089;&#20110;B&#25191;&#34892;&#65292;B&#26089;&#20110;C&#25191;&#34892;&#65292;&#37027;&#20040;A&#19968;&#23450;&#26089;&#20110;C&#25191;&#34892;&#12290;
     </li>
     <li style="font-size: 20px; line-height: 38px;">
      &#32447;&#31243;&#20013;&#26029;&#35268;&#21017;&#65306;&#32447;&#31243;interrupt()&#26041;&#27861;&#30340;&#19968;&#23450;&#26089;&#20110;&#26816;&#27979;&#21040;&#32447;&#31243;&#30340;&#20013;&#26029;&#20449;&#21495;&#12290;
     </li>
     <li style="font-size: 20px; line-height: 38px;">
      &#32447;&#31243;&#32456;&#32467;&#35268;&#21017;&#65306;&#22914;&#26524;&#32447;&#31243;A&#32456;&#32467;&#20102;&#65292;&#24182;&#19988;&#23548;&#33268;&#21478;&#22806;&#19968;&#20010;&#32447;&#31243;B&#20013;&#30340;ThreadA.join()&#26041;&#27861;&#21462;&#24471;&#36820;&#22238;&#65292;&#37027;&#20040;&#32447;&#31243;A&#20013;&#25152;&#26377;&#30340;&#25805;&#20316;&#37117;&#26089;&#20110;&#32447;&#31243;B&#22312;ThreadA.join()&#20043;&#21518;&#30340;&#21160;&#20316;&#21457;&#29983;&#12290;
     </li>
     <li style="font-size: 20px; line-height: 38px;">
      &#23545;&#35937;&#32456;&#32467;&#35268;&#21017;&#65306;&#19968;&#20010;&#23545;&#35937;&#21021;&#22987;&#21270;&#25805;&#20316;&#32943;&#23450;&#20808;&#20110;&#23427;&#30340;finalize()&#26041;&#27861;&#12290;
     </li>
    </ol>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     &#25105;&#20204;&#21482;&#26377;&#20805;&#20998;&#29702;&#35299;&#20102;happens-before&#21407;&#21017;&#65292;&#25165;&#33021;&#22312;&#32534;&#20889;&#22810;&#32447;&#31243;&#31243;&#24207;&#30340;&#26102;&#20505;&#65292;&#23613;&#37327;&#36991;&#20813;&#25968;&#25454;&#30340;&#19981;&#19968;&#33268;&#24615;&#65292;&#35753;&#22810;&#32447;&#31243;&#31243;&#24207;&#22312;&#24517;&#35201;&#30340;&#26102;&#20505;&#25353;&#29031;&#25105;&#20204;&#35774;&#35745;&#30340;&#27425;&#24207;&#25191;&#34892;&#12290;
    </p>
   </div>
   <div class="cl-preview-section">
    <h2 id="&#24635;&#32467;" style="font-size: 30px;">
     4. &#24635;&#32467;
    </h2>
   </div>
   <div class="cl-preview-section">
    <p style="font-size: 20px; line-height: 38px;">
     JMM&#26159;&#31243;&#24207;&#25191;&#34892;&#39034;&#24207;&#30340;&#25351;&#23548;&#21407;&#21017;&#65292;&#36890;&#36807;JMM&#30340;&#32422;&#26463;&#65292;&#25105;&#20204;&#33021;&#22815;&#35774;&#35745;&#20986;&#31526;&#21512;&#25105;&#20204;&#35201;&#27714;&#30340;&#22810;&#32447;&#31243;&#31243;&#24207;&#12290;&#20854;&#23454;&#19981;&#27490;&#22810;&#32447;&#31243;&#65292;&#21333;&#32447;&#31243;&#31243;&#24207;&#19968;&#26679;&#21463;&#21040;JMM&#30340;&#32422;&#26463;&#12290;
    </p>
   </div>
   }
  </div>
 </div>
 <!-- &#20080;&#36807;&#30340;&#38405;&#35835; -->
 <div class="art-next-prev clearfix">
  <!-- &#24050;&#20080;&#19988;&#24320;&#25918; &#25110;&#32773;&#21487;&#20197;&#35797;&#35835; -->
  <a href="/read/49/article/947">
   <div class="prev l clearfix">
    <div class="icon l">
     <i class="imv2-arrow3_l">
     </i>
    </div>
    <p>
     12 &#20160;&#20040;&#65311;&#36824;&#26377;&#36825;&#31181;&#25805;&#20316;&#65281;&#8212;&#26377;&#24207;&#24615;
    </p>
   </div>
  </a>
  <!-- &#24050;&#20080;&#19988;&#24320;&#25918; &#25110;&#32773;&#21487;&#20197;&#35797;&#35835; -->
  <a href="/read/49/article/949">
   <div class="next r clearfix">
    <p>
     14 &#20725;&#25345;&#19981;&#19979;&#8212;&#27515;&#38145;&#35814;&#35299;
    </p>
    <div class="icon r">
     <i class="imv2-arrow3_r">
     </i>
    </div>
   </div>
  </a>
 </div>
</div>

</div>

</div>
</div>

        </body>
        
        