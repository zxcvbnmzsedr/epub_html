<div><div class="markdown-body">
    <h1>&#39640;&#24615;&#33021;&#65306;&#38646;&#25335;&#36125;&#20026;&#20160;&#20040;&#33021;&#25552;&#21319;&#24615;&#33021;&#65311;</h1><div class="lake-content" typography="classic">
 <div class="ne-quote">
  <p class="ne-p" id="u7c229269">
   <strong>
    <span class="ne-text">
     &#30456;&#20851;&#38754;&#35797;&#39064;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;
   </span>
  </p>
  <p class="ne-p" id="u504c7c1f">
   <br>
  </p>
  <ul class="ne-ul">
   <li id="u7dd9f1f2">
    <span class="ne-text">
     &#31616;&#21333;&#25551;&#36848;&#19968;&#19979;&#20256;&#32479;&#30340; IO &#25191;&#34892;&#27969;&#31243;&#65292;&#26377;&#20160;&#20040;&#32570;&#38519;&#65311;
    </span>
   </li>
   <li id="u009eee01">
    <span class="ne-text">
     &#20160;&#20040;&#26159;&#38646;&#25335;&#36125;&#65311;
    </span>
   </li>
   <li id="u1f43c5db">
    <span class="ne-text">
     &#38646;&#25335;&#36125;&#23454;&#29616;&#30340;&#20960;&#31181;&#26041;&#24335;
    </span>
   </li>
   <li id="u85e87d01">
    <span class="ne-text">
     Java &#25552;&#20379;&#30340;&#38646;&#25335;&#36125;&#26041;&#24335;
    </span>
   </li>
  </ul>
  <p class="ne-p" id="u6197a47d">
   <br>
  </p>
  <p class="ne-p" id="u6a46eb52">
   <span class="ne-text">
    &#20316;&#32773;&#65306;&#31243;&#24207;&#21592;&#30000;&#34746; &#65292;&#20844;&#20247;&#21495;&#65306;&#25441;&#30000;&#34746;&#30340;&#23567;&#30007;&#23401;
   </span>
  </p>
  <p class="ne-p" id="u0cd1db5e">
   <br>
  </p>
  <p class="ne-p" id="ub4653423">
   <span class="ne-text">
    &#12298;Java &#38754;&#35797;&#25351;&#21271;&#12299;&#24050;&#33719;&#25480;&#26435;&#24182;&#23545;&#20854;&#20869;&#23481;&#36827;&#34892;&#20102;&#23436;&#21892;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="u95f8bf3a">
  <br>
 </p>
 <p class="ne-p" id="uf712b8ad">
  <span class="ne-text">
   &#38646;&#25335;&#36125;&#31639;&#26159;&#19968;&#20010;&#32769;&#29983;&#24120;&#35848;&#30340;&#38382;&#39064;&#21862;&#65292;&#24456;&#22810;&#39030;&#32423;&#26694;&#26550;&#37117;&#29992;&#21040;&#20102;&#38646;&#25335;&#36125;&#26469;&#25552;&#21319;&#24615;&#33021;&#65292;&#27604;&#22914;&#25105;&#20204;&#32463;&#24120;&#25509;&#35302;&#21040;&#30340; Kafka &#12289;RocketMQ&#12289;Netty &#12290;
  </span>
 </p>
 <p class="ne-p" id="u2745fc05">
  <br>
 </p>
 <p class="ne-p" id="u2b77b71a">
  <span class="ne-text">
   &#25630;&#25026;&#38646;&#25335;&#36125;&#19981;&#20165;&#20165;&#21487;&#20197;&#35753;&#33258;&#24049;&#23545;&#36825;&#20123;&#26694;&#26550;&#30340;&#35748;&#35782;&#26356;&#36827;&#19968;&#27493;&#65292;&#36824;&#21487;&#20197;&#35753;&#33258;&#24049;&#22312;&#38754;&#35797;&#20013;&#26356;&#28216;&#20995;&#26377;&#20313;&#12290;&#27605;&#31455;&#65292;&#38754;&#35797;&#20013;&#23545;&#20110;&#38646;&#25335;&#36125;&#30340;&#32771;&#23519;&#38750;&#24120;&#24120;&#35265;&#65292;&#23588;&#20854;&#26159;&#22823;&#21378;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u16b240e4">
  <br>
 </p>
 <p class="ne-p" id="u9aeb904f">
  <span class="ne-text">
   &#36890;&#24120;&#24773;&#20917;&#19979;&#65292;&#38754;&#35797;&#23448;&#19981;&#20250;&#30452;&#25509;&#25552;&#38382;&#38646;&#25335;&#36125;&#65292;&#20182;&#20250;&#20808;&#38382;&#20320; Kafka/RocketMQ/Netty &#20026;&#20160;&#20040;&#24555;&#65292;&#28982;&#21518;&#20320;&#22238;&#31572;&#21040;&#20102;&#38646;&#25335;&#36125;&#20043;&#21518;&#65292;&#20182;&#20877;&#21435;&#25366;&#25496;&#20320;&#23545;&#38646;&#25335;&#36125;&#30340;&#35748;&#35782;&#12290;
  </span>
 </p>
 <p class="ne-p" id="uc6c510c7">
  <br>
 </p>
 <h2 id="26062ba4">
  <span class="ne-text">
   1.&#20160;&#20040;&#26159;&#38646;&#25335;&#36125;
  </span>
 </h2>
 <p class="ne-p" id="ucca1ed94">
  <br>
 </p>
 <p class="ne-p" id="u28bd8db6">
  <span class="ne-text">
   &#38646;&#25335;&#36125;&#23383;&#38754;&#19978;&#30340;&#24847;&#24605;&#21253;&#25324;&#20004;&#20010;&#65292;&#8220;&#38646;&#8221;&#21644;&#8220;&#25335;&#36125;&#8221;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u765a8d7a">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u351bbbdd">
   <strong>
    <span class="ne-text">
     &#8220;&#25335;&#36125;&#8221;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#23601;&#26159;&#25351;&#25968;&#25454;&#20174;&#19968;&#20010;&#23384;&#20648;&#21306;&#22495;&#36716;&#31227;&#21040;&#21478;&#19968;&#20010;&#23384;&#20648;&#21306;&#22495;&#12290;
   </span>
  </li>
  <li id="u4961f67e">
   <strong>
    <span class="ne-text">
     &#8220;&#38646;&#8221;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#34920;&#31034;&#27425;&#25968;&#20026; 0&#65292;&#23427;&#34920;&#31034;&#25335;&#36125;&#25968;&#25454;&#30340;&#27425;&#25968;&#20026; 0&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u3201063b">
  <br>
 </p>
 <p class="ne-p" id="ucab5fc9e">
  <span class="ne-text">
   &#21512;&#36215;&#26469;&#65292;&#37027;
  </span>
  <strong>
   <span class="ne-text">
    &#38646;&#25335;&#36125;
   </span>
  </strong>
  <span class="ne-text">
   &#23601;&#26159;&#19981;&#38656;&#35201;&#23558;&#25968;&#25454;&#20174;&#19968;&#20010;&#23384;&#20648;&#21306;&#22495;&#22797;&#21046;&#21040;&#21478;&#19968;&#20010;&#23384;&#20648;&#21306;&#22495;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u281d9389">
  <br>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="u9642fdbc">
   <span class="ne-text">
    &#38646;&#25335;&#36125;&#26159;&#25351;&#35745;&#31639;&#26426;&#25191;&#34892; IO &#25805;&#20316;&#26102;&#65292;CPU &#19981;&#38656;&#35201;&#23558;&#25968;&#25454;&#20174;&#19968;&#20010;&#23384;&#20648;&#21306;&#22495;&#22797;&#21046;&#21040;&#21478;&#19968;&#20010;&#23384;&#20648;&#21306;&#22495;&#65292;&#20174;&#32780;&#21487;&#20197;&#20943;&#23569;&#19978;&#19979;&#25991;&#20999;&#25442;&#20197;&#21450; CPU &#30340;&#25335;&#36125;&#26102;&#38388;&#12290;&#23427;&#26159;&#19968;&#31181;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     I/O
    </span>
   </code>
   <span class="ne-text">
    &#25805;&#20316;&#20248;&#21270;&#25216;&#26415;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="u2e854fda">
  <br>
 </p>
 <h2 id="c4699a49">
  <span class="ne-text">
   2. &#20256;&#32479; IO &#30340;&#25191;&#34892;&#27969;&#31243;
  </span>
 </h2>
 <p class="ne-p" id="uffdae712">
  <br>
 </p>
 <p class="ne-p" id="uc8cf58ce">
  <span class="ne-text">
   &#20570;&#26381;&#21153;&#31471;&#24320;&#21457;&#30340;&#23567;&#20249;&#20276;&#65292;&#25991;&#20214;&#19979;&#36733;&#21151;&#33021;&#24212;&#35813;&#23454;&#29616;&#36807;&#19981;&#23569;&#20102;&#21543;&#12290;&#22914;&#26524;&#20320;&#23454;&#29616;&#30340;&#26159;&#19968;&#20010;
  </span>
  <strong>
   <span class="ne-text">
    Web &#31243;&#24207;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#21069;&#31471;&#35831;&#27714;&#36807;&#26469;&#65292;&#26381;&#21153;&#31471;&#30340;&#20219;&#21153;&#23601;&#26159;&#65306;&#23558;&#26381;&#21153;&#31471;&#20027;&#26426;&#30913;&#30424;&#20013;&#30340;&#25991;&#20214;&#20174;&#24050;&#36830;&#25509;&#30340; socket &#21457;&#20986;&#21435;&#12290;&#20851;&#38190;&#23454;&#29616;&#20195;&#30721;&#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="ucbbbb96e">
  <br>
 </p>
 <pre class="ne-codeblock language-java" data-language="java" id="36e0eb8b">while((n = read(diskfd, buf, BUF_SIZE)) &gt; 0)
    write(sockfd, buf , n);</pre>
 <p class="ne-p" id="ucf16b4c9">
  <br>
 </p>
 <p class="ne-p" id="u6888f38a">
  <span class="ne-text">
   &#20256;&#32479;&#30340; IO &#27969;&#31243;&#65292;&#21253;&#25324; read &#21644; write &#30340;&#36807;&#31243;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u3711934b">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u97f7bc4a">
   <code class="ne-code">
    <span class="ne-text">
     read
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#25226;&#25968;&#25454;&#20174;&#30913;&#30424;&#35835;&#21462;&#21040;&#20869;&#26680;&#32531;&#20914;&#21306;&#65292;&#20877;&#25335;&#36125;&#21040;&#29992;&#25143;&#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="uf3347c7b">
   <code class="ne-code">
    <span class="ne-text">
     write
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#20808;&#25226;&#25968;&#25454;&#20889;&#20837;&#21040; socket &#32531;&#20914;&#21306;&#65292;&#26368;&#21518;&#20889;&#20837;&#32593;&#21345;&#35774;&#22791;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="uc58a96f5">
  <br>
 </p>
 <p class="ne-p" id="u7536badd">
  <strong>
   <span class="ne-text">
    &#27969;&#31243;&#22270;&#22914;&#19979;&#65306;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="ubd826122">
  <br>
 </p>
 <p class="ne-p" id="ua9e4cd1b">
  <img class="ne-image" id="quBpT" src="EPUB/imgquBpT" width="1420">
 </p>
 <p class="ne-p" id="u45acf16e">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u49e01869">
   <span class="ne-text">
    &#29992;&#25143;&#24212;&#29992;&#36827;&#31243;&#35843;&#29992;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     read
    </span>
   </code>
   <span class="ne-text">
    &#20989;&#25968;&#65292;&#21521;&#25805;&#20316;&#31995;&#32479;&#21457;&#36215; IO &#35843;&#29992;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#20174;&#29992;&#25143;&#24577;&#36716;&#20026;&#20869;&#26680;&#24577;&#65288;&#20999;&#25442; 1&#65289;
    </span>
   </strong>
  </li>
  <li id="u3097d7a3">
   <span class="ne-text">
    DMA &#25511;&#21046;&#22120;&#25226;&#25968;&#25454;&#20174;&#30913;&#30424;&#20013;&#65292;&#35835;&#21462;&#21040;&#20869;&#26680;&#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="u87c7ae3d">
   <span class="ne-text">
    CPU &#25226;&#20869;&#26680;&#32531;&#20914;&#21306;&#25968;&#25454;&#65292;&#25335;&#36125;&#21040;&#29992;&#25143;&#24212;&#29992;&#32531;&#20914;&#21306;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#20174;&#20869;&#26680;&#24577;&#36716;&#20026;&#29992;&#25143;&#24577;&#65288;&#20999;&#25442; 2&#65289;
    </span>
   </strong>
   <span class="ne-text">
    &#65292;read &#20989;&#25968;&#36820;&#22238;
   </span>
  </li>
  <li id="u61fba38c">
   <span class="ne-text">
    &#29992;&#25143;&#24212;&#29992;&#36827;&#31243;&#36890;&#36807; write &#20989;&#25968;&#65292;&#21457;&#36215; IO &#35843;&#29992;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#20174;&#29992;&#25143;&#24577;&#36716;&#20026;&#20869;&#26680;&#24577;&#65288;&#20999;&#25442; 3&#65289;
    </span>
   </strong>
  </li>
  <li id="u8d54caeb">
   <span class="ne-text">
    CPU &#23558;&#24212;&#29992;&#32531;&#20914;&#21306;&#20013;&#30340;&#25968;&#25454;&#65292;&#25335;&#36125;&#21040; socket &#32531;&#20914;&#21306;
   </span>
  </li>
  <li id="u1c466e13">
   <span class="ne-text">
    DMA &#25511;&#21046;&#22120;&#25226;&#25968;&#25454;&#20174; socket &#32531;&#20914;&#21306;&#65292;&#25335;&#36125;&#21040;&#32593;&#21345;&#35774;&#22791;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#20174;&#20869;&#26680;&#24577;&#20999;&#25442;&#22238;&#29992;&#25143;&#24577;&#65288;&#20999;&#25442; 4&#65289;
    </span>
   </strong>
   <span class="ne-text">
    &#65292;write &#20989;&#25968;&#36820;&#22238;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="ub3d265c6">
  <br>
 </p>
 <p class="ne-p" id="ub4492f3c">
  <span class="ne-text">
   &#20174;&#27969;&#31243;&#22270;&#21487;&#20197;&#30475;&#20986;&#65292;&#20256;&#32479; IO &#30340;&#35835;&#20889;&#27969;&#31243;&#65292;&#21253;&#25324;&#20102; 4 &#27425;&#19978;&#19979;&#25991;&#20999;&#25442;&#65288;4 &#27425;&#29992;&#25143;&#24577;&#21644;&#20869;&#26680;&#24577;&#30340;&#20999;&#25442;&#65289;&#65292;4 &#27425;&#25968;&#25454;&#25335;&#36125;&#65288;
  </span>
  <strong>
   <span class="ne-text">
    &#20004;&#27425; CPU &#25335;&#36125;&#20197;&#21450;&#20004;&#27425;&#30340; DMA &#25335;&#36125;
   </span>
  </strong>
  <span class="ne-text">
   )&#65292;&#20160;&#20040;&#26159; DMA &#25335;&#36125;&#21602;&#65311;&#25105;&#20204;&#19968;&#36215;&#26469;&#22238;&#39038;&#19979;&#65292;&#38646;&#25335;&#36125;&#28041;&#21450;&#30340;
  </span>
  <strong>
   <span class="ne-text">
    &#25805;&#20316;&#31995;&#32479;&#30693;&#35782;&#28857;
   </span>
  </strong>
  <span class="ne-text">
   &#21704;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u2bf02f78">
  <br>
 </p>
 <h2 id="6990839b">
  <span class="ne-text">
   3. &#38646;&#25335;&#36125;&#30456;&#20851;&#30340;&#30693;&#35782;&#28857;&#22238;&#39038;
  </span>
 </h2>
 <p class="ne-p" id="u88c1719f">
  <br>
 </p>
 <h3 id="d6189a44">
  <span class="ne-text">
   3.1 &#20869;&#26680;&#31354;&#38388;&#21644;&#29992;&#25143;&#31354;&#38388;
  </span>
 </h3>
 <p class="ne-p" id="u038915db">
  <br>
 </p>
 <p class="ne-p" id="u8a97042b">
  <span class="ne-text">
   &#25105;&#20204;&#30005;&#33041;&#19978;&#36305;&#30528;&#30340;&#24212;&#29992;&#31243;&#24207;&#65292;&#20854;&#23454;&#26159;&#38656;&#35201;&#32463;&#36807;
  </span>
  <strong>
   <span class="ne-text">
    &#25805;&#20316;&#31995;&#32479;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#25165;&#33021;&#20570;&#19968;&#20123;&#29305;&#27530;&#25805;&#20316;&#65292;&#22914;&#30913;&#30424;&#25991;&#20214;&#35835;&#20889;&#12289;&#20869;&#23384;&#30340;&#35835;&#20889;&#31561;&#31561;&#12290;&#22240;&#20026;&#36825;&#20123;&#37117;&#26159;&#27604;&#36739;&#21361;&#38505;&#30340;&#25805;&#20316;&#65292;
  </span>
  <strong>
   <span class="ne-text">
    &#19981;&#21487;&#20197;&#30001;&#24212;&#29992;&#31243;&#24207;&#20081;&#26469;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#21482;&#33021;&#20132;&#32473;&#24213;&#23618;&#25805;&#20316;&#31995;&#32479;&#26469;&#12290;
  </span>
 </p>
 <p class="ne-p" id="uf4549973">
  <br>
 </p>
 <p class="ne-p" id="u277967f3">
  <span class="ne-text">
   &#22240;&#27492;&#65292;&#25805;&#20316;&#31995;&#32479;&#20026;&#27599;&#20010;&#36827;&#31243;&#37117;&#20998;&#37197;&#20102;&#20869;&#23384;&#31354;&#38388;&#65292;&#19968;&#37096;&#20998;&#26159;&#29992;&#25143;&#31354;&#38388;&#65292;&#19968;&#37096;&#20998;&#26159;&#20869;&#26680;&#31354;&#38388;&#12290;
  </span>
  <strong>
   <span class="ne-text">
    &#20869;&#26680;&#31354;&#38388;&#26159;&#25805;&#20316;&#31995;&#32479;&#20869;&#26680;&#35775;&#38382;&#30340;&#21306;&#22495;&#65292;&#26159;&#21463;&#20445;&#25252;&#30340;&#20869;&#23384;&#31354;&#38388;&#65292;&#32780;&#29992;&#25143;&#31354;&#38388;&#26159;&#29992;&#25143;&#24212;&#29992;&#31243;&#24207;&#35775;&#38382;&#30340;&#20869;&#23384;&#21306;&#22495;&#12290;
   </span>
  </strong>
  <span class="ne-text">
   &#20197; 32 &#20301;&#25805;&#20316;&#31995;&#32479;&#20026;&#20363;&#65292;&#23427;&#20250;&#20026;&#27599;&#19968;&#20010;&#36827;&#31243;&#37117;&#20998;&#37197;&#20102;
  </span>
  <strong>
   <span class="ne-text">
    4G
   </span>
  </strong>
  <span class="ne-text">
   (2 &#30340; 32 &#27425;&#26041;)&#30340;&#20869;&#23384;&#31354;&#38388;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u360e918e">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="ucf79c2ad">
   <strong>
    <span class="ne-text">
     &#20869;&#26680;&#31354;&#38388;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#20027;&#35201;&#25552;&#20379;&#36827;&#31243;&#35843;&#24230;&#12289;&#20869;&#23384;&#20998;&#37197;&#12289;&#36830;&#25509;&#30828;&#20214;&#36164;&#28304;&#31561;&#21151;&#33021;
   </span>
  </li>
  <li id="u2b1d4c08">
   <strong>
    <span class="ne-text">
     &#29992;&#25143;&#31354;&#38388;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#25552;&#20379;&#32473;&#21508;&#20010;&#31243;&#24207;&#36827;&#31243;&#30340;&#31354;&#38388;&#65292;&#23427;&#19981;&#20855;&#26377;&#35775;&#38382;&#20869;&#26680;&#31354;&#38388;&#36164;&#28304;&#30340;&#26435;&#38480;&#65292;&#22914;&#26524;&#24212;&#29992;&#31243;&#24207;&#38656;&#35201;&#20351;&#29992;&#21040;&#20869;&#26680;&#31354;&#38388;&#30340;&#36164;&#28304;&#65292;&#21017;&#38656;&#35201;&#36890;&#36807;&#31995;&#32479;&#35843;&#29992;&#26469;&#23436;&#25104;&#12290;&#36827;&#31243;&#20174;&#29992;&#25143;&#31354;&#38388;&#20999;&#25442;&#21040;&#20869;&#26680;&#31354;&#38388;&#65292;&#23436;&#25104;&#30456;&#20851;&#25805;&#20316;&#21518;&#65292;&#20877;&#20174;&#20869;&#26680;&#31354;&#38388;&#20999;&#25442;&#22238;&#29992;&#25143;&#31354;&#38388;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="ubb3de443">
  <br>
 </p>
 <h3 id="321b5af9">
  <span class="ne-text">
   3.2 &#20160;&#20040;&#26159;&#29992;&#25143;&#24577;&#12289;&#20869;&#26680;&#24577;
  </span>
 </h3>
 <p class="ne-p" id="u0223bc45">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u7b44624b">
   <span class="ne-text">
    &#22914;&#26524;&#36827;&#31243;&#36816;&#34892;&#20110;&#20869;&#26680;&#31354;&#38388;&#65292;&#34987;&#31216;&#20026;&#36827;&#31243;&#30340;&#20869;&#26680;&#24577;
   </span>
  </li>
  <li id="u147cf7bb">
   <span class="ne-text">
    &#22914;&#26524;&#36827;&#31243;&#36816;&#34892;&#20110;&#29992;&#25143;&#31354;&#38388;&#65292;&#34987;&#31216;&#20026;&#36827;&#31243;&#30340;&#29992;&#25143;&#24577;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="ua17d5e30">
  <br>
 </p>
 <h3 id="f34a4ecd">
  <span class="ne-text">
   3.3 &#20160;&#20040;&#26159;&#19978;&#19979;&#25991;&#20999;&#25442;
  </span>
 </h3>
 <p class="ne-p" id="u360b6328">
  <br>
 </p>
 <p class="ne-p" id="u21094a0d">
  <strong>
   <span class="ne-text">
    &#20160;&#20040;&#26159;&#19978;&#19979;&#25991;&#65311;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="u25e67457">
  <br>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="u8887221d">
   <span class="ne-text">
    CPU &#23492;&#23384;&#22120;&#65292;&#26159; CPU &#20869;&#32622;&#30340;&#23481;&#37327;&#23567;&#12289;&#20294;&#36895;&#24230;&#26497;&#24555;&#30340;&#20869;&#23384;&#12290;&#32780;&#31243;&#24207;&#35745;&#25968;&#22120;&#65292;&#21017;&#26159;&#29992;&#26469;&#23384;&#20648; CPU &#27491;&#22312;&#25191;&#34892;&#30340;&#25351;&#20196;&#20301;&#32622;&#12289;&#25110;&#32773;&#21363;&#23558;&#25191;&#34892;&#30340;&#19979;&#19968;&#26465;&#25351;&#20196;&#20301;&#32622;&#12290;&#23427;&#20204;&#37117;&#26159; CPU &#22312;&#36816;&#34892;&#20219;&#20309;&#20219;&#21153;&#21069;&#65292;&#24517;&#39035;&#30340;&#20381;&#36182;&#29615;&#22659;&#65292;&#22240;&#27492;&#21483;&#20570; CPU &#19978;&#19979;&#25991;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="ua15c1cbf">
  <br>
 </p>
 <p class="ne-p" id="u728f336e">
  <strong>
   <span class="ne-text">
    &#20160;&#20040;&#26159; CPU &#19978;&#19979;&#25991;&#20999;&#25442;&#65311;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="udc22fb97">
  <br>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="ueff96ced">
   <span class="ne-text">
    &#23427;&#26159;&#25351;&#65292;&#20808;&#25226;&#21069;&#19968;&#20010;&#20219;&#21153;&#30340; CPU &#19978;&#19979;&#25991;&#65288;&#20063;&#23601;&#26159; CPU &#23492;&#23384;&#22120;&#21644;&#31243;&#24207;&#35745;&#25968;&#22120;&#65289;&#20445;&#23384;&#36215;&#26469;&#65292;&#28982;&#21518;&#21152;&#36733;&#26032;&#20219;&#21153;&#30340;&#19978;&#19979;&#25991;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;&#21644;&#31243;&#24207;&#35745;&#25968;&#22120;&#65292;&#26368;&#21518;&#20877;&#36339;&#36716;&#21040;&#31243;&#24207;&#35745;&#25968;&#22120;&#25152;&#25351;&#30340;&#26032;&#20301;&#32622;&#65292;&#36816;&#34892;&#26032;&#20219;&#21153;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="ud02dc91d">
  <br>
 </p>
 <p class="ne-p" id="u5343a794">
  <span class="ne-text">
   &#19968;&#33324;&#25105;&#20204;&#35828;&#30340;
  </span>
  <strong>
   <span class="ne-text">
    &#19978;&#19979;&#25991;&#20999;&#25442;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#23601;&#26159;&#25351;&#20869;&#26680;&#65288;&#25805;&#20316;&#31995;&#32479;&#30340;&#26680;&#24515;&#65289;&#22312; CPU &#19978;&#23545;&#36827;&#31243;&#25110;&#32773;&#32447;&#31243;&#36827;&#34892;&#20999;&#25442;&#12290;&#36827;&#31243;&#20174;&#29992;&#25143;&#24577;&#21040;&#20869;&#26680;&#24577;&#30340;&#36716;&#21464;&#65292;&#38656;&#35201;&#36890;&#36807;
  </span>
  <strong>
   <span class="ne-text">
    &#31995;&#32479;&#35843;&#29992;
   </span>
  </strong>
  <span class="ne-text">
   &#26469;&#23436;&#25104;&#12290;&#31995;&#32479;&#35843;&#29992;&#30340;&#36807;&#31243;&#65292;&#20250;&#21457;&#29983;
  </span>
  <strong>
   <span class="ne-text">
    CPU &#19978;&#19979;&#25991;&#30340;&#20999;&#25442;
   </span>
  </strong>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="ucf69110a">
  <br>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="u493b21b8">
   <span class="ne-text">
    CPU &#23492;&#23384;&#22120;&#37324;&#21407;&#26469;&#29992;&#25143;&#24577;&#30340;&#25351;&#20196;&#20301;&#32622;&#65292;&#38656;&#35201;&#20808;&#20445;&#23384;&#36215;&#26469;&#12290;&#25509;&#30528;&#65292;&#20026;&#20102;&#25191;&#34892;&#20869;&#26680;&#24577;&#20195;&#30721;&#65292;CPU &#23492;&#23384;&#22120;&#38656;&#35201;&#26356;&#26032;&#20026;&#20869;&#26680;&#24577;&#25351;&#20196;&#30340;&#26032;&#20301;&#32622;&#12290;&#26368;&#21518;&#25165;&#26159;&#36339;&#36716;&#21040;&#20869;&#26680;&#24577;&#36816;&#34892;&#20869;&#26680;&#20219;&#21153;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="u9d9dbe59">
  <br>
 </p>
 <p class="ne-p" id="u3962a8de">
  <img class="ne-image" id="Rn3LP" src="EPUB/imgRn3LP" width="723">
 </p>
 <p class="ne-p" id="uf3f677a4">
  <br>
 </p>
 <h3 id="57c50df2">
  <span class="ne-text">
   3.4 &#34394;&#25311;&#20869;&#23384;
  </span>
 </h3>
 <p class="ne-p" id="u2b888927">
  <br>
 </p>
 <p class="ne-p" id="u2ceb195d">
  <span class="ne-text">
   &#29616;&#20195;&#25805;&#20316;&#31995;&#32479;&#20351;&#29992;&#34394;&#25311;&#20869;&#23384;&#65292;&#21363;&#34394;&#25311;&#22320;&#22336;&#21462;&#20195;&#29289;&#29702;&#22320;&#22336;&#65292;&#20351;&#29992;&#34394;&#25311;&#20869;&#23384;&#21487;&#20197;&#26377; 2 &#20010;&#22909;&#22788;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u43275196">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u42912a53">
   <span class="ne-text">
    &#34394;&#25311;&#20869;&#23384;&#31354;&#38388;&#21487;&#20197;&#36828;&#36828;&#22823;&#20110;&#29289;&#29702;&#20869;&#23384;&#31354;&#38388;
   </span>
  </li>
  <li id="u324d1d9e">
   <span class="ne-text">
    &#22810;&#20010;&#34394;&#25311;&#20869;&#23384;&#21487;&#20197;&#25351;&#21521;&#21516;&#19968;&#20010;&#29289;&#29702;&#22320;&#22336;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="uead48350">
  <br>
 </p>
 <p class="ne-p" id="u9aca1c19">
  <span class="ne-text">
   &#27491;&#26159;
  </span>
  <strong>
   <span class="ne-text">
    &#22810;&#20010;&#34394;&#25311;&#20869;&#23384;&#21487;&#20197;&#25351;&#21521;&#21516;&#19968;&#20010;&#29289;&#29702;&#22320;&#22336;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#21487;&#20197;&#25226;&#20869;&#26680;&#31354;&#38388;&#21644;&#29992;&#25143;&#31354;&#38388;&#30340;&#34394;&#25311;&#22320;&#22336;&#26144;&#23556;&#21040;&#21516;&#19968;&#20010;&#29289;&#29702;&#22320;&#22336;&#65292;&#36825;&#26679;&#30340;&#35805;&#65292;&#23601;&#21487;&#20197;&#20943;&#23569; IO &#30340;&#25968;&#25454;&#25335;&#36125;&#27425;&#25968;&#21862;&#65292;&#31034;&#24847;&#22270;&#22914;&#19979;
  </span>
 </p>
 <p class="ne-p" id="u7c1c864a">
  <br>
 </p>
 <p class="ne-p" id="u56c9b16c">
  <img class="ne-image" id="oN1Fk" src="EPUB/imgoN1Fk" width="1127">
 </p>
 <p class="ne-p" id="ubffbc8fd">
  <br>
 </p>
 <h3 id="5a7fcdc8">
  <span class="ne-text">
   3.5 DMA &#25216;&#26415;
  </span>
 </h3>
 <p class="ne-p" id="u7c8ea8cb">
  <br>
 </p>
 <p class="ne-p" id="u62b5ce7d">
  <span class="ne-text">
   DMA&#65292;&#33521;&#25991;&#20840;&#31216;&#26159;
  </span>
  <strong>
   <span class="ne-text">
    Direct Memory Access
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#21363;&#30452;&#25509;&#20869;&#23384;&#35775;&#38382;&#12290;
  </span>
  <strong>
   <span class="ne-text">
    DMA
   </span>
  </strong>
  <span class="ne-text">
   &#26412;&#36136;&#19978;&#26159;&#19968;&#22359;&#20027;&#26495;&#19978;&#29420;&#31435;&#30340;&#33455;&#29255;&#65292;&#20801;&#35768;&#22806;&#35774;&#35774;&#22791;&#21644;&#20869;&#23384;&#23384;&#20648;&#22120;&#20043;&#38388;&#30452;&#25509;&#36827;&#34892; IO &#25968;&#25454;&#20256;&#36755;&#65292;&#20854;&#36807;&#31243;
  </span>
  <strong>
   <span class="ne-text">
    &#19981;&#38656;&#35201; CPU &#30340;&#21442;&#19982;
   </span>
  </strong>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="u5740581a">
  <br>
 </p>
 <p class="ne-p" id="u07afed85">
  <span class="ne-text">
   &#25105;&#20204;&#19968;&#36215;&#26469;&#30475;&#19979; IO &#27969;&#31243;&#65292;DMA &#24110;&#24537;&#20570;&#20102;&#20160;&#20040;&#20107;&#24773;.
  </span>
 </p>
 <p class="ne-p" id="ubbf07bdc">
  <br>
 </p>
 <p class="ne-p" id="u1b7db87d">
  <img class="ne-image" id="UQjhY" src="EPUB/imgUQjhY" width="1933">
 </p>
 <p class="ne-p" id="uf216f3fe">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u5cc4a87e">
   <span class="ne-text">
    &#29992;&#25143;&#24212;&#29992;&#36827;&#31243;&#35843;&#29992; read &#20989;&#25968;&#65292;&#21521;&#25805;&#20316;&#31995;&#32479;&#21457;&#36215; IO &#35843;&#29992;&#65292;&#36827;&#20837;&#38459;&#22622;&#29366;&#24577;&#65292;&#31561;&#24453;&#25968;&#25454;&#36820;&#22238;&#12290;
   </span>
  </li>
  <li id="u58d6987c">
   <span class="ne-text">
    CPU &#25910;&#21040;&#25351;&#20196;&#21518;&#65292;&#23545; DMA &#25511;&#21046;&#22120;&#21457;&#36215;&#25351;&#20196;&#35843;&#24230;&#12290;
   </span>
  </li>
  <li id="u18b1fa69">
   <span class="ne-text">
    DMA &#25910;&#21040; IO &#35831;&#27714;&#21518;&#65292;&#23558;&#35831;&#27714;&#21457;&#36865;&#32473;&#30913;&#30424;&#65307;
   </span>
  </li>
  <li id="u2b5a8bad">
   <span class="ne-text">
    &#30913;&#30424;&#23558;&#25968;&#25454;&#25918;&#20837;&#30913;&#30424;&#25511;&#21046;&#32531;&#20914;&#21306;&#65292;&#24182;&#36890;&#30693; DMA
   </span>
  </li>
  <li id="uf6613618">
   <span class="ne-text">
    DMA &#23558;&#25968;&#25454;&#20174;&#30913;&#30424;&#25511;&#21046;&#22120;&#32531;&#20914;&#21306;&#25335;&#36125;&#21040;&#20869;&#26680;&#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="u404b928f">
   <span class="ne-text">
    DMA &#21521; CPU &#21457;&#20986;&#25968;&#25454;&#35835;&#23436;&#30340;&#20449;&#21495;&#65292;&#25226;&#24037;&#20316;&#20132;&#25442;&#32473; CPU&#65292;&#30001; CPU &#36127;&#36131;&#23558;&#25968;&#25454;&#20174;&#20869;&#26680;&#32531;&#20914;&#21306;&#25335;&#36125;&#21040;&#29992;&#25143;&#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="u46efd614">
   <span class="ne-text">
    &#29992;&#25143;&#24212;&#29992;&#36827;&#31243;&#30001;&#20869;&#26680;&#24577;&#20999;&#25442;&#22238;&#29992;&#25143;&#24577;&#65292;&#35299;&#38500;&#38459;&#22622;&#29366;&#24577;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u87f62bf7">
  <br>
 </p>
 <p class="ne-p" id="u99982531">
  <span class="ne-text">
   &#21487;&#20197;&#21457;&#29616;&#65292;DMA &#20570;&#30340;&#20107;&#24773;&#24456;&#28165;&#26224;&#21862;&#65292;&#23427;&#20027;&#35201;&#23601;&#26159;
  </span>
  <strong>
   <span class="ne-text">
    &#24110;&#24537; CPU &#36716;&#21457;&#19968;&#19979; IO &#35831;&#27714;&#65292;&#20197;&#21450;&#25335;&#36125;&#25968;&#25454;
   </span>
  </strong>
  <span class="ne-text">
   &#12290;&#20026;&#20160;&#20040;&#38656;&#35201;&#23427;&#30340;&#65311;
  </span>
 </p>
 <p class="ne-p" id="ub95b5282">
  <br>
 </p>
 <div class="ne-quote">
  <p class="ne-p" id="u080b9310">
   <span class="ne-text">
    &#20027;&#35201;&#23601;&#26159;&#25928;&#29575;&#65292;&#23427;&#24110;&#24537; CPU &#20570;&#20107;&#24773;&#65292;&#36825;&#26102;&#20505;&#65292;CPU &#23601;&#21487;&#20197;&#38386;&#19979;&#26469;&#21435;&#20570;&#21035;&#30340;&#20107;&#24773;&#65292;&#25552;&#39640;&#20102; CPU &#30340;&#21033;&#29992;&#25928;&#29575;&#12290;&#22823;&#30333;&#35805;&#35299;&#37322;&#23601;&#26159;&#65292;CPU &#32769;&#21733;&#22826;&#24537;&#22826;&#32047;&#21862;&#65292;&#25152;&#20197;&#20182;&#25214;&#20102;&#20010;&#23567;&#24351;&#65288;&#21517;&#21483; DMA&#65289; &#65292;&#26367;&#20182;&#23436;&#25104;&#19968;&#37096;&#20998;&#30340;&#25335;&#36125;&#24037;&#20316;&#65292;&#36825;&#26679; CPU &#32769;&#21733;&#23601;&#33021;&#30528;&#25163;&#21435;&#20570;&#20854;&#20182;&#20107;&#24773;&#12290;
   </span>
  </p>
 </div>
 <p class="ne-p" id="u9d7230a6">
  <br>
 </p>
 <h2 id="0237e624">
  <span class="ne-text">
   4. &#38646;&#25335;&#36125;&#23454;&#29616;&#30340;&#20960;&#31181;&#26041;&#24335;
  </span>
 </h2>
 <p class="ne-p" id="ufc526117">
  <br>
 </p>
 <p class="ne-p" id="ub44239e1">
  <span class="ne-text">
   &#38646;&#25335;&#36125;&#24182;&#19981;&#26159;&#27809;&#26377;&#25335;&#36125;&#25968;&#25454;&#65292;&#32780;&#26159;&#20943;&#23569;&#29992;&#25143;&#24577;/&#20869;&#26680;&#24577;&#30340;&#20999;&#25442;&#27425;&#25968;&#20197;&#21450; CPU &#25335;&#36125;&#30340;&#27425;&#25968;&#12290;&#38646;&#25335;&#36125;&#23454;&#29616;&#26377;&#22810;&#31181;&#26041;&#24335;&#65292;&#20998;&#21035;&#26159;
  </span>
 </p>
 <p class="ne-p" id="ue89eec71">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u1bff87cf">
   <span class="ne-text">
    mmap+write
   </span>
  </li>
  <li id="uc077211e">
   <span class="ne-text">
    sendfile
   </span>
  </li>
  <li id="ue8aae68c">
   <span class="ne-text">
    &#24102;&#26377; DMA &#25910;&#38598;&#25335;&#36125;&#21151;&#33021;&#30340; sendfile
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u8a75bd85">
  <br>
 </p>
 <h3 id="3ed696bd">
  <span class="ne-text">
   4.1 mmap+write &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;
  </span>
 </h3>
 <p class="ne-p" id="u4e6026c7">
  <br>
 </p>
 <p class="ne-p" id="u2e22ffd3">
  <span class="ne-text">
   mmap &#30340;&#20989;&#25968;&#21407;&#22411;&#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u64dcca4f">
  <br>
 </p>
 <pre class="ne-codeblock language-c" data-language="c" id="c5024d6d">void *mmap(void *addr, size_t length, int prot, int flags, int fd, off_t offset);</pre>
 <p class="ne-p" id="u188cb4c8">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u7d0cca42">
   <code class="ne-code">
    <span class="ne-text">
     addr
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#25351;&#23450;&#26144;&#23556;&#30340;&#34394;&#25311;&#20869;&#23384;&#22320;&#22336;
   </span>
  </li>
  <li id="u5ec461ec">
   <code class="ne-code">
    <span class="ne-text">
     length
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#26144;&#23556;&#30340;&#38271;&#24230;
   </span>
  </li>
  <li id="u1f7355dd">
   <code class="ne-code">
    <span class="ne-text">
     prot
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#26144;&#23556;&#20869;&#23384;&#30340;&#20445;&#25252;&#27169;&#24335;
   </span>
  </li>
  <li id="u81f9384f">
   <code class="ne-code">
    <span class="ne-text">
     flags
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#25351;&#23450;&#26144;&#23556;&#30340;&#31867;&#22411;
   </span>
  </li>
  <li id="u31c921ea">
   <code class="ne-code">
    <span class="ne-text">
     fd
    </span>
   </code>
   <span class="ne-text">
    : &#36827;&#34892;&#26144;&#23556;&#30340;&#25991;&#20214;&#21477;&#26564;
   </span>
  </li>
  <li id="u73f6b1a1">
   <code class="ne-code">
    <span class="ne-text">
     offset
    </span>
   </code>
   <span class="ne-text">
    : &#25991;&#20214;&#20559;&#31227;&#37327;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u99179530">
  <br>
 </p>
 <p class="ne-p" id="u9cbc6e35">
  <span class="ne-text">
   &#21069;&#38754;&#19968;&#23567;&#33410;&#65292;&#38646;&#25335;&#36125;&#30456;&#20851;&#30340;&#30693;&#35782;&#28857;&#22238;&#39038;&#65292;&#25105;&#20204;&#20171;&#32461;&#20102;
  </span>
  <strong>
   <span class="ne-text">
    &#34394;&#25311;&#20869;&#23384;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#21487;&#20197;&#25226;&#20869;&#26680;&#31354;&#38388;&#21644;&#29992;&#25143;&#31354;&#38388;&#30340;&#34394;&#25311;&#22320;&#22336;&#26144;&#23556;&#21040;&#21516;&#19968;&#20010;&#29289;&#29702;&#22320;&#22336;&#65292;&#20174;&#32780;&#20943;&#23569;&#25968;&#25454;&#25335;&#36125;&#27425;&#25968;&#65281;mmap &#23601;&#26159;&#29992;&#20102;&#34394;&#25311;&#20869;&#23384;&#36825;&#20010;&#29305;&#28857;&#65292;&#23427;&#23558;&#20869;&#26680;&#20013;&#30340;&#35835;&#32531;&#20914;&#21306;&#19982;&#29992;&#25143;&#31354;&#38388;&#30340;&#32531;&#20914;&#21306;&#36827;&#34892;&#26144;&#23556;&#65292;&#25152;&#26377;&#30340; IO &#37117;&#22312;&#20869;&#26680;&#20013;&#23436;&#25104;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u240564e6">
  <br>
 </p>
 <p class="ne-p" id="u4d14ff08">
  <code class="ne-code">
   <span class="ne-text">
    mmap+write
   </span>
  </code>
  <span class="ne-text">
   &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;&#27969;&#31243;&#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="uf5c274a1">
  <br>
 </p>
 <p class="ne-p" id="ub5f4455c">
  <img class="ne-image" id="nlfSZ" src="EPUB/imgnlfSZ" width="1423">
 </p>
 <p class="ne-p" id="u9da56fe2">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u338c7c8d">
   <span class="ne-text">
    &#29992;&#25143;&#36827;&#31243;&#36890;&#36807;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     mmap&#26041;&#27861;
    </span>
   </code>
   <span class="ne-text">
    &#21521;&#25805;&#20316;&#31995;&#32479;&#20869;&#26680;&#21457;&#36215; IO &#35843;&#29992;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#20174;&#29992;&#25143;&#24577;&#20999;&#25442;&#20026;&#20869;&#26680;&#24577;
    </span>
   </strong>
   <span class="ne-text">
    &#12290;
   </span>
  </li>
  <li id="ud5a45aec">
   <span class="ne-text">
    CPU &#21033;&#29992; DMA &#25511;&#21046;&#22120;&#65292;&#25226;&#25968;&#25454;&#20174;&#30828;&#30424;&#20013;&#25335;&#36125;&#21040;&#20869;&#26680;&#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="u0de50095">
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#20174;&#20869;&#26680;&#24577;&#20999;&#25442;&#22238;&#29992;&#25143;&#24577;
    </span>
   </strong>
   <span class="ne-text">
    &#65292;mmap &#26041;&#27861;&#36820;&#22238;&#12290;
   </span>
  </li>
  <li id="u320ec91d">
   <span class="ne-text">
    &#29992;&#25143;&#36827;&#31243;&#36890;&#36807;
   </span>
   <code class="ne-code">
    <span class="ne-text">
     write
    </span>
   </code>
   <span class="ne-text">
    &#26041;&#27861;&#21521;&#25805;&#20316;&#31995;&#32479;&#20869;&#26680;&#21457;&#36215; IO &#35843;&#29992;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#20174;&#29992;&#25143;&#24577;&#20999;&#25442;&#20026;&#20869;&#26680;&#24577;
    </span>
   </strong>
   <span class="ne-text">
    &#12290;
   </span>
  </li>
  <li id="ue2eda0b4">
   <span class="ne-text">
    CPU &#23558;&#20869;&#26680;&#32531;&#20914;&#21306;&#30340;&#25968;&#25454;&#25335;&#36125;&#21040;&#30340; socket &#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="u77cfc2bf">
   <span class="ne-text">
    CPU &#21033;&#29992; DMA &#25511;&#21046;&#22120;&#65292;&#25226;&#25968;&#25454;&#20174; socket &#32531;&#20914;&#21306;&#25335;&#36125;&#21040;&#32593;&#21345;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#20174;&#20869;&#26680;&#24577;&#20999;&#25442;&#22238;&#29992;&#25143;&#24577;
    </span>
   </strong>
   <span class="ne-text">
    &#65292;write &#35843;&#29992;&#36820;&#22238;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u3cd96c98">
  <br>
 </p>
 <p class="ne-p" id="ue4b7ad69">
  <span class="ne-text">
   &#21487;&#20197;&#21457;&#29616;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    mmap+write
   </span>
  </code>
  <span class="ne-text">
   &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;&#65292;I/O &#21457;&#29983;&#20102;
  </span>
  <strong>
   <span class="ne-text">
    4
   </span>
  </strong>
  <span class="ne-text">
   &#27425;&#29992;&#25143;&#31354;&#38388;&#19982;&#20869;&#26680;&#31354;&#38388;&#30340;&#19978;&#19979;&#25991;&#20999;&#25442;&#65292;&#20197;&#21450; 3 &#27425;&#25968;&#25454;&#25335;&#36125;&#12290;&#20854;&#20013; 3 &#27425;&#25968;&#25454;&#25335;&#36125;&#20013;&#65292;&#21253;&#25324;&#20102;
  </span>
  <strong>
   <span class="ne-text">
    2 &#27425; DMA &#25335;&#36125;&#21644; 1 &#27425; CPU &#25335;&#36125;
   </span>
  </strong>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="uefa8176b">
  <br>
 </p>
 <p class="ne-p" id="u2a219404">
  <code class="ne-code">
   <span class="ne-text">
    mmap
   </span>
  </code>
  <span class="ne-text">
   &#26159;&#23558;&#35835;&#32531;&#20914;&#21306;&#30340;&#22320;&#22336;&#21644;&#29992;&#25143;&#32531;&#20914;&#21306;&#30340;&#22320;&#22336;&#36827;&#34892;&#26144;&#23556;&#65292;&#20869;&#26680;&#32531;&#20914;&#21306;&#21644;&#24212;&#29992;&#32531;&#20914;&#21306;&#20849;&#20139;&#65292;&#25152;&#20197;&#33410;&#30465;&#20102;&#19968;&#27425; CPU &#25335;&#36125;&#8216;&#8217;&#24182;&#19988;&#29992;&#25143;&#36827;&#31243;&#20869;&#23384;&#26159;
  </span>
  <strong>
   <span class="ne-text">
    &#34394;&#25311;&#30340;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#21482;&#26159;
  </span>
  <strong>
   <span class="ne-text">
    &#26144;&#23556;
   </span>
  </strong>
  <span class="ne-text">
   &#21040;&#20869;&#26680;&#30340;&#35835;&#32531;&#20914;&#21306;&#65292;&#21487;&#20197;&#33410;&#30465;&#19968;&#21322;&#30340;&#20869;&#23384;&#31354;&#38388;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u7ad24759">
  <br>
 </p>
 <h3 id="c0e7b67e">
  <span class="ne-text">
   4.2 sendfile &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;
  </span>
 </h3>
 <p class="ne-p" id="uf742e21b">
  <br>
 </p>
 <p class="ne-p" id="u50e159dc">
  <code class="ne-code">
   <span class="ne-text">
    sendfile
   </span>
  </code>
  <span class="ne-text">
   &#26159; Linux2.1 &#20869;&#26680;&#29256;&#26412;&#21518;&#24341;&#20837;&#30340;&#19968;&#20010;&#31995;&#32479;&#35843;&#29992;&#20989;&#25968;&#65292;API &#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u94216233">
  <br>
 </p>
 <pre class="ne-codeblock language-c" data-language="c" id="caa5710d">ssize_t sendfile(int out_fd, int in_fd, off_t *offset, size_t count);</pre>
 <p class="ne-p" id="u8895fd47">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="ua06074bf">
   <code class="ne-code">
    <span class="ne-text">
     out_fd
    </span>
   </code>
   <span class="ne-text">
    :&#20026;&#24453;&#20889;&#20837;&#20869;&#23481;&#30340;&#25991;&#20214;&#25551;&#36848;&#31526;&#65292;&#19968;&#20010; socket &#25551;&#36848;&#31526;&#12290;&#65292;
   </span>
  </li>
  <li id="ua94b4eec">
   <code class="ne-code">
    <span class="ne-text">
     in_fd
    </span>
   </code>
   <span class="ne-text">
    :&#20026;&#24453;&#35835;&#20986;&#20869;&#23481;&#30340;&#25991;&#20214;&#25551;&#36848;&#31526;&#65292;&#24517;&#39035;&#26159;&#30495;&#23454;&#30340;&#25991;&#20214;&#65292;&#19981;&#33021;&#26159; socket &#21644;&#31649;&#36947;&#12290;
   </span>
  </li>
  <li id="u460bec30">
   <code class="ne-code">
    <span class="ne-text">
     offset
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#25351;&#23450;&#20174;&#35835;&#20837;&#25991;&#20214;&#30340;&#21738;&#20010;&#20301;&#32622;&#24320;&#22987;&#35835;&#65292;&#22914;&#26524;&#20026; NULL&#65292;&#34920;&#31034;&#25991;&#20214;&#30340;&#40664;&#35748;&#36215;&#22987;&#20301;&#32622;&#12290;
   </span>
  </li>
  <li id="u2fa83068">
   <code class="ne-code">
    <span class="ne-text">
     count
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#25351;&#23450;&#22312; fdout &#21644; fdin &#20043;&#38388;&#20256;&#36755;&#30340;&#23383;&#33410;&#25968;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u5ddc48fe">
  <br>
 </p>
 <p class="ne-p" id="u5bf96021">
  <code class="ne-code">
   <span class="ne-text">
    sendfile
   </span>
  </code>
  <span class="ne-text">
   &#34920;&#31034;&#22312;&#20004;&#20010;&#25991;&#20214;&#25551;&#36848;&#31526;&#20043;&#38388;&#20256;&#36755;&#25968;&#25454;&#65292;&#23427;&#26159;&#22312;
  </span>
  <strong>
   <span class="ne-text">
    &#25805;&#20316;&#31995;&#32479;&#20869;&#26680;
   </span>
  </strong>
  <span class="ne-text">
   &#20013;&#25805;&#20316;&#30340;&#65292;
  </span>
  <strong>
   <span class="ne-text">
    &#36991;&#20813;&#20102;&#25968;&#25454;&#20174;&#20869;&#26680;&#32531;&#20914;&#21306;&#21644;&#29992;&#25143;&#32531;&#20914;&#21306;&#20043;&#38388;&#30340;&#25335;&#36125;&#25805;&#20316;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#22240;&#27492;&#21487;&#20197;&#20351;&#29992;&#23427;&#26469;&#23454;&#29616;&#38646;&#25335;&#36125;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u03f522ff">
  <br>
 </p>
 <p class="ne-p" id="uac2ba893">
  <code class="ne-code">
   <span class="ne-text">
    sendfile
   </span>
  </code>
  <span class="ne-text">
   &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;&#27969;&#31243;&#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u4c0484be">
  <br>
 </p>
 <p class="ne-p" id="u249d8b59">
  <img class="ne-image" id="SVNw3" src="EPUB/imgSVNw3" width="1264">
 </p>
 <p class="ne-p" id="u34abbc9e">
  <br>
 </p>
 <ol class="ne-ol">
  <li id="u9fe787a4">
   <span class="ne-text">
    &#29992;&#25143;&#36827;&#31243;&#21457;&#36215; sendfile &#31995;&#32479;&#35843;&#29992;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#65288;&#20999;&#25442; 1&#65289;&#20174;&#29992;&#25143;&#24577;&#36716;&#21521;&#20869;&#26680;&#24577;
    </span>
   </strong>
  </li>
  <li id="ub17fc86b">
   <span class="ne-text">
    DMA &#25511;&#21046;&#22120;&#65292;&#25226;&#25968;&#25454;&#20174;&#30828;&#30424;&#20013;&#25335;&#36125;&#21040;&#20869;&#26680;&#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="ua6b24957">
   <span class="ne-text">
    CPU &#23558;&#35835;&#32531;&#20914;&#21306;&#20013;&#25968;&#25454;&#25335;&#36125;&#21040; socket &#32531;&#20914;&#21306;
   </span>
  </li>
  <li id="u8d4d0b21">
   <span class="ne-text">
    DMA &#25511;&#21046;&#22120;&#65292;&#24322;&#27493;&#25226;&#25968;&#25454;&#20174; socket &#32531;&#20914;&#21306;&#25335;&#36125;&#21040;&#32593;&#21345;&#65292;
   </span>
  </li>
  <li id="u137a85b2">
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#65288;&#20999;&#25442; 2&#65289;&#20174;&#20869;&#26680;&#24577;&#20999;&#25442;&#22238;&#29992;&#25143;&#24577;
    </span>
   </strong>
   <span class="ne-text">
    &#65292;sendfile &#35843;&#29992;&#36820;&#22238;&#12290;
   </span>
  </li>
 </ol>
 <p class="ne-p" id="u152f1ea5">
  <br>
 </p>
 <p class="ne-p" id="u569d0b10">
  <span class="ne-text">
   &#21487;&#20197;&#21457;&#29616;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    sendfile
   </span>
  </code>
  <span class="ne-text">
   &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;&#65292;I/O &#21457;&#29983;&#20102;
  </span>
  <strong>
   <span class="ne-text">
    2
   </span>
  </strong>
  <span class="ne-text">
   &#27425;&#29992;&#25143;&#31354;&#38388;&#19982;&#20869;&#26680;&#31354;&#38388;&#30340;&#19978;&#19979;&#25991;&#20999;&#25442;&#65292;&#20197;&#21450; 3 &#27425;&#25968;&#25454;&#25335;&#36125;&#12290;&#20854;&#20013; 3 &#27425;&#25968;&#25454;&#25335;&#36125;&#20013;&#65292;&#21253;&#25324;&#20102;
  </span>
  <strong>
   <span class="ne-text">
    2 &#27425; DMA &#25335;&#36125;&#21644; 1 &#27425; CPU &#25335;&#36125;
   </span>
  </strong>
  <span class="ne-text">
   &#12290;&#37027;&#33021;&#19981;&#33021;&#25226; CPU &#25335;&#36125;&#30340;&#27425;&#25968;&#20943;&#23569;&#21040; 0 &#27425;&#21602;&#65311;&#26377;&#30340;&#65292;&#21363;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    &#24102;&#26377;DMA&#25910;&#38598;&#25335;&#36125;&#21151;&#33021;&#30340;sendfile
   </span>
  </code>
  <span class="ne-text">
   &#65281;
  </span>
 </p>
 <p class="ne-p" id="u5067b4af">
  <br>
 </p>
 <h3 id="782ede0d">
  <span class="ne-text">
   4.3 sendfile+DMA scatter/gather &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;
  </span>
 </h3>
 <p class="ne-p" id="uf54f5cfc">
  <br>
 </p>
 <p class="ne-p" id="ue67361d0">
  <span class="ne-text">
   linux 2.4 &#29256;&#26412;&#20043;&#21518;&#65292;&#23545;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    sendfile
   </span>
  </code>
  <span class="ne-text">
   &#20570;&#20102;&#20248;&#21270;&#21319;&#32423;&#65292;&#24341;&#20837; SG-DMA &#25216;&#26415;&#65292;&#20854;&#23454;&#23601;&#26159;&#23545; DMA &#25335;&#36125;&#21152;&#20837;&#20102;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    scatter/gather
   </span>
  </code>
  <span class="ne-text">
   &#25805;&#20316;&#65292;&#23427;&#21487;&#20197;&#30452;&#25509;&#20174;&#20869;&#26680;&#31354;&#38388;&#32531;&#20914;&#21306;&#20013;&#23558;&#25968;&#25454;&#35835;&#21462;&#21040;&#32593;&#21345;&#12290;&#20351;&#29992;&#36825;&#20010;&#29305;&#28857;&#25630;&#38646;&#25335;&#36125;&#65292;&#21363;&#36824;&#21487;&#20197;&#22810;&#30465;&#21435;
  </span>
  <strong>
   <span class="ne-text">
    &#19968;&#27425; CPU &#25335;&#36125;
   </span>
  </strong>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="u3e8a106b">
  <br>
 </p>
 <p class="ne-p" id="u09b10160">
  <span class="ne-text">
   sendfile+DMA scatter/gather &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;&#27969;&#31243;&#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u4be7d3c5">
  <br>
 </p>
 <p class="ne-p" id="u7a5cd929">
  <img class="ne-image" id="HZBQ1" src="EPUB/imgHZBQ1" width="1422">
 </p>
 <p class="ne-p" id="uea6b477f">
  <br>
 </p>
 <ol class="ne-ol">
  <li id="u7476f9e7">
   <span class="ne-text">
    &#29992;&#25143;&#36827;&#31243;&#21457;&#36215; sendfile &#31995;&#32479;&#35843;&#29992;&#65292;
   </span>
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#65288;&#20999;&#25442; 1&#65289;&#20174;&#29992;&#25143;&#24577;&#36716;&#21521;&#20869;&#26680;&#24577;
    </span>
   </strong>
  </li>
  <li id="u9e35780f">
   <span class="ne-text">
    DMA &#25511;&#21046;&#22120;&#65292;&#25226;&#25968;&#25454;&#20174;&#30828;&#30424;&#20013;&#25335;&#36125;&#21040;&#20869;&#26680;&#32531;&#20914;&#21306;&#12290;
   </span>
  </li>
  <li id="u44fcb26d">
   <span class="ne-text">
    CPU &#25226;&#20869;&#26680;&#32531;&#20914;&#21306;&#20013;&#30340;
   </span>
   <strong>
    <span class="ne-text">
     &#25991;&#20214;&#25551;&#36848;&#31526;&#20449;&#24687;
    </span>
   </strong>
   <span class="ne-text">
    &#65288;&#21253;&#25324;&#20869;&#26680;&#32531;&#20914;&#21306;&#30340;&#20869;&#23384;&#22320;&#22336;&#21644;&#20559;&#31227;&#37327;&#65289;&#21457;&#36865;&#21040; socket &#32531;&#20914;&#21306;
   </span>
  </li>
  <li id="u270a2272">
   <span class="ne-text">
    DMA &#25511;&#21046;&#22120;&#26681;&#25454;&#25991;&#20214;&#25551;&#36848;&#31526;&#20449;&#24687;&#65292;&#30452;&#25509;&#25226;&#25968;&#25454;&#20174;&#20869;&#26680;&#32531;&#20914;&#21306;&#25335;&#36125;&#21040;&#32593;&#21345;
   </span>
  </li>
  <li id="u171876b3">
   <strong>
    <span class="ne-text">
     &#19978;&#19979;&#25991;&#65288;&#20999;&#25442; 2&#65289;&#20174;&#20869;&#26680;&#24577;&#20999;&#25442;&#22238;&#29992;&#25143;&#24577;
    </span>
   </strong>
   <span class="ne-text">
    &#65292;sendfile &#35843;&#29992;&#36820;&#22238;&#12290;
   </span>
  </li>
 </ol>
 <p class="ne-p" id="u9fabb2a3">
  <br>
 </p>
 <p class="ne-p" id="u7ecf9182">
  <span class="ne-text">
   &#21487;&#20197;&#21457;&#29616;&#65292;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    sendfile+DMA scatter/gather
   </span>
  </code>
  <span class="ne-text">
   &#23454;&#29616;&#30340;&#38646;&#25335;&#36125;&#65292;I/O &#21457;&#29983;&#20102;
  </span>
  <strong>
   <span class="ne-text">
    2
   </span>
  </strong>
  <span class="ne-text">
   &#27425;&#29992;&#25143;&#31354;&#38388;&#19982;&#20869;&#26680;&#31354;&#38388;&#30340;&#19978;&#19979;&#25991;&#20999;&#25442;&#65292;&#20197;&#21450; 2 &#27425;&#25968;&#25454;&#25335;&#36125;&#12290;&#20854;&#20013; 2 &#27425;&#25968;&#25454;&#25335;&#36125;&#37117;&#26159;&#21253;
  </span>
  <strong>
   <span class="ne-text">
    DMA &#25335;&#36125;
   </span>
  </strong>
  <span class="ne-text">
   &#12290;&#36825;&#23601;&#26159;&#30495;&#27491;&#30340;
  </span>
  <strong>
   <span class="ne-text">
    &#38646;&#25335;&#36125;&#65288;Zero-copy)
   </span>
  </strong>
  <span class="ne-text">
   &#25216;&#26415;&#65292;&#20840;&#31243;&#37117;&#27809;&#26377;&#36890;&#36807; CPU &#26469;&#25644;&#36816;&#25968;&#25454;&#65292;&#25152;&#26377;&#30340;&#25968;&#25454;&#37117;&#26159;&#36890;&#36807; DMA &#26469;&#36827;&#34892;&#20256;&#36755;&#30340;&#12290;
  </span>
 </p>
 <p class="ne-p" id="ued7c034a">
  <br>
 </p>
 <h2 id="f521162b">
  <span class="ne-text">
   5. java &#25552;&#20379;&#30340;&#38646;&#25335;&#36125;&#26041;&#24335;
  </span>
 </h2>
 <p class="ne-p" id="ud89cf72f">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u6caedc0c">
   <span class="ne-text">
    Java NIO &#23545; mmap &#30340;&#25903;&#25345;
   </span>
  </li>
  <li id="u182cc8fd">
   <span class="ne-text">
    Java NIO &#23545; sendfile &#30340;&#25903;&#25345;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="ud0b717eb">
  <br>
 </p>
 <h3 id="9127cbba">
  <span class="ne-text">
   5.1 Java NIO &#23545; mmap &#30340;&#25903;&#25345;
  </span>
 </h3>
 <p class="ne-p" id="u6f1cae7d">
  <br>
 </p>
 <p class="ne-p" id="u27120082">
  <span class="ne-text">
   Java NIO &#26377;&#19968;&#20010;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    MappedByteBuffer
   </span>
  </code>
  <span class="ne-text">
   &#30340;&#31867;&#65292;&#21487;&#20197;&#29992;&#26469;&#23454;&#29616;&#20869;&#23384;&#26144;&#23556;&#12290;&#23427;&#30340;&#24213;&#23618;&#26159;&#35843;&#29992;&#20102; Linux &#20869;&#26680;&#30340;
  </span>
  <strong>
   <span class="ne-text">
    mmap
   </span>
  </strong>
  <span class="ne-text">
   &#30340; API&#12290;
  </span>
 </p>
 <p class="ne-p" id="u1cd7b08e">
  <br>
 </p>
 <p class="ne-p" id="ua5f7547d">
  <strong>
   <span class="ne-text">
    mmap &#30340;&#23567; demo
   </span>
  </strong>
  <span class="ne-text">
   &#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u7888bf30">
  <br>
 </p>
 <pre class="ne-codeblock language-java" data-language="java" id="3937b989">public class MmapTest {

    public static void main(String[] args) {
        try {
            FileChannel readChannel = FileChannel.open(Paths.get("./jay.txt"), StandardOpenOption.READ);
            MappedByteBuffer data = readChannel.map(FileChannel.MapMode.READ_ONLY, 0, 1024 * 1024 * 40);
            FileChannel writeChannel = FileChannel.open(Paths.get("./siting.txt"), StandardOpenOption.WRITE, StandardOpenOption.CREATE);
            //&#25968;&#25454;&#20256;&#36755;
            writeChannel.write(data);
            readChannel.close();
            writeChannel.close();
        }catch (Exception e){
            System.out.println(e.getMessage());
        }
    }
}</pre>
 <p class="ne-p" id="ua8e912e1">
  <br>
 </p>
 <h3 id="a69615fb">
  <span class="ne-text">
   5.2 Java NIO &#23545; sendfile &#30340;&#25903;&#25345;
  </span>
 </h3>
 <p class="ne-p" id="u7190aec4">
  <br>
 </p>
 <p class="ne-p" id="uc10f4f7f">
  <span class="ne-text">
   FileChannel &#30340;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    transferTo()/transferFrom()
   </span>
  </code>
  <span class="ne-text">
   &#65292;&#24213;&#23618;&#23601;&#26159; sendfile() &#31995;&#32479;&#35843;&#29992;&#20989;&#25968;&#12290;Kafka &#36825;&#20010;&#24320;&#28304;&#39033;&#30446;&#23601;&#29992;&#21040;&#23427;&#65292;&#24179;&#26102;&#38754;&#35797;&#30340;&#26102;&#20505;&#65292;&#22238;&#31572;&#38754;&#35797;&#23448;&#20026;&#20160;&#20040;&#36825;&#20040;&#24555;&#65292;&#23601;&#21487;&#20197;&#25552;&#21040;&#38646;&#25335;&#36125;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    sendfile
   </span>
  </code>
  <span class="ne-text">
   &#36825;&#20010;&#28857;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u38350f14">
  <br>
 </p>
 <pre class="ne-codeblock language-java" data-language="java" id="2fc99ae3">@Override
public long transferFrom(FileChannel fileChannel, long position, long count) throws IOException {
   return fileChannel.transferTo(position, count, socketChannel);
}</pre>
 <p class="ne-p" id="uc8cd96eb">
  <br>
 </p>
 <p class="ne-p" id="uee7a3850">
  <strong>
   <span class="ne-text">
    sendfile &#30340;&#23567; demo
   </span>
  </strong>
  <span class="ne-text">
   &#22914;&#19979;&#65306;
  </span>
 </p>
 <p class="ne-p" id="ua78288eb">
  <br>
 </p>
 <pre class="ne-codeblock language-java" data-language="java" id="51998467">public class SendFileTest {
    public static void main(String[] args) {
        try {
            FileChannel readChannel = FileChannel.open(Paths.get("./jay.txt"), StandardOpenOption.READ);
            long len = readChannel.size();
            long position = readChannel.position();

            FileChannel writeChannel = FileChannel.open(Paths.get("./siting.txt"), StandardOpenOption.WRITE, StandardOpenOption.CREATE);
            //&#25968;&#25454;&#20256;&#36755;
            readChannel.transferTo(position, len, writeChannel);
            readChannel.close();
            writeChannel.close();
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }
}</pre>
 <p class="ne-p" id="uacbaf163">
  <br>
 </p>
 <h2 id="871ba716">
  <span class="ne-text">
   &#21442;&#32771;&#19982;&#24863;&#35874;
  </span>
 </h2>
 <p class="ne-p" id="u7e77ac18">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u61b1d59f">
   <a class="ne-link" data-href="https://juejin.cn/post/6887469050515947528" href="https://juejin.cn/post/6887469050515947528" target="_blank">
    <span class="ne-text">
     &#26694;&#26550;&#31687;&#65306;&#23567;&#30333;&#20063;&#33021;&#31186;&#25026;&#30340; Linux &#38646;&#25335;&#36125;&#21407;&#29702;
    </span>
   </a>
  </li>
  <li id="u432e0d0a">
   <a class="ne-link" data-href="https://juejin.cn/post/6844903949359644680#heading-11" href="https://juejin.cn/post/6844903949359644680#heading-11" target="_blank">
    <span class="ne-text">
     &#28145;&#20837;&#21078;&#26512; Linux IO &#21407;&#29702;&#21644;&#20960;&#31181;&#38646;&#25335;&#36125;&#26426;&#21046;&#30340;&#23454;&#29616;
    </span>
   </a>
  </li>
  <li id="uf0625940">
   <a class="ne-link" data-href="https://mp.weixin.qq.com/s/sG0rviJlhVtHzGfd5NoqDQ" href="https://mp.weixin.qq.com/s/sG0rviJlhVtHzGfd5NoqDQ" target="_blank">
    <span class="ne-text">
     &#38463;&#37324;&#20108;&#38754;&#65306;&#20160;&#20040;&#26159; mmap&#65311;
    </span>
   </a>
  </li>
 </ul>
</div>
</div>
</div>
