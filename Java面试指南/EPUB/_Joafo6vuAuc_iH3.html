
        <html lang="en">
        <head>
        <meta charset="UTF-8"/>
        </head>
        <body>
        <div><div class="markdown-body">
    <h1>Redis &#38598;&#32676;&#24120;&#35265;&#38754;&#35797;&#39064;&#24635;&#32467;</h1><div class="lake-content" typography="classic">
 <div class="ne-quote">
  <p class="ne-p" id="u7e3978fc">
   <strong>
    <span class="ne-text">
     &#30456;&#20851;&#38754;&#35797;&#39064;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;
   </span>
  </p>
  <p class="ne-p" id="u6714024f">
   <span class="ne-text">
   </span>
  </p>
  <ul class="ne-ul">
   <li id="u571596c6">
    <span class="ne-text">
     &#22914;&#20309;&#20445;&#35777; Redis &#26381;&#21153;&#39640;&#21487;&#29992;&#65311;
    </span>
   </li>
   <li id="ue9f4504e">
    <span class="ne-text">
     &#20027;&#20174;&#22797;&#21046;&#26041;&#26696;&#26159;&#24590;&#20040;&#20570;&#30340;&#65311;
    </span>
   </li>
   <li id="u1e1ea5cc">
    <span class="ne-text">
     Sentinel&#65288;&#21736;&#20853;&#65289; &#160;&#26377;&#20160;&#20040;&#20316;&#29992;&#65311;
    </span>
   </li>
   <li id="uea84ba4f">
    <span class="ne-text">
     Redis &#20026;&#20160;&#20040;&#35201;&#23558; Sentinel &#35774;&#35745;&#25104;&#20998;&#24067;&#24335;&#26550;&#26500;&#65311;
    </span>
   </li>
   <li id="u8d4a0e5e">
    <span class="ne-text">
     Sentinel &#36873;&#20030; Leader &#26159;&#22914;&#20309;&#36798;&#25104;&#20849;&#35782;&#30340;&#65311;
    </span>
   </li>
   <li id="ub950cc44">
    <span class="ne-text">
     Raft &#31639;&#27861;&#26377;&#20160;&#20040;&#20316;&#29992;&#65311;
    </span>
   </li>
   <li id="uea590047">
    <span class="ne-text">
     Redis &#32531;&#23384;&#30340;&#25968;&#25454;&#37327;&#22826;&#22823;&#24590;&#20040;&#21150;?
    </span>
   </li>
   <li id="u1f3d8786">
    <span class="ne-text">
     Redis Cluster &#34394;&#25311;&#27133;&#20998;&#21306;&#26377;&#20160;&#20040;&#20248;&#28857;&#65311;
    </span>
   </li>
   <li id="u5d187cda">
    <span class="ne-text">
     Gossip &#21327;&#35758;&#26377;&#20160;&#20040;&#20316;&#29992;&#65311;
    </span>
   </li>
   <li id="uc97a0df5">
    <span class="ne-text">
     ......
    </span>
   </li>
  </ul>
 </div>
 <p class="ne-p" id="ua446827e">
  <br>
 </p>
 <p class="ne-p" id="u044f4697">
  <span class="ne-text">
   &#21333;&#26426; Redis &#23384;&#22312;&#21333;&#28857;&#39118;&#38505;&#38382;&#39064;&#65292;&#22914;&#26524; Redis &#23445;&#26426;&#30340;&#35805;&#65292;&#23601;&#20250;&#23548;&#33268;&#22823;&#37327;&#30340;&#35831;&#27714;&#30452;&#25509;&#25171;&#21040;&#25968;&#25454;&#24211;&#65292;&#20005;&#37325;&#30340;&#24773;&#20917;&#19979;&#65292;&#25968;&#25454;&#24211;&#24456;&#21487;&#33021;&#20250;&#30452;&#25509;&#34987;&#25171;&#27515;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u5e6d8ddb">
  <br>
 </p>
 <p class="ne-p" id="ue245c1c7">
  <strong>
   <span class="ne-text">
    &#22914;&#20309;&#20445;&#35777; Redis &#26381;&#21153;&#30340;&#39640;&#21487;&#29992;&#21602;&#65311;
   </span>
  </strong>
  <span class="ne-text">
   &#25105;&#20204;&#21487;&#20197;&#22522;&#20110;&#20027;&#20174;&#22797;&#21046;&#25645;&#24314;&#19968;&#20010; Redis &#38598;&#32676;&#65292;master&#65288;&#20027;&#33410;&#28857;&#65289;&#20027;&#35201;&#36127;&#36131;&#22788;&#29702;&#20889;&#35831;&#27714;&#65292;slave&#65288;&#20174;&#33410;&#28857;&#65289;&#20027;&#35201;&#36127;&#36131;&#22788;&#29702;&#35835;&#35831;&#27714;&#65292;master &#23445;&#26426;&#30340;&#35805;&#65292;&#20174; slave &#20013;&#36873;&#20986;&#19968;&#21488;&#20316;&#20026; master &#21363;&#21487;&#65281;
  </span>
 </p>
 <p class="ne-p" id="u90560afb">
  <br>
 </p>
 <p class="ne-p" id="u20fd27e6">
  <span class="ne-text">
   Redis Sentinel&#65288;&#21736;&#20853;&#65289;&#23601;&#26159;&#19968;&#20010;&#22522;&#20110;&#20027;&#20174;&#22797;&#21046;&#30340; Redis &#38598;&#32676;&#35299;&#20915;&#26041;&#26696;&#12290;&#19981;&#36807;&#65292;Redis Sentinel &#36825;&#31181;&#26041;&#26696;&#20027;&#35201;&#26159;&#25552;&#39640;&#20102; Redis &#26381;&#21153;&#30340;&#21487;&#29992;&#24615;&#21644;&#35835;&#21534;&#21520;&#37327;&#65292;&#24182;&#19981;&#33021;&#32531;&#35299;&#20889;&#21387;&#21147;&#20197;&#21450;&#35299;&#20915;&#32531;&#23384;&#25968;&#25454;&#37327;&#36807;&#22823;&#30340;&#38382;&#39064;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u76e2e944">
  <br>
 </p>
 <p class="ne-p" id="u3e969ee4">
  <span class="ne-text">
   &#22914;&#26524;&#25105;&#20204;&#30340;&#32531;&#23384;&#30340;&#20889;&#35831;&#27714;&#27604;&#36739;&#22810;&#19988;&#38656;&#35201;&#32531;&#23384;&#30340;&#25968;&#25454;&#27604;&#36739;&#22823;&#30340;&#35805;&#65292;Redis Sentinel &#26159;&#27809;&#21150;&#27861;&#20570;&#21040;&#30340;&#65292;&#36825;&#20010;&#26102;&#20505;&#65292;&#25105;&#20204;&#23601;&#38656;&#35201;&#29992;&#21040; Redis &#20998;&#29255;&#38598;&#32676;&#20102;&#12290;Redis Cluster &#26159; Redis &#23448;&#26041;&#25512;&#20986;&#30340;&#20998;&#29255;&#38598;&#32676;&#35299;&#20915;&#26041;&#26696; &#12290;
  </span>
 </p>
 <p class="ne-p" id="uc33d0e29">
  <br>
 </p>
 <h2 id="DDm0n">
  <span class="ne-text">
   &#20027;&#20174;&#22797;&#21046;
  </span>
 </h2>
 <p class="ne-p" id="uf7d09f96">
  <br>
 </p>
 <p class="ne-p" id="u0c6f9cbd">
  <span class="ne-text">
   &#22312;&#20027;&#20174;&#22797;&#21046;&#36825;&#31181;&#26041;&#26696;&#19979;&#65292;&#25105;&#20204;&#36890;&#36807;
  </span>
  <a class="ne-link" data-href="https://redis.io/docs/manual/replication/" href="https://redis.io/docs/manual/replication/" target="_blank">
   <span class="ne-text">
    Redis replication
   </span>
  </a>
  <span class="ne-text">
   &#65288;Redis &#40664;&#35748;&#20351;&#29992;&#24322;&#27493;&#22797;&#21046;&#65289;&#26469;&#25645;&#24314;&#19968;&#20010;&#19968;&#20027;(master)&#22810;&#20174;(slave)&#30340; Redis &#26381;&#21153;&#26550;&#26500;&#26469;&#25552;&#39640;&#21487;&#29992;&#24615;&#21644;&#35835;&#21534;&#21520;&#37327;&#12290;master &#20027;&#35201;&#36127;&#36131;&#22788;&#29702;&#20889;&#35831;&#27714;&#65292;slave &#20027;&#35201;&#36127;&#36131;&#22788;&#29702;&#35835;&#35831;&#27714;&#65292;master &#23445;&#26426;&#30340;&#35805;&#65292;&#20174; slave &#20013;&#36873;&#20986;&#19968;&#21488;&#20316;&#20026; master &#21363;&#21487;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u5773779e">
  <br>
 </p>
 <p class="ne-p" id="ub77e517b">
  <img class="ne-image" id="y9FGt" src="EPUB/imgy9FGt" width="411">
 </p>
 <p class="ne-p" id="u9a2ada82">
  <br>
 </p>
 <p class="ne-p" id="u74fd88da">
  <strong>
   <span class="ne-text">
    &#20855;&#20307;&#35201;&#37197;&#32622;&#22810;&#23569; slave &#33410;&#28857;&#21602;&#65311;
   </span>
  </strong>
  <span class="ne-text">
   &#36825;&#20010;&#20027;&#35201;&#21462;&#20915;&#20110;&#35835;&#21534;&#21520;&#37327;&#65292;&#22240;&#20026; slave &#33410;&#28857;&#20998;&#25285;&#30340;&#26159;&#35835;&#35831;&#27714;&#65292;&#20889;&#35831;&#27714;&#30001; master &#33410;&#28857;&#36127;&#36131;&#12290;
  </span>
 </p>
 <p class="ne-p" id="uf53e175e">
  <br>
 </p>
 <p class="ne-p" id="ue781621f">
  <strong>
   <span class="ne-text">
    &#36825;&#26679;&#30340;&#26041;&#24335;&#26377;&#20160;&#20040;&#30171;&#28857;&#21602;&#65311;
   </span>
  </strong>
  <span class="ne-text">
   &#19968;&#26086; master &#23445;&#26426;&#65292;slave &#26187;&#21319;&#25104; master&#65292;&#21516;&#26102;&#38656;&#35201;&#20462;&#25913;&#24212;&#29992;&#26041;&#30340;&#20027;&#33410;&#28857;&#22320;&#22336;&#65292;&#36824;&#38656;&#35201;&#21629;&#20196;&#25152;&#26377;&#20174;&#33410;&#28857;&#21435;&#22797;&#21046;&#26032;&#30340;&#20027;&#33410;&#28857;&#65292;&#25972;&#20010;&#36807;&#31243;&#38656;&#35201;&#20154;&#24037;&#24178;&#39044;&#12290;&#20154;&#24037;&#24178;&#39044;&#22823;&#22823;&#22686;&#21152;&#20102;&#38382;&#39064;&#30340;&#22788;&#29702;&#26102;&#38388;&#20197;&#21450;&#20986;&#38169;&#30340;&#21487;&#33021;&#24615;&#65292;&#22914;&#26524;&#33021;&#22815;&#33258;&#21160;&#21270;&#22320;&#23436;&#25104;&#25925;&#38556;&#20999;&#25442;&#23601;&#22909;&#20102;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u41e44ed6">
  <br>
 </p>
 <p class="ne-p" id="u79f31242">
  <span class="ne-text">
   &#25509;&#19979;&#26469;&#20171;&#32461;&#30340; Redis Sentinel&#65288;&#21736;&#20853;&#65289;&#23601;&#21487;&#20197;&#24110;&#21161;&#25105;&#20204;&#26469;&#35299;&#20915;&#36825;&#20010;&#30171;&#28857;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u10586671">
  <br>
 </p>
 <p class="ne-p" id="u55976ed3">
  <span class="ne-text">
   &#31616;&#21333;&#24635;&#32467;&#19968;&#19979;&#20027;&#20174;&#22797;&#21046;&#36825;&#31181;&#26041;&#26696;&#30340;&#20248;&#32570;&#28857;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u61cc5588">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="u10e2fe4d">
   <strong>
    <span class="ne-text">
     &#20248;&#28857;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;master &#21457;&#29983;&#23445;&#26426;&#30340;&#35805;&#21487;&#20197;&#25163;&#21160;&#23558;&#26576;&#19968;&#21488; slave &#21319;&#32423;&#20026; master&#65292;Redis &#26381;&#21153;&#21487;&#29992;&#24615;&#25552;&#39640;&#12290;slave &#21487;&#20197;&#20998;&#25285;&#35835;&#35831;&#27714;&#65292;&#35835;&#21534;&#21520;&#37327;&#22823;&#24133;&#25552;&#39640;&#12290;
   </span>
  </li>
  <li id="ub96b0543">
   <strong>
    <span class="ne-text">
     &#32570;&#28857;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#25163;&#21160;&#23558; slave &#21319;&#32423;&#20026; master &#30340;&#36807;&#31243;&#36153;&#26102;&#19988;&#23481;&#26131;&#20986;&#38169;&#65292;&#65292;&#19981;&#25903;&#25345;&#27178;&#21521;&#25193;&#23637;&#26080;&#27861;&#32531;&#35299;&#20889;&#21387;&#21147;&#21644;&#23384;&#20648;&#21387;&#21147;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u308eef42">
  <br>
 </p>
 <h2 id="m9SPM">
  <span class="ne-text">
   Redis Sentinel
  </span>
 </h2>
 <p class="ne-p" id="u4480ebe6">
  <br>
 </p>
 <p class="ne-p" id="uabf560cc">
  <span class="ne-text">
   Sentinel&#65288;&#21736;&#20853;&#65289; &#26159; Redis &#30340;&#19968;&#31181;&#36816;&#34892;&#27169;&#24335; &#65292;&#23427;&#20027;&#35201;&#30340;&#20316;&#29992;&#23601;&#26159;&#23545; Redis &#36816;&#34892;&#33410;&#28857;&#36827;&#34892;&#30417;&#25511;&#12290;&#24403; master &#33410;&#28857;&#20986;&#29616;&#25925;&#38556;&#30340;&#26102;&#20505;&#65292; Sentinel &#20250;&#24110;&#21161;&#25105;&#20204;&#23454;&#29616;&#25925;&#38556;&#36716;&#31227;&#65292;&#33258;&#21160;&#23558;&#26576;&#19968;&#21488; slave &#21319;&#32423;&#20026; master&#65292;&#30830;&#20445;&#25972;&#20010; Redis &#31995;&#32479;&#30340;&#21487;&#29992;&#24615;&#12290;&#25972;&#20010;&#36807;&#31243;&#23436;&#20840;&#33258;&#21160;&#65292;&#19981;&#38656;&#35201;&#20154;&#24037;&#20171;&#20837;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u96294234">
  <br>
 </p>
 <p class="ne-p" id="ucc86733c">
  <span class="ne-text">
   Sentinel &#27169;&#24335;&#22522;&#20110;&#20027;&#20174;&#22797;&#21046;&#65292;&#21482;&#26159;&#22810;&#20102;&#19968;&#20010; Sentinel &#35282;&#33394;&#26469;&#24110;&#21161;&#25105;&#20204;&#30417;&#25511; Redis &#33410;&#28857;&#30340;&#36816;&#34892;&#29366;&#24577;&#24182;&#33258;&#21160;&#23454;&#29616;&#25925;&#38556;&#36716;&#31227;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u795559db">
  <br>
 </p>
 <p class="ne-p" id="ueae73940">
  <img class="ne-image" id="VuzcJ" src="EPUB/imgVuzcJ" width="741">
 </p>
 <p class="ne-p" id="u842140e0">
  <br>
 </p>
 <p class="ne-p" id="u66422cc0">
  <span class="ne-text">
   &#26681;&#25454;
  </span>
  <a class="ne-link" data-href="https://redis.io/topics/sentinel" href="https://redis.io/topics/sentinel" target="_blank">
   <span class="ne-text">
    Redis Sentinel &#23448;&#26041;&#25991;&#26723;
   </span>
  </a>
  <span class="ne-text">
   &#65292;Sentinel &#33410;&#28857;&#20027;&#35201;&#26377;&#19979;&#38754;&#36825;&#20123;&#20316;&#29992;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u932e8415">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="udc524203">
   <strong>
    <span class="ne-text">
     &#30417;&#25511;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#30417;&#25511;&#25152;&#26377; Redis &#33410;&#28857;&#30340;&#29366;&#24577;&#26159;&#21542;&#27491;&#24120;&#12290;
   </span>
  </li>
  <li id="u2b17e919">
   <strong>
    <span class="ne-text">
     &#36890;&#30693;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#21487;&#20197;&#36890;&#36807; API &#36890;&#30693;&#31995;&#32479;&#31649;&#29702;&#21592;&#25110;&#20854;&#20182;&#35745;&#31639;&#26426;&#31243;&#24207;&#65292;&#20854;&#20013;&#19968;&#20010;&#21463;&#30417;&#25511;&#30340; Redis &#23454;&#20363;&#20986;&#29616;&#38382;&#39064;&#12290;
   </span>
  </li>
  <li id="ub8296e66">
   <strong>
    <span class="ne-text">
     &#25925;&#38556;&#36716;&#31227;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#22914;&#26524;&#19968;&#20010; master &#20986;&#29616;&#25925;&#38556;&#65292;Sentinel &#20250;&#24110;&#21161;&#25105;&#20204;&#23454;&#29616;&#25925;&#38556;&#36716;&#31227;&#65292;&#33258;&#21160;&#23558;&#26576;&#19968;&#21488; slave &#21319;&#32423;&#20026; master&#65292;&#30830;&#20445;&#25972;&#20010; Redis &#31995;&#32479;&#30340;&#21487;&#29992;&#24615;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="ubb0e2655">
  <br>
 </p>
 <p class="ne-p" id="ubd112d2b">
  <span class="ne-text">
   Redis Sentinel &#26412;&#36523;&#35774;&#35745;&#30340;&#23601;&#26159;&#19968;&#20010;&#20998;&#24067;&#24335;&#31995;&#32479;&#65292;&#24314;&#35758;&#22810;&#20010; Sentinel &#33410;&#28857;&#21327;&#20316;&#36816;&#34892;&#12290;&#36825;&#26679;&#20570;&#30340;&#22909;&#22788;&#26159;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u6ede5a0a">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="udf982b18">
   <span class="ne-text">
    &#22810;&#20010; Sentinel &#33410;&#28857;&#36890;&#36807;&#25237;&#31080;&#30340;&#26041;&#24335;&#26469;&#30830;&#23450; Sentinel &#33410;&#28857;&#26159;&#21542;&#30495;&#30340;&#19981;&#21487;&#29992;&#65292;&#36991;&#20813;&#35823;&#21028;&#65288;&#27604;&#22914;&#32593;&#32476;&#38382;&#39064;&#21487;&#33021;&#20250;&#23548;&#33268;&#35823;&#21028;&#65289;&#12290;
   </span>
  </li>
  <li id="u154b289b">
   <span class="ne-text">
    Sentinel &#33258;&#36523;&#23601;&#26159;&#39640;&#21487;&#29992;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u6cad4a67">
  <br>
 </p>
 <p class="ne-p" id="u09f12b67">
  <span class="ne-text">
   Sentinel &#20063;&#26159;&#19968;&#20010; Redis &#36827;&#31243;&#65292;&#21482;&#26159;&#19981;&#23545;&#22806;&#25552;&#20379;&#35835;&#20889;&#26381;&#21153;&#65292;&#36890;&#24120;&#24314;&#35758;&#21736;&#20853;&#37197;&#32622;&#25104;&#21333;&#25968;&#65288;&#22823;&#20110;&#31561;&#20110; 3 &#21488;&#65289;&#12290;
  </span>
 </p>
 <p class="ne-p" id="ubfd89c92">
  <br>
 </p>
 <p class="ne-p" id="uda0175c1">
  <span class="ne-text">
   &#22312;&#36825;&#20123; Sentinel &#20013;&#20250;&#26377;&#19968;&#20010;
  </span>
  <strong>
   <span class="ne-text">
    Leader
   </span>
  </strong>
  <span class="ne-text">
   &#30340;&#35282;&#33394;&#26469;&#36127;&#36131;&#25925;&#38556;&#36716;&#31227;&#12290;
  </span>
 </p>
 <p class="ne-p" id="uccd88175">
  <br>
 </p>
 <p class="ne-p" id="u5a9c2fe5">
  <strong>
   <span class="ne-text">
    &#22914;&#20309;&#36873;&#25321;&#20986; Leader &#35282;&#33394;&#21602;&#65311;
   </span>
  </strong>
  <span class="ne-text">
   &#36825;&#23601;&#38656;&#35201;&#29992;&#21040;&#20998;&#24067;&#24335;&#39046;&#22495;&#30340;
  </span>
  <strong>
   <span class="ne-text">
    &#20849;&#35782;&#31639;&#27861;
   </span>
  </strong>
  <span class="ne-text">
   &#20102;&#12290;&#31616;&#21333;&#26469;&#35828;&#65292;&#20849;&#35782;&#31639;&#27861;&#23601;&#26159;&#35753;&#20998;&#24067;&#24335;&#31995;&#32479;&#20013;&#30340;&#33410;&#28857;&#23601;&#19968;&#20010;&#38382;&#39064;&#36798;&#25104;&#20849;&#35782;&#12290;&#22312; Sentinel &#36873;&#20030; Leader &#36825;&#20010;&#22330;&#26223;&#19979;&#65292;&#36825;&#20123; Sentinel &#35201;&#36798;&#25104;&#30340;&#20849;&#35782;&#23601;&#26159;&#35841;&#25165;&#26159; Leader &#12290;
  </span>
 </p>
 <p class="ne-p" id="u070f95ea">
  <br>
 </p>
 <p class="ne-p" id="uaf65ac06">
  <span class="ne-text">
   &#22823;&#37096;&#20998;&#20849;&#35782;&#31639;&#27861;&#37117;&#26159;&#22522;&#20110; Paxos &#31639;&#27861;&#25913;&#36827;&#32780;&#26469;&#65292;&#22312; Sentinel &#36873;&#20030; Leader &#36825;&#20010;&#22330;&#26223;&#19979;&#20351;&#29992;&#30340;&#26159;
  </span>
  <a class="ne-link" data-href="https://javaguide.cn/distributed-system/theorem&amp;algorithm&amp;protocol/raft-algorithm.html" href="https://javaguide.cn/distributed-system/theorem&amp;algorithm&amp;protocol/raft-algorithm.html" target="_blank">
   <strong>
    <span class="ne-text">
     Raft &#31639;&#27861;
    </span>
   </strong>
  </a>
  <span class="ne-text">
   &#12290;&#36825;&#26159;&#19968;&#20010;&#27604; Paxos &#31639;&#27861;&#26356;&#26131;&#29702;&#35299;&#21644;&#23454;&#29616;&#30340;&#20849;&#35782;&#31639;&#27861;&#8212;Raft &#31639;&#27861;&#12290;&#26356;&#20855;&#20307;&#28857;&#26469;&#35828;&#65292;Raft &#26159; Multi-Paxos &#30340;&#19968;&#20010;&#21464;&#31181;&#65292;&#20854;&#31616;&#21270;&#20102; Multi-Paxos &#30340;&#24605;&#24819;&#65292;&#21464;&#24471;&#26356;&#23481;&#26131;&#34987;&#29702;&#35299;&#20197;&#21450;&#24037;&#31243;&#23454;&#29616;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u183b9ad7">
  <br>
 </p>
 <p class="ne-p" id="u2da0cb6b">
  <span class="ne-text">
   &#31616;&#21333;&#24635;&#32467;&#19968;&#19979;&#20027;&#20174;&#22797;&#21046;&#36825;&#31181;&#26041;&#26696;&#30340;&#20248;&#32570;&#28857;&#65306;
  </span>
 </p>
 <p class="ne-p" id="ud9d6f0d6">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="uf7c74741">
   <strong>
    <span class="ne-text">
     &#20248;&#28857;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#25903;&#25345;&#25925;&#38556;&#33258;&#21160;&#20999;&#25442;&#12290;
   </span>
  </li>
  <li id="ua18df714">
   <strong>
    <span class="ne-text">
     &#32570;&#28857;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#37096;&#32626;&#30456;&#23545;&#40635;&#28902;&#19988;&#38656;&#35201;&#32791;&#36153;&#26356;&#22810;&#30340;&#26381;&#21153;&#22120;&#36164;&#28304;&#65292;&#19981;&#25903;&#25345;&#27178;&#21521;&#25193;&#23637;&#26080;&#27861;&#32531;&#35299;&#20889;&#21387;&#21147;&#21644;&#23384;&#20648;&#21387;&#21147;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="ucb788199">
  <br>
 </p>
 <h2 id="f1g6v">
  <span class="ne-text">
   Redis Cluster
  </span>
 </h2>
 <p class="ne-p" id="u2d2d6f26">
  <br>
 </p>
 <p class="ne-p" id="u237127f9">
  <span class="ne-text">
   &#20027;&#20174;&#22797;&#21046;&#21644; Redis Sentinel &#26041;&#26696;&#26412;&#36136;&#37117;&#26159;&#36890;&#36807;&#22686;&#21152;&#21103;&#26412;&#30340;&#26041;&#24335;&#25552;&#39640;&#20102; Redis &#26381;&#21153;&#30340;&#21487;&#29992;&#24615;&#21644;&#35835;&#21534;&#21520;&#37327;&#12290;&#36825;&#20004;&#31181;&#26041;&#26696;&#37117;&#19981;&#25903;&#25345;&#27178;&#21521;&#25193;&#23637;&#26469;&#32531;&#35299;&#20889;&#21387;&#21147;&#20197;&#21450;&#35299;&#20915;&#32531;&#23384;&#25968;&#25454;&#37327;&#36807;&#22823;&#30340;&#38382;&#39064;&#12290;
  </span>
 </p>
 <p class="ne-p" id="uc35db00a">
  <br>
 </p>
 <p class="ne-p" id="ud635c30a">
  <span class="ne-text">
   &#22914;&#26524;&#20889;&#21387;&#21147;&#22826;&#22823;&#25110;&#32773;&#32531;&#23384;&#25968;&#25454;&#37327;&#22826;&#22823;&#30340;&#35805;&#65292;&#25105;&#20204;&#21487;&#20197;&#25552;&#39640;&#26381;&#21153;&#22120;&#30828;&#20214;&#37197;&#32622;&#25110;&#32773;&#37319;&#29992; Redis &#20999;&#29255;&#38598;&#32676;&#12290;
  </span>
 </p>
 <p class="ne-p" id="ude5f9cf3">
  <br>
 </p>
 <p class="ne-p" id="ubbe36650">
  <strong>
   <span class="ne-text">
    &#20160;&#20040;&#26159; Redis &#20999;&#29255;&#38598;&#32676;&#65311;
   </span>
  </strong>
  <span class="ne-text">
   &#31616;&#21333;&#26469;&#35828;&#65292;&#23601;&#26159;&#37096;&#32626;&#22810;&#21488; Redis &#23454;&#20363;&#65292;&#36825;&#20123; Redis &#31034;&#20363;&#20043;&#38388;&#24179;&#31561;&#65292;&#24182;&#27809;&#26377;&#20027;&#20174;&#20043;&#35828;&#65292;&#23427;&#20204;&#21516;&#26102;&#23545;&#22806;&#25552;&#20379;&#35835;/&#20889;&#26381;&#21153;&#65292;&#32531;&#23384;&#30340;&#25968;&#25454;&#24211;&#30456;&#23545;&#22343;&#21248;&#22320;&#20998;&#24067;&#22312;&#36825;&#20123; Redis &#23454;&#20363;&#19978;&#12290;Redis &#20999;&#29255;&#38598;&#32676;&#23545;&#20110;&#27178;&#21521;&#25193;&#23637;&#38750;&#24120;&#21451;&#22909;&#65292;&#21482;&#38656;&#35201;&#22686;&#21152; Redis &#23454;&#20363;&#21040;&#38598;&#32676;&#20013;&#21363;&#21487;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u900fe1ae">
  <br>
 </p>
 <p class="ne-p" id="u559771ee">
  <strong>
   <span class="ne-text">
    Redis &#20999;&#29255;&#38598;&#32676;&#24212;&#35813;&#24590;&#20040;&#20570;&#21602;&#65311;
   </span>
  </strong>
  <span class="ne-text">
   &#22312; Redis 3.0 &#20043;&#21069;&#65292;&#25105;&#20204;&#36890;&#24120;&#20351;&#29992;&#30340;&#26159; Twemproxy&#12289;Codis &#31561;&#20998;&#29255;&#38598;&#32676;&#26041;&#26696;&#12290;&#21040;&#20102; Redis 3.0 &#30340;&#26102;&#20505;&#65292;Redis &#23448;&#26041;&#25512;&#20986;&#20102;&#20998;&#29255;&#38598;&#32676;&#35299;&#20915;&#26041;&#26696; -
  </span>
  <a class="ne-link" data-href="https://redis.io/topics/cluster-tutorial" href="https://redis.io/topics/cluster-tutorial" target="_blank">
   <strong>
    <span class="ne-text">
     Redis Cluster
    </span>
   </strong>
  </a>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="u31c6c2db">
  <br>
 </p>
 <p class="ne-p" id="u7cb4cac7">
  <img class="ne-image" id="KXb8T" src="EPUB/imgKXb8T" width="1084">
 </p>
 <p class="ne-p" id="u2811e60e">
  <br>
 </p>
 <p class="ne-p" id="uc573e743">
  <span class="ne-text">
   Redis Cluster &#36890;&#36807;&#20998;&#29255;&#65288;sharding&#65289;&#26469;&#36827;&#34892;&#25968;&#25454;&#31649;&#29702;&#65292;&#25552;&#20379;&#22797;&#21046;&#21644;&#25925;&#38556;&#36716;&#31227;&#31561;&#21151;&#33021;&#65292;&#21487;&#20197;&#38750;&#24120;&#26041;&#20415;&#22320;&#24110;&#21161;&#25105;&#20204;&#35299;&#20915; Redis &#22823;&#25968;&#25454;&#37327;&#32531;&#23384;&#30340;&#38382;&#39064;&#12290;&#24182;&#19988;&#65292;&#36825;&#31181;&#26041;&#26696;&#21487;&#20197;&#24456;&#26041;&#20415;&#22320;&#36827;&#34892;&#27178;&#21521;&#25299;&#23637;&#65288;&#22686;&#21152; Redis &#26426;&#22120;&#65289;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u038dfc64">
  <br>
 </p>
 <p class="ne-p" id="ud5fe3dbf">
  <span class="ne-text">
   Redis Cluster &#24182;&#27809;&#26377;&#20351;&#29992;&#19968;&#33268;&#24615;&#21704;&#24076;&#65292;&#37319;&#29992;&#30340;&#26159;
  </span>
  <strong>
   <span class="ne-text">
    &#34394;&#25311;&#27133;&#20998;&#21306;
   </span>
  </strong>
  <span class="ne-text">
   &#65292;&#27599;&#19968;&#20010;&#38190;&#20540;&#23545;&#37117;&#23646;&#20110;&#19968;&#20010;
  </span>
  <strong>
   <span class="ne-text">
    hash slot
   </span>
  </strong>
  <span class="ne-text">
   &#65288; &#34394;&#25311;&#27133;&#65289; &#12290;
  </span>
 </p>
 <p class="ne-p" id="u4e13b359">
  <br>
 </p>
 <p class="ne-p" id="ud4be3619">
  <span class="ne-text">
   Redis Cluster &#36890;&#24120;&#26377; 16384 hash slots &#65292;&#35201;&#35745;&#31639;&#32473;&#23450; key &#30340; hash slot &#65292;&#25105;&#20204;&#21482;&#38656;&#35201;&#36890;&#36807;&#23545;&#27599;&#20010; key &#35745;&#31639; CRC16 &#20540;&#65292;&#28982;&#21518;&#23545; 16384(hash slot &#30340;&#25968;&#37327;) &#21462;&#27169;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u2a3168ae">
  <br>
 </p>
 <pre class="ne-codeblock language-c" data-language="c" id="MxRjH">slot = crc16("foo") mod NUMER_SLOTS</pre>
 <p class="ne-p" id="u897c1f77">
  <br>
 </p>
 <p class="ne-p" id="ua8a49836">
  <span class="ne-text">
   &#20551;&#35774;&#38598;&#32676;&#26377; 3 &#20010; Redis &#33410;&#28857;&#32452;&#25104;&#65292;&#27599;&#20010;&#33410;&#28857;&#36127;&#36131;&#25972;&#20010;&#38598;&#32676;&#30340;&#19968;&#37096;&#20998;&#25968;&#25454;&#65306;
  </span>
 </p>
 <p class="ne-p" id="uf6f7abf0">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="uc64890e2">
   <span class="ne-text">
    Node 1 &#65306; 0 - 5500 &#30340; hash slot.
   </span>
  </li>
  <li id="ueafeee4b">
   <span class="ne-text">
    Node 2 &#65306; 5501 - 11000 &#30340; hash slot. .
   </span>
  </li>
  <li id="ude654e0d">
   <span class="ne-text">
    Node 3 &#65306; 11001 - 16383 &#30340; hash slot..
   </span>
  </li>
 </ul>
 <p class="ne-p" id="ueee3d298">
  <br>
 </p>
 <p class="ne-p" id="u2071cd5e">
  <span class="ne-text">
   Redis Cluster &#26159;&#21435;&#20013;&#24515;&#21270;&#30340;&#65292;&#20219;&#20309;&#19968;&#21488;&#26426;&#22120;&#23445;&#26426;&#65292;&#21478;&#22806;&#20004;&#20010;&#33410;&#28857;&#65292;&#19981;&#24433;&#21709;&#30340;&#12290;&#22240;&#20026; key &#25214;&#30340;&#26159; hash slot&#65292;&#19981;&#26159;&#26426;&#22120;&#12290;&#24182;&#19988;&#65292;&#25105;&#20204;&#24819;&#35201;&#28155;&#21152;&#26032;&#30340;&#33410;&#28857;&#27604;&#22914; Node4 &#36827;&#20837; Redis Cluster &#20063;&#38750;&#24120;&#26041;&#20415;&#65292;&#21482;&#38656;&#35201;&#23558;&#19968;&#20123; hash slot &#20174; &#33410;&#28857; Node1&#65292;Node2&#65292;Node3 &#31227;&#21160;&#21040; Node4 &#21363;&#21487;&#12290;
  </span>
 </p>
 <p class="ne-p" id="u1c48f436">
  <br>
 </p>
 <p class="ne-p" id="ub022a7ad">
  <span class="ne-text">
   &#20174;&#19978;&#38754;&#30340;&#20171;&#32461;&#20013;&#65292;&#25105;&#20204;&#21487;&#20197;&#31616;&#21333;&#24635;&#32467;&#20986; Redis Cluster &#34394;&#25311;&#27133;&#20998;&#21306;&#26426;&#21046;&#30340;&#26377;&#28857;&#65306;
  </span>
  <strong>
   <span class="ne-text">
    &#35299;&#32806;&#20102;&#25968;&#25454;&#21644;&#33410;&#28857;&#20043;&#38388;&#30340;&#20851;&#31995;&#65292;&#25552;&#21319;&#20102;&#38598;&#32676;&#30340;&#27178;&#21521;&#25193;&#23637;&#24615;&#21644;&#23481;&#38169;&#24615;&#12290;
   </span>
  </strong>
 </p>
 <p class="ne-p" id="u75e825ab">
  <br>
 </p>
 <p class="ne-p" id="udabdb6ce">
  <span class="ne-text">
   Redis Cluster &#26159;&#19968;&#20010;&#20856;&#22411;&#30340;&#20998;&#24067;&#24335;&#31995;&#32479;&#65292;&#20998;&#24067;&#24335;&#31995;&#32479;&#20013;&#30340;&#21508;&#20010;&#33410;&#28857;&#38656;&#35201;&#20114;&#30456;&#36890;&#20449;&#12290;&#26082;&#28982;&#35201;&#30456;&#20114;&#36890;&#20449;&#23601;&#35201;&#36981;&#24490;&#19968;&#33268;&#30340;&#36890;&#20449;&#21327;&#35758;&#65292;Redis Cluster &#20013;&#30340;&#21508;&#20010;&#33410;&#28857;&#22522;&#20110;
  </span>
  <strong>
   <span class="ne-text">
    Gossip &#21327;&#35758;
   </span>
  </strong>
  <span class="ne-text">
   &#26469;&#23454;&#29616;&#25968;&#25454;&#30340;&#26368;&#32456;&#19968;&#33268;&#24615;&#65288;&#27599;&#20010; Redis &#33410;&#28857;&#37117;&#32500;&#25252;&#20102;&#19968;&#20221;&#38598;&#32676;&#30340;&#29366;&#24577;&#20449;&#24687;&#65289;&#12290;
  </span>
 </p>
 <p class="ne-p" id="ue0b3c9fc">
  <br>
 </p>
 <p class="ne-p" id="ub735defb">
  <span class="ne-text">
   Gossip &#21327;&#35758;&#26159;&#20998;&#24067;&#24335;&#31995;&#32479;&#20013;&#38750;&#24120;&#37325;&#35201;&#30340;&#19968;&#20010;&#21327;&#35758;&#65292;&#25105;&#30340;&#24314;&#35758;&#26159;&#23398;&#26377;&#20313;&#21147;&#30340;&#23567;&#20249;&#20276;&#23613;&#37327;&#35201;&#25630;&#25026;&#12290;&#19981;&#36807;&#65292;&#36825;&#20010;&#22312;&#38754;&#35797;&#20013;&#38382;&#30340;&#20063;&#19981;&#22810;&#65292;&#38500;&#38750;&#26159;&#20320;&#22312;&#31616;&#21382;&#19978;&#20889;&#20102;&#33258;&#24049;&#29087;&#24713; Gossip &#21327;&#35758;&#12290;&#20851;&#20110; Gossip &#21327;&#35758;&#30340;&#35814;&#32454;&#35299;&#35835;&#65292;&#25512;&#33616;&#20320;&#30475;&#30475;&#19979;&#38754;&#36825;&#20004;&#31687;&#25991;&#31456;&#65306;
  </span>
 </p>
 <p class="ne-p" id="uba8d5409">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="ub22351d1">
   <a class="ne-link" data-href="https://segmentfault.com/a/1190000038373546" href="https://segmentfault.com/a/1190000038373546" target="_blank">
    <span class="ne-text">
     &#19968;&#19975;&#23383;&#35814;&#35299; Redis Cluster Gossip &#21327;&#35758; - &#31243;&#24207;&#21592;&#21382;&#23567;&#20912;
    </span>
   </a>
   <span class="ne-text">
    &#65306;&#28145;&#24230;&#22909;&#25991;&#65281;
   </span>
  </li>
  <li id="ubb2869dc">
   <a class="ne-link" data-href="https://cristian.regolo.cc/2015/09/05/life-in-a-redis-cluster.html" href="https://cristian.regolo.cc/2015/09/05/life-in-a-redis-cluster.html" target="_blank">
    <span class="ne-text">
     Life in a Redis Cluster: Meet and Gossip with your neighbors
    </span>
   </a>
   <span class="ne-text">
    &#65306;&#21160;&#22270;&#35762;&#35299;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u897bb194">
  <br>
 </p>
 <p class="ne-p" id="u847265c0">
  <span class="ne-text">
   Redis Cluster &#21508;&#20010;&#33410;&#28857;&#36890;&#20449;&#20027;&#35201;&#20132;&#25442;&#30340;&#20449;&#24687;&#21253;&#25324;&#65306;
  </span>
 </p>
 <p class="ne-p" id="u8935c4c8">
  <br>
 </p>
 <ol class="ne-ol">
  <li id="u6ecc4907">
   <code class="ne-code">
    <span class="ne-text">
     myslots
    </span>
   </code>
   <span class="ne-text">
    &#65306;&#24403;&#21069;&#33410;&#28857;&#25152;&#36127;&#36131;&#30340; slots &#20449;&#24687;
   </span>
  </li>
  <li id="u8afa505e">
   <code class="ne-code">
    <span class="ne-text">
     flags
    </span>
   </code>
   <span class="ne-text">
    : &#24403;&#21069;&#33410;&#28857;&#24403;&#21069;&#30340;&#29366;&#24577;
   </span>
  </li>
  <li id="ueffd8742">
   <span class="ne-text">
    ......
   </span>
  </li>
 </ol>
 <p class="ne-p" id="ud121fde8">
  <br>
 </p>
 <p class="ne-p" id="u7980551c">
  <span class="ne-text">
   Redis Cluster &#20132;&#25442;&#25152;&#29992;&#30340;&#28040;&#24687;&#20307;&#32467;&#26500;
  </span>
  <code class="ne-code">
   <span class="ne-text">
    clusterMsg
   </span>
  </code>
  <span class="ne-text">
   &#28304;&#30721;&#22914;&#19979; &#65292;&#22320;&#22336;&#65306;
  </span>
  <a class="ne-link" data-href="https://github.com/redis/redis/blob/d96f47cf06/src/cluster.h" href="https://github.com/redis/redis/blob/d96f47cf06/src/cluster.h" target="_blank">
   <span class="ne-text">
    https://github.com/redis/redis/blob/d96f47cf06/src/cluster.h
   </span>
  </a>
  <span class="ne-text">
   &#12290;
  </span>
 </p>
 <p class="ne-p" id="u1df899c5">
  <br>
 </p>
 <pre class="ne-codeblock language-c" data-language="c" id="RugmR">typedef struct {
    char sig[4];        /* Signature "RCmb" (Redis Cluster message bus). */
    uint32_t totlen;    /* Total length of this message */
    uint16_t ver;       /* Protocol version, currently set to 1. */
    uint16_t port;      /* TCP base port number. */
    uint16_t type;      /* Message type */
    uint16_t count;     /* Only used for some kind of messages. */
    uint64_t currentEpoch;  /* The epoch accordingly to the sending node. */
    uint64_t configEpoch;   /* The config epoch if it's a master, or the last
                               epoch advertised by its master if it is a
                               slave. */
    uint64_t offset;    /* Master replication offset if node is a master or
                           processed replication offset if node is a slave. */
    char sender[CLUSTER_NAMELEN]; /* Name of the sender node */
    unsigned char myslots[CLUSTER_SLOTS/8];
    char slaveof[CLUSTER_NAMELEN];
    char myip[NET_IP_STR_LEN];    /* Sender IP, if not all zeroed. */
    char notused1[32];  /* 32 bytes reserved for future usage. */
    uint16_t pport;      /* Sender TCP plaintext port, if base port is TLS */
    uint16_t cport;      /* Sender TCP cluster bus port */
    uint16_t flags;      /* Sender node flags */
    unsigned char state; /* Cluster state from the POV of the sender */
    unsigned char mflags[3]; /* Message flags: CLUSTERMSG_FLAG[012]_... */
    union clusterMsgData data;
} clusterMsg;</pre>
 <p class="ne-p" id="u80cd383a">
  <br>
 </p>
 <p class="ne-p" id="ub0d29715">
  <span class="ne-text">
   &#31616;&#21333;&#24635;&#32467;&#19968;&#19979; Redis Cluster &#36825;&#31181;&#26041;&#26696;&#30340;&#20248;&#32570;&#28857;&#65306;
  </span>
 </p>
 <p class="ne-p" id="ue2854e24">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="uf6186cba">
   <strong>
    <span class="ne-text">
     &#20248;&#28857;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#21487;&#20197;&#27178;&#21521;&#25193;&#23637;&#32531;&#35299;&#20889;&#21387;&#21147;&#21644;&#23384;&#20648;&#21387;&#21147;&#65292;&#20855;&#22791;&#25925;&#38556;&#36716;&#31227;&#21151;&#33021;&#12290;
   </span>
  </li>
  <li id="u1b78c7ba">
   <strong>
    <span class="ne-text">
     &#32570;&#28857;
    </span>
   </strong>
   <span class="ne-text">
    &#65306;&#38656;&#35201;&#32791;&#36153;&#26356;&#22810;&#30340;&#26381;&#21153;&#22120;&#36164;&#28304;&#12290;
   </span>
  </li>
 </ul>
 <p class="ne-p" id="u40e3b951">
  <br>
 </p>
 <h2 id="UCXn1">
  <span class="ne-text">
   &#21442;&#32771;
  </span>
 </h2>
 <p class="ne-p" id="u3b50acf3">
  <br>
 </p>
 <ul class="ne-ul">
  <li id="ud5fa1cbc">
   <span class="ne-text">
    Redis Sentinel &#23448;&#26041;&#25991;&#26723;&#65306;
   </span>
   <a class="ne-link" data-href="https://redis.io/topics/sentinel" href="https://redis.io/topics/sentinel" target="_blank">
    <span class="ne-text">
     https://redis.io/topics/sentinel
    </span>
   </a>
  </li>
  <li id="udf7341c0">
   <span class="ne-text">
    Replication vs Sharding. Sentinel vs Cluster&#65306;
   </span>
   <a class="ne-link" data-href="https://rtfm.co.ua/en/redis-replication-part-1-overview-replication-vs-sharding-sentinel-vs-cluster-redis-topology/" href="https://rtfm.co.ua/en/redis-replication-part-1-overview-replication-vs-sharding-sentinel-vs-cluster-redis-topology/" target="_blank">
    <span class="ne-text">
     https://rtfm.co.ua/en/redis-replication-part-1-overview-replication-vs-sharding-sentinel-vs-cluster-redis-topology/
    </span>
   </a>
  </li>
  <li id="ufd68ab64">
   <span class="ne-text">
    Redis Cluster &#23448;&#26041;&#25945;&#31243;&#65306;
   </span>
   <a class="ne-link" data-href="https://redis.io/topics/cluster-tutorial" href="https://redis.io/topics/cluster-tutorial" target="_blank">
    <span class="ne-text">
     https://redis.io/topics/cluster-tutorial
    </span>
   </a>
  </li>
  <li id="u79caffcc">
   <span class="ne-text">
    Redis Cluster &#23448;&#26041;&#20844;&#24320; PDF &#35762;&#20041;&#65306;
   </span>
   <a class="ne-link" data-href="https://redis.io/presentation/Redis_Cluster.pdf" href="https://redis.io/presentation/Redis_Cluster.pdf" target="_blank">
    <span class="ne-text">
     https://redis.io/presentation/Redis_Cluster.pdf
    </span>
   </a>
  </li>
 </ul>
</div>
</div>
</div>

        </body>
        
        